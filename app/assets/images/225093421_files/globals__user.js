(function(b){odesk.mediator=function(){return{isMediator:true,widgets:{},registerWidget:function(a,c){if(typeof a=="object"){for(var f in a)this.registerWidget(f,a[f]);return this}if(!c||!a)throw Error("key/widget cannot be null");if(!(c instanceof odesk.AbstractWidget))throw Error("widget must extend odesk.AbstractWidget");c.ctx.mediator=this;c.ctx.key=a;this.widgets[a]=c;return this},removeWidget:function(a){delete this.widgets[a];return this},publish:function(a){odesk.logger.say("published: "+
a);b(this).triggerHandler(a,Array.prototype.slice.call(arguments,1));return this},subscribe:function(a,c){b(this).bind(a,c);odesk.logger.say("subscribed: "+a);return this},unsubscribe:function(a,c){b(this).unbind(a,c);odesk.logger.say("unsubscribed: "+a);return this},destroyWidgets:function(){var a=this.widgets;for(var c in a)a[c].destroy();return this}}}()})(jQuery);(function(b){var a={},c,f={};odesk.Class=function(){var h=arguments[arguments.length-1];if(!h||h instanceof odesk.Class||typeof h!="object")h={};var e=arguments[0];if(!e||typeof e!="string")e="";var g=e?arguments[1]:arguments[0];if(g&&typeof g!="string"&&!(g.prototype instanceof odesk.Class))g=null;var i;if(g){i=typeof g=="string"?a[g]:g;if(!i){f[g]=arguments;odesk.logger&&odesk.logger.say("parent class: "+g+" not exists");return}}g=function(r,s,n,w){r[n]=typeof w=="function"?!r[n]||typeof r[n]!=
"function"||!s||!s.hasOwnProperty(n)?w:function(z,y){return function(){this._super=s[z];return y.apply(this,arguments)}}(n,w):typeof w=="object"&&s&&typeof s[n]=="object"?b.extend(true,{},s[n],w):w};var j=function(){for(var r in this){var s=this[r],n=Object.prototype.toString.call(s);this[r]=n=="[object Array]"?b.extend(true,[],s):n=="[object Object]"?b.extend(true,{},s):s}if(!c){this._create&&this._create.apply(this,arguments);this.init&&this.init.apply(this,arguments)}return this},m=e.split(".");
if(e){a[e]=j;for(var k=window,o=0,l=m.length-1;o<l;o++)k=k[m[o]];k[m[m.length-1]]=j}if(i){for(var q in i)j[q]=i[q];c=true;j.prototype=new i;c=false}else j.prototype=this;j.prototype.Class=j;j.prototype.constructor=j;for(q in h)if(h.hasOwnProperty(q)){k=h[q];if(q=="Static"){for(var p in k)g(j,i,p,k[p]);delete h[q]}g(j.prototype,i?i.prototype:null,q,k)}j.shortName=m[m.length-1];j.fullName=e;j.className=e;if(f[e]){new odesk.Class(f[e][0],f[e][1],f[e][2]);delete f[e]}return j}})(jQuery);odesk.abstractPageController=$.extend(true,{},odesk.mediator,{name:"pageController",config:odesk.pageConfig,getPageState:function(){var b={},a=this.widgets;for(var c in a)b[c]=a[c].getState();return b},init:$.noop,_registerPreLoadedWidgets:function(){var b=odesk.preLoadedWidgets;for(var a in b)this.registerWidget(a,b[a]);return this},initPageController:function(){$(window).bind("unload",$.proxy(function(){this.destroyWidgets()},this));this._registerPreLoadedWidgets().init();return this}});(function(b){new odesk.Class("odesk.AbstractWidget",{_create:function(){this.ctx={mediator:{publish:b.noop}};this.options=this.options||{};this.events={};var a=this.constructor.instance;this.name=this.constructor.shortName.replace(/^(.)/,function(c,f){return f.toLowerCase()})+(a||"");if(this.constructor.instance)this.constructor.instance++;else this.constructor.instance=1},init:b.noop,getState:b.noop,destroy:b.noop})})(jQuery);odesk.events=function(){return{makeMap:function(b,a){for(var c={},f=0,h=a.length;f<h;f++){var e=a[f];c[e]=e+"."+b}return c}}}();odesk.uuid=function(){var b=1;return{getUniqueId:function(){return b++}}}();odesk.env=function(){var b=odesk.pageConfig,a=b.ROOT||"";return{CONSOLE_ROOT:a,CONSOLE_ROOT_SECURE:a.replace(/^http:/,"https:"),COOKIE_PREFIX:b.COOKIE_PREFIX,COOKIE_DOMAIN:b.COOKIE_DOMAIN,API_ROOT:"/api/",GDS_ROOT:"/gds/",COMMUNITY_ROOT:a+"drupal/",HELPCMS_ROOT:b.HELPCMS_ROOT,TOP_HELP_TOPIC:b.TOP_HELP_TOPIC,URCHIN_ID:b.URCHIN_ID,USER_MAX_FILE_UPLOAD:b.USER_MAX_FILE_UPLOAD,DISABLE_GAET_TRACKING:false,KB_ARS_LOCATION:b.KB_ARS_LOCATION}}();jQuery.cookie=function(b,a,c){if(typeof a!="undefined"){c=c||{};if(a===null){a="";c.expires=-1}var f="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){if(typeof c.expires=="number"){f=new Date;f.setTime(f.getTime()+c.expires*24*60*60*1E3)}else f=c.expires;f="; expires="+f.toUTCString()}var h=c.path?"; path="+c.path:"",e=c.domain?"; domain="+c.domain:"";c=c.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(a),f,h,e,c].join("")}else{a=null;if(document.cookie&&document.cookie!=
""){c=document.cookie.split(";");for(f=0;f<c.length;f++){h=jQuery.trim(c[f]);if(h.substring(0,b.length+1)==b+"="){a=decodeURIComponent(h.substring(b.length+1));break}}}return a}};(function(b){var a=[],c=0,f={},h={fn:[],data:[]},e=function(){var k=a.shift();if(k&&k.fn==="inprogress")k=a.shift();if(k){k=k.fn;a.unshift({id:0,fn:"inprogress"});k.call(this)}},g=function(k){var o=k.type||b.ajaxSettings.type;k.data&&typeof k.data.perf!="undefined"&&delete k.data.perf;var l=typeof k.data=="string"?k.data:b.param(k.data||{});return o+k.url+l},i=function(k,o,l,q,p,r){if(!(!p||p.status===0)){var s=g(r);if(!f[s]&&l&&l.server_time&&odesk.date){odesk.date.serverTime=l.server_time*1E3;odesk.date.browserTime=
new Date}if(r.cacheResponse&&!f[s])f[s]={id:[r.id],status:p.status,statusText:p.statusText,responseText:p.responseText,responseXML:p.responseXML,_successData:l};if(r.sync)h.data[r.syncPos].success=[l,q,p];else o.call(k,l,q,p)}},j=function(k,o,l,q,p){if(!l||l.status===0){status="abort";p.abort.call(k,l,status,p)}else{p.queue&&e.call(k);if(p.sync){k=h.fn;o=h.data;o[p.syncPos].complete=[l,q];k[p.syncPos].done=true;if(p.syncPos==0||!k[p.syncPos-1])for(l=p.syncPos;l<k.length&&k[l].done;l++){k[l].error&&
k[l].error.apply(b,o[l].error);k[l].success&&k[l].success.apply(b,o[l].success);k[l].complete&&k[l].complete.apply(b,o[l].complete);k[l]=null;o[l]=null}}else o.call(k,l,q)}},m=function(k){k.perf=k.perf||false;if(k.perf||b("div.dbg").length){k.data=k.data||{};k.data.perf=1;var o=k.success;k.success=function(l){o&&o.apply(this,arguments);if(l&&l.performance){var q=l.performance,p=k.url,r=b.template(null,'<div class="ws_dbg"><hr/>web service: ${webService}<br/><br/>branch: <b>${branch}</b> built on ${branchBuild}<br/>host: ${host}<br/><br/>total: ${totalTime}ms<br/>- rpc: ${rpcTime}ms (${(100*rpcTime/totalTime).toFixed()}%)<br/>- delta/php: ${phpTime}ms (${(100*phpTime/totalTime).toFixed()}%)<br/><br/><table class="dbg"><tr><th>Type</th><th>Module</th><th>Percent</th><th>Duration</th></tr><tr><td>WS</td><td>TOTAL</td><td></td><td>${rpcTime}ms</td></tr>{{each(i, api) apis}}<tr><td>${api.type}</td><td>${api.module}</td><td>${(api.duration*100/rpcTime).toFixed(1)}%</td><td>${api.duration}ms</td></tr>{{/each}}</table><br/><br/><a onclick="jQuery(\'#${detailsId}\').toggle(); return false;" href="#">details...</a><br/><div id="${detailsId}" style="display:none;"><table class="dbg"><tr><th>Type</th><th>Module</th><th>Params</th><th>Duration</th></tr><tr><td>WS</td><td>TOTAL</td><td></td><td>${rpcTime}ms</td></tr>{{each(i, api) apis}}<tr><td>${api.type}</td><td>${api.module}</td><td><pre>${odesk.string.obj2String(api.params)}</pre></td><td>${api.duration}ms</td></tr>{{/each}}</table></div></div>');
q={webService:p,branch:q.branch.tag,branchBuild:q.branch.build,host:q.host,totalTime:parseInt(q.runtime.substr(0,q.runtime.length-2),10),rpcTime:parseInt(q.log.total,10),phpTime:parseInt(q.php.substr(0,q.php.length-2),10),apis:q.log.apis,detailsId:"ws_performance_details_"+(new Date).getTime()};p=b("div.ws_dbg:last");if(p.length)b.tmpl(r,q).insertAfter(p);else{p=b("div.dbg:last");p.length?b.tmpl(r,q).insertAfter(p):b.tmpl(r,q).appendTo("body")}}}}};odesk.ajax=function(k){function o(y){b.each(k.rawValues,
function(F,K){s.push((new Function("data","try { return data."+K+"} catch(e){}"))(y))});s=b.extend(true,[],s)}function l(y){b.each(s,function(F,K){(new Function("data","value","try { data."+k.rawValues[F]+" = value } catch(e){}"))(y,K)})}function q(y){b.each(y,function(F,K){var t=typeof K;if(K&&"object"==t)q(K);else if("string"==t)y[F]=odesk.string.pxss(K)})}var p=k.complete||b.noop,r=k.success||b.noop,s=[],n=!!(k.rawValues&&k.rawValues.length&&k.rawValues[0]!=-1),w=!!(k.rawValues&&k.rawValues.length&&
k.rawValues[0]==-1);k.abort=k.abort||b.noop;k.success=function(y,F,K){n&&o(y);!w&&q(y);n&&l(y);i(this,r,y,F,K,k)};k.complete=function(y,F){j(this,p,y,F,k)};var z=g(k);if(k.cacheResponse&&f[z])setTimeout(function(){k.success.call(this,f[z]._successData,"success",f[z]);k.complete.call(this,f[z],"success")},0);else{m(k);b.ajax(k)}};b.extend(odesk.ajax,{addToQueue:function(k){var o=k.complete||b.noop,l=k.success||b.noop;k.abort=k.abort||b.noop;k.queue=true;k.id=++c;k.success=function(p,r,s){i(this,l,
p,r,s,k)};k.complete=function(p,r){j(this,o,p,r,k)};var q=a.length==0;a.push({id:k.id,fn:function(){var p=g(k);if(k.cacheResponse&&f[p]){f[p].id.push(k.id);setTimeout(function(){k.success.call(this,f[p]._successData,"success",f[p]);k.complete.call(this,f[p],"success")},0)}else{m(k);b.ajax(k)}}});q&&e();return k.id},removeFromQueue:function(k){for(var o=0;o<a.length;o++)if(a[o].id==k){a.splice(o,1);return true}return false},emptyQueue:function(){a=[];return true},ajaxSync:function(k){var o=h.fn,l=
h.data,q=o.length;o[q]={error:k.error,success:k.success,complete:k.complete,done:false};l[q]={error:[],success:[],complete:[]};k.error=function(){l[q].error=arguments};k.abort=k.abort||b.noop;k.sync=true;k.syncPos=q;var p=g(k);o=!!(k.cacheResponse&&f[p]);if(!o)k.id=++c;k.success=function(r,s,n){i(this,null,r,s,n,k)};k.complete=function(r,s){j(this,null,r,s,k)};if(o){setTimeout(function(){k.success.call(this,f[p]._successData,"success",f[p]);k.complete.call(this,f[p],"success")},0);o=f[p].id[0]}else{m(k);
b.ajax(k);o=k.id}return o},removeFromCache:function(k){for(var o in f)for(var l=0;l<f[o].id.length;l++)if(f[o].id[l]==k){delete f[o];return true}return false},emptyCache:function(){f={};return true}})})(jQuery);odesk.object=function(){return{getKeys:function(b){if(!(b instanceof Object))return[];var a=[];for(var c in b)a.push(c);return a},getValues:function(b){if(!(b instanceof Object))return[];var a=[];for(var c in b)a.push(b[c]);return a}}}();odesk.string=function(){return{nl2br:function(b){return b.replace(/\n/g,"<br />")},procEntity:function(b){return b.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\$/g,"&#36;")},decodeEntity:function(b){return b.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#36;/g,"$")},procXssEntity:function(b){return b.replace(/<(\/)?script[^>]?>/ig,"")},pxss:function(b){return this.procEntity(this.procXssEntity(b))},
escapeHTML:function(b){return $("<div>").html(b).text()},wordWrap:function(b,a,c){var f=RegExp("\\S{"+a+",}","gm"),h=b.toString();if(f=b.match(f)){for(var e,g=f.length;--g>=0;){e=0;b=[];do{b.push(f[g].substr(e,a));e+=a}while(e<f[g].length);h=h.replace(f[g],b.join(c||"\n"))}return h}return b},obj2String:function(b,a){var c=odesk.json.stringify(b);return a?a+c:c},substitute:function(b,a){return b.replace(/\{(.*?)\}/g,function(c,f){return a[f]!=null?a[f]:c})},groupDigits:function(b,a){a=$.extend({decimalSymbol:".",
digitGroupSymbol:",",groupDigits:true,round:-1,decimalZeros:0,errorValue:""},a);var c="";b=Number(b);if(isNaN(b))return a.errorValue;if(a.round>=0)b=odesk.math.roundToPrecision(b,a.round);var f=String(Math.floor(b)),h=String(b);if(f!==h){c=f.length+1;var e=h.length-c;if(a.round>=0&&e>a.round)e=a.round;c=h.substr(c,e)}for(;c.length>a.decimalZeros&&c.charAt(c.length-1)==="0";)c=c.substring(0,c.length-1);for(;c.length<a.decimalZeros;)c+="0";if(c.length)c=a.decimalSymbol+c;h=h.substring(0,f.length);if(a.groupDigits)for(f=
0;f<Math.floor((h.length-f-1)/3);f++){e=h.length-(4*f+3);h=h.substring(0,e)+a.digitGroupSymbol+h.substring(e)}return h+c},clearNumber:function(b){return parseFloat(String(b).replace(/\,/g,""))},floatToTime:function(b,a){var c=parseInt(b,10),f=0;f=a?Math.round(Math.round((parseFloat(b)-c)*60/10)*10):Math.round((parseFloat(b)-c)*60);if(f==60){f=0;c++}return this.groupDigits(c)+":"+("00"+f).slice(-2)},fmtSize:function(b){if(typeof b!="integer")b=parseInt(b,10);var a;if(b>1024&&b<10485760){b=Math.round(b/
1024);a="Kb"}else if(b>=10485760){b=Math.round(b/1048576);a="Mb"}else{b=b||0;a="b"}return b+a},cutStr:function(b,a,c){return(b||"").length>a?b.substr(0,a)+(c||"&hellip;"):b},capitalize:function(b,a){if(typeof b!=="string")return"";a=a||" ";b=b.toLowerCase();for(var c=b.split(a),f=c.length,h=[],e=0;e<f;e++)h.push(c[e].substring(0,1).toUpperCase()+c[e].substring(1));return h.join(a)},sprintf:function(){for(var b=0,a,c=arguments[b++],f=[],h,e,g;c;){if(h=/^[^\x25]+/.exec(c))f.push(h[0]);else if(h=/^\x25{2}/.exec(c))f.push("%");
else if(h=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:[\.](\d+))?([b-ftosuxX])/.exec(c)){a=arguments[h[1]||b++];if(a==null)throw"Too few arguments.";if(/[^s]/.test(h[7])&&typeof a!="number")throw"Expecting number but found "+typeof a;switch(h[7]){case "b":a=a.toString(2);break;case "c":a=String.fromCharCode(a);break;case "d":a=parseInt(a,10);break;case "e":a=h[6]?a.toExponential(h[6]):a.toExponential();break;case "f":a=h[6]?parseFloat(a).toFixed(h[6]):parseFloat(a);break;case "t":e=parseInt(a,10);
a=(parseFloat(a)-e).toFixed(h[6])*100;a=zlead(e,h[3])+":"+zlead(a,h[6]);break;case "o":a=a.toString(8);break;case "s":a=(a=String(a))&&h[6]?a.substring(0,h[6]):a;break;case "u":a=Math.abs(a);break;case "x":a=a.toString(16);break;case "X":a=a.toString(16).toUpperCase();break}a=/[def]/.test(h[7])&&h[2]&&a>0?"+"+a:a;e=h[3]?h[3]=="0"?"0":h[3].charAt(1):" ";g=h[5]-String(a).length;e=h[5]?str_repeat(e,g):"";f.push(h[4]?a+e:e+a)}c=c.substring(h[0].length)}return f.join("")},escapeRegExp:function(b){return b.replace(/[\$\(\)\{\}\|\-\+\^\*\?\.\/\\]/g,
"\\$&")},accurateCut:function(b,a){if(b.length>a){var c,f,h=b.length;for(c=f=a;;)if(!(b.charAt(c).match(/\w/)&&++c<h))break;for(;;)if(!(b.charAt(f).match(/\w/)&&--f>0))break;if(c<b.length||f>0)return(c-a>a-f?b.substr(0,f):b.substr(0,c))+"&hellip;";else if(c==b.length&&f==0)return odesk.string.cutStr(b,a);else if(c==b.length&&f>0)return b.substr(0,f)+"&hellip;";else if(c<b.length&&f==0)return b.substr(0,c)+"&hellip;"}else return b},formatTeaser:function(b,a){var c=b.length>a;if(c)b=b.substr(0,a);b=
this.procEntity(b).replace(/[ ]{2}/g,"&nbsp;&nbsp;").replace(/&nbsp; /g,"&nbsp;&nbsp;");if(c)b+="&nbsp;&hellip;";return b},formatAmount:function(b){return parseFloat(b.replace(/[\,\-](\d\d)$/,".$1").replace(/[\'\.\,\s](\d{3})/,"$1"))||0}}}();odesk.timers=function(){var b={},a=0,c=function(f,h){if(b[f]){b[f].func.apply(null,b[f].arg||[]);if(!h&&b[f].loop)b[f].id=setTimeout(function(){c(f)},b[f].timeout);else b[f].loop===undefined&&delete b[f]}};return{add:function(f,h,e,g,i,j){var m=i||a++;b[m]={id:setTimeout(function(){c(m)},f),func:h,arg:e,loop:g,timeout:f};j&&c(m);return m},restart:function(f,h,e){if(b[f]){clearTimeout(b[f].id);b[f].id=setTimeout(function(){c(f)},b[f].timeout);if(h===false||h)b[f].func=h||null;b[f].arg=e||null;return f}return false},
refine:function(f,h,e){if(b[f]){clearTimeout(b[f].id);b[f].id=setTimeout(function(){c(f)},b[f].timeout=h);e!=undefined&&(b[f].loop=e);return true}return false},stop:function(f){b[f]&&clearTimeout(b[f].id);delete b[f];return true}}}();odesk.logger={disabled:false,say:function(b,a,c){if(odesk.logger.disabled)return false;if(a)switch(typeof a){case "array":odesk.logger.say(b+" (array:"+a.length+")["+a.join(",")+"]",c);break;case "object":odesk.logger.say(b+" (object){");!c&&(c=0);for(var f in a)!a[f]instanceof Object&&!a[f]instanceof Array&&odesk.logger.say(f+": "+a[f],null,c+3)||odesk.logger.say(f,a[f],c+3);odesk.logger.say("}");break;default:odesk.logger.say(b+": ("+typeof a+")"+a,null,c);break}else{if(c)for(f=c;--f>=0;)b=" "+
b;console.say&&console.say(b)||console.log(b)}},error:function(b){this.disabled?alert(b):console.error(b)}};if(typeof console=="undefined")console={log:function(){},error:function(){},say:function(){}};odesk.array=function(){return{obj2Array:function(b){return b instanceof Array?b:[b]},shuffle:function(b){for(var a,c,f=b.length;f;a=parseInt(Math.random()*f),c=b[--f],b[f]=b[a],b[a]=c);return b}}}();(function(b){odesk.date=function(){var a=function(c,f){if(typeof c!="string")c=!c?"0":c.toString();for(;c.length<(f||2);)c="0"+c;return c};return{defaultFormat:"%d/%m/%Y",serverTime:odesk.pageConfig.SERVER_TIME||(new Date).getTime(),browserTime:new Date,now:function(c){c=(c||0)*1;return new Date(this.serverTime+(new Date-this.browserTime)+c)},utcToLocal:function(c){return new Date(c.getTime()+c.getTimezoneOffset()*6E4)},localToUtc:function(c){return new Date(c.getTime()-c.getTimezoneOffset()*6E4)},
getDayName:function(c,f){return f?b.datepicker.regional[""].dayNamesShort[c.getUTCDay()]:b.datepicker.regional[""].dayNames[c.getUTCDay()]},getMonthName:function(c,f){return f?b.datepicker.regional[""].monthNamesShort[c.getUTCMonth()]:b.datepicker.regional[""].monthNames[c.getUTCMonth()]},set:function(c,f){var h={year:"setUTCFullYear",month:"setUTCMonth",day:"setUTCDate",hour:"setUTCHours",minute:"setUTCMinutes",second:"setUTCSeconds",millisecond:"setUTCMilliseconds"},e={timezone:"setTimezone",timezoneOffset:"setTimezoneOffset",
week:"setWeek"};for(var g in f)if(e[g])c=this[e[g]](c,f[g]);else c[h[g]](f[g]);return c},moveToMonth:function(c,f,h){f=(f-c.getUTCMonth()+12*(h||+1))%12;return this.addMonths(c,f===0?f+=12*(h||+1):f)},moveToDayOfWeek:function(c,f,h){h||(h=1);f=(f-c.getUTCDay()+7*h)%7;return this.addDays(c,f===0?f+=7*h:f)},moveToFirstDayOfMonth:function(c){return this.set(c,{day:1})},moveToLastDayOfMonth:function(c){return this.set(c,{day:this.getDaysInMonth(c)})},isWeekend:function(c){c=c.getUTCDay();return c==0||
c==6},addDays:function(c,f){c.setUTCDate(c.getUTCDate()+f*1);return c},addWeeks:function(c,f){return this.addDays(c,f*7)},addMonths:function(c,f){var h=c.getUTCDate();c.setUTCDate(1);c.setUTCMonth(c.getUTCMonth()+f*1);c.setUTCDate(Math.min(h,this.getDaysInMonth(c)));return c},addYears:function(c,f){return this.addMonths(c,f*12)},clone:function(c){return new Date(c.getTime())},UTCDate:function(c,f,h,e,g,i,j,m){if(f&&!h&&!e){e=f.toString().match(/^(\d{4})(\d{2})(\d{2})$/);f=e[1];h=parseInt(e[2],10)-
1;e=e[3]}c.setUTCFullYear(f,h,e);g!=null&&c.setUTCHours(g);i!=null&&c.setUTCMinutes(i);j!=null&&c.setUTCSeconds(j);m!=null&&c.setUTCMilliseconds(m);return c},setWeek:function(c,f,h){h||(h=c.getUTCFullYear());c.setTime(0);c.setUTCFullYear(h);c.setUTCMonth(0);c.setUTCDate(1);c.setUTCDate(7*f-(c.getUTCDay()-2));return c},getWeek:function(c){return b.datepicker.iso8601Week(this.utcToLocal(c))},resetWeekDay:function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()==0?6:c.getUTCDay()-1));return c},resetMonth:function(c){c.setUTCMonth(0);
this.resetDate(c);return c},resetDate:function(c){c.setUTCDate(1);this.resetTime(c);return c},resetTime:function(c){c.setUTCHours(0);this.resetMinutes(c);return c},zeroTime:function(c){c.setUTCHours(0);c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c},resetMinutes:function(c){c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c},resetSeconds:function(c){c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c},setLastDateOfMonth:function(c){c.setUTCMonth(c.getUTCMonth()+
1);c.setUTCDate(0);return c},inc:function(c,f,h){if(typeof f!="string")f=f.toString();var e=f.match(/^(-|\+)?(\d+)([dwMyhtms])?$/);f=e[1]!="-"?+parseInt(e[2],10):-parseInt(e[2],10);switch(e[3]){case "d":c.setUTCDate(c.getUTCDate()+f);break;case "w":c.setUTCDate(c.getUTCDate()+7*f);break;case "m":c.setUTCMonth(c.getUTCMonth()+f);h&&this.resetDate(c);break;case "y":c.setUTCFullYear(c.getUTCFullYear()+f);h&&this.resetMonth(c,0);break;case "h":c.setUTCHours(c.getUTCHours()+f);h&&this.resetMinutes(c);
break;case "M":c.setTime(c.getTime()+f*6E4);break;case "s":c.setTime(c.getTime()+f*1E3);break;default:c.setTime(c.getTime()+f);break}return c},daysInMonth:function(c,f,h){return this.UTCDate(new Date,h||c.getUTCFullYear(),(f||c.getUTCMonth())+1,0).getUTCDate()},getDaysInMonth:function(c){return this.daysInMonth(c,c.getUTCMonth(),c.getUTCFullYear())},setTimezone:function(c,f){if(f&&typeof f!="number")f=parseInt(f,10);if(c.tzoffset=f){c.setTime(c.getTime()+f);c.setUTCMilliseconds(0)}return c},floor10:function(c){c.setUTCMinutes(Math.floor(c.getUTCMinutes()/
10)*10);return c},ceil10:function(c){c.setUTCMinutes(Math.ceil(c.getUTCMinutes()/10)*10);return c},formatTz:function(c,f){if(!c)return"UTC+00";var h=c>0?"+":"-";c=Math.abs(c);var e=Math.floor(c/1E3/60/60),g=c/1E3/60-e*60;return"UTC"+(c!=0?h+a(e,2)+(f&&!g?"":":"+a(g,2)):"+00")},parseDate:function(c,f){return this.localToUtc(b.datepicker.parseDate(f||"yymmdd",c))},formatDate:function(c,f){return b.datepicker.formatDate(f,this.utcToLocal(c))},sparse:function(c){var f=new Date;if(c instanceof Date){f.setTime(c.getTime());
if(c.tzoffset)f.tzoffset=c.tzoffset;return this}else if(typeof c!="string")if(c==null)return;else c=c.toString();if(c.match(/^now$/i))return f;var h=c.match(/^(\d{4})\-?(\d{2})\-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})Z$/);if(h){f.setUTCHours(h[4],h[5],h[6]);f.setUTCFullYear(h[1],h[2]-1,h[3])}else if(h=c.match(/^(\-?\d+)(u|m|s)$/)){f.setTime(0);switch(h[2]){case "m":f.setUTCMinutes(h[1]);break;case "s":f.setUTCSeconds(h[1]);break;case "u":f.setTime(h[1]+"000");break}}else if(h=c.match(/^\-?\d+$/))f.setTime(h[0]);
else if(h=c.match(/^(\d{1,2}):?(\d{2}):?(\d{2})?$/))f.setUTCHours(h[1],h[2]||0,h[3]||0);else if(h=c.match(/^(\d{4}).(\d{2}).(\d{2})|(\d{4})(\d{2})(\d{2})d|(\d{2}).(\d{2}).(\d{4})$/)){f.setUTCFullYear(h[1]||h[4]||h[9],(h[2]||h[5]||h[7])-1,h[3]||h[6]||h[8]);this.resetTime(f)}return f},format:function(c,f,h){var e,g,i="",j,m,k;if(h){if(typeof h!="number")h=parseInt(h,10);m=c.getTime();c.setTime(c.getTime()+h)}for(f||(f="%u");;){e=f.match(/(%[AbBYymdDHahIMsSrRuTtqlLwWfnzKE])/);if(!e)break;switch(e[1]){case "%Y":i=
c.getUTCFullYear();break;case "%y":i=c.getUTCFullYear().toString().substr(2);break;case "%m":i=a(c.getUTCMonth()+1,2);break;case "%d":i=a(c.getUTCDate(),2);break;case "%D":i=c.getUTCDate();break;case "%A":i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getUTCDay()];break;case "%b":i=["January","February","March","April","May","June","July","August","September","October","November","December"][c.getUTCMonth()];break;case "%B":i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getUTCMonth()];
break;case "%w":i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getUTCDay()];break;case "%W":i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getUTCDay()];break;case "%H":i=c.getTime()==864E5?"24":a(c.getUTCHours(),2);break;case "%q":i=a(Math.floor(c.getTime()/36E5));break;case "%a":i=c.getUTCHours()>11?"pm":"am";break;case "%h":i=(g=c.getUTCHours())>12?g-12:g==0?12:g;break;case "%I":i=a((g=c.getUTCHours())>12?g-12:g==0?12:g,2);break;case "%M":i=a(c.getUTCMinutes(),2);
break;case "%s":i=a(c.getUTCSeconds(),2);break;case "%S":i=c.getTime();break;case "%r":i=new Date;i.setTime(c.getTime());this.resetMinutes(i);i=i.getTime();break;case "%R":i=new Date;i.setTime(c.getTime());i.setUTCHours(c.getUTCHours()+(c.getUTCMinutes()>0?1:0),0,0);i=i.getTime();break;case "%T":i=new Date;i.setTime(c.getTime());i.setUTCMinutes(Math.floor(i.getUTCMinutes()/10)*10);i.setUTCSeconds(0);i=i.getTime();break;case "%t":i=new Date;i.setTime(c.getTime());this.ceil10(i);this.resetSeconds(i);
i=i.getTime();break;case "%u":i=c.getUTCFullYear()+a(c.getUTCMonth()+1,2)+a(c.getUTCDate(),2)+"T"+a(c.getUTCHours(),2)+a(c.getUTCMinutes(),2)+a(c.getUTCSeconds(),2)+"Z";break;case "%l":i=new Date;h&&i.setTime(i.getTime()+h);i.getTime();c.getTime();i=this.format(c,"%Y%m%d")==this.format(i,"%Y%m%d")?this.format(c,"%h:%M %a"):i.getUTCFullYear()==c.getUTCFullYear()?this.format(c,"%B %d"):this.format(c,"%m/%d/%Y");break;case "%K":k=this.clone(c);this.setTimezone(k,-(k.getTimezoneOffset()*6E4));case "%E":var o=
true;case "%L":var l;i=this.now();h&&i.setTime(i.getTime()+h);k||(k=c);l=Math.floor((i.getTime()-c.getTime())/1E3/60);switch(true){case this.format(c,"%Y%m%d")==this.format(i,"%Y%m%d"):switch(true){case l<=0:i="less than a minute ago";break;case l==1:i="a minute ago";break;case l<45:i=l+" minutes ago";break;case l<90:i="about an hour ago";break;default:i=(j=Math.floor(l/60))+" hour"+(j>1?"s":"")+" ago";break}i=o?this.format(k,"%h:%M%a ("+i+")"):i;break;case this.format(c,"%Y%m%d")==this.format(this.inc(this.clone(i),
"-1d"),"%Y%m%d")&&l<1440:i=(l>59?(j=Math.floor(l/60))+" hour"+(j>1?"s":""):l+" min")+" ago";i=o?"yesterday ("+i+")":i;break;case l<=43200&&i.getUTCFullYear()==c.getUTCFullYear():if(o){i=this.zeroTime(this.clone(i));l=this.zeroTime(this.clone(k));i=Math.floor((i.getTime()-l.getTime())/864E5)}else i=Math.floor(l/1440);i=i<2?"1 day ago":i+" days ago";i=o?this.format(k,"%B %D ("+i+")"):i;break;case l>43200&&l<525600:j=Math.floor(l/43200);i=j+" month"+(j>1?"s":"")+" ago";i=o?this.format(k,"%B %D ("+i+
")"):i;break;default:i=this.format(k,"%m/%d/%Y");break}break;case "%f":d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+6));i="";break;case "%n":i=this.getWeek(c,1);break;case "%z":i=this.formatTz(h||0);break;default:i="";break}e=RegExp(e[1]);f=f.replace(e,i)}h&&c.setTime(m);return f},getDayOfWeek:function(c){c=c.getUTCDay()-1;if(c<0)c=6;return c},getWeeks:function(c,f,h){var e=this.zeroTime(this.clone(c));f=this.zeroTime(this.clone(f));c=this.getDayOfWeek(e);var g=this.getDayOfWeek(f);if(h){if(c){this.moveToDayOfWeek(e,
1,-1);c=0}g!=6&&this.moveToDayOfWeek(f,0)}if(h&&c){this.moveToDayOfWeek(e,1,-1);c=0}h=6-c;c={labels:[],startDates:[],endDates:[]};g=false;for(e=this.clone(e);!g;){var i=this.clone(e);this.addDays(i,h);h=6;var j=this.formatDate(e,"M dd");if(i>=f){i=this.clone(f);g=true}var m=this.formatDate(i,"M dd"),k=j;if(m!=j)k+=this.formatDate(i,"M")==this.formatDate(e,"M")?" - "+this.formatDate(i,"dd"):" - "+this.formatDate(i,"M dd");c.labels.push(k);c.startDates.push(this.clone(e));c.endDates.push(this.clone(i));
e=i;this.addDays(e,1)}return c},getMonths:function(c,f){for(var h=[],e=[],g=this.addMonths(odesk.date.clone(c),0);this.formatDate(g,"yymm")<=this.formatDate(f,"yymm");){var i=this.formatDate(g,"M yy");h.push(i);e.push(this.parseDate(i+" 01","M yy dd"));g=this.addMonths(odesk.date.clone(g),1)}return{labels:h,startDates:e}},getDates:function(c,f){for(var h=[],e=[],g=this.addDays(odesk.date.clone(c),0);this.formatDate(g,"yymmdd")<=this.formatDate(f,"yymmdd");){h.push(this.formatDate(g,"mm/dd/y"));e.push(this.zeroTime(g));
g=this.addDays(odesk.date.clone(g),1)}return{labels:h,startDates:e}},parseTime:function(c){var f=0,h=c.match(/^(\d{1,2}):(\d{2})$/);if(h!=null)f=parseInt(h[1],10);else{h=c.match(/^(\d{1,2}):(\d{2})\s?(am|pm)$/i);if(h!=null){if(h[3].toLowerCase()=="pm")f=12;h[1]=parseInt(h[1],10);if(h[3]&&h[1]>12)f=h[1];f=h[1]<12?h[1]+f:parseInt(f,10)}}c=f*60+(h?parseInt(h[2],10):0);return new Date(c*6E4)}}}()})(jQuery);odesk.url=function(){return{parseQueryString:function(b,a){var c={};b.replace(/(?:^|&)([^&=]+)=?([^&]*)/g,function(f,h,e){h=decodeURIComponent(h.replace(/\+/g," "));e=decodeURIComponent(e.replace(/\+/g," "));if(a){f=h.indexOf("[");if(f!==-1){var g=h.substr(0,f),i=c;h.substr(f).replace(/\[([^\[]*)\]/g,function(j,m){i.hasOwnProperty(g)||(i[g]=m?{}:[]);if(!m)m=i[g].length;i=i[g];g=m});i[g]=e;return}}c[h]=e});return c},extractQueryParams:function(b){var a=[];b.replace(/(?:^|&)([^&=]+)=?([^&]*)/g,function(c,
f,h){a.push({name:decodeURIComponent(f.replace(/\+/g," ")),value:decodeURIComponent(h.replace(/\+/g," "))})});return a},parse:function(b){b=b||document.location.href;var a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","queryString","anchor"];b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b);
for(var c={},f=14;f--;)c[a[f]]=b[f]||"";c.queryParams=this.parseQueryString(c.queryString);c.query=c.queryString;return c},jobShowUrlFormat:function(b,a){var c=b.match(/[\w]{3,}/g)?b.match(/[\w]{3,}/g).join("-"):"";return c?c+"_"+a:a}}}();odesk.currency=function(){return{_generateRegex:function(b){if(b.symbol=="")return RegExp("[^\\d"+b.decimalSymbol+"-]","g");else{var a=b.symbol.replace("$","\\$").replace(".","\\.");return RegExp(a+"|[^\\d"+b.decimalSymbol+"-]","g")}},format:function(b,a){a=$.extend({symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",showZero:false,round:2,decimalZeros:2},a);if(isNaN(b)||b==0||b==="-"&&a.round===-1){if(!a.showZero)return"&nbsp;";b=0}var c=b>=0?a.positiveFormat:a.negativeFormat,f=odesk.string.groupDigits(Math.abs(b),
a);return c.replace(/%s/g,a.symbol).replace(/%n/g,f)},compactFormat:function(b){return this.format(b,{decimalZeros:0})}}}();odesk.json={parse:function(b){return jQuery.parseJSON(b)},stringify:function(){function b(j){return j<10?"0"+j:j}function a(j){f.lastIndex=0;return f.test(j)?'"'+j.replace(f,function(m){var k=g[m];return typeof k==="string"?k:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+j+'"'}function c(j,m){var k,o,l,q,p=h,r,s=m[j];if(s&&typeof s==="object"&&typeof s.toJSON==="function")s=s.toJSON(j);if(typeof i==="function")s=i.call(m,j,s);switch(typeof s){case "string":return a(s);case "number":return isFinite(s)?
String(s):"null";case "boolean":case "null":return String(s);case "object":if(!s)return"null";h+=e;r=[];if(Object.prototype.toString.apply(s)==="[object Array]"){q=s.length;for(k=0;k<q;k+=1)r[k]=c(k,s)||"null";l=r.length===0?"[]":h?"[\n"+h+r.join(",\n"+h)+"\n"+p+"]":"["+r.join(",")+"]";h=p;return l}if(i&&typeof i==="object"){q=i.length;for(k=0;k<q;k+=1){o=i[k];if(typeof o==="string")if(l=c(o,s))r.push(a(o)+(h?": ":":")+l)}}else for(o in s)if(Object.hasOwnProperty.call(s,o))if(l=c(o,s))r.push(a(o)+
(h?": ":":")+l);l=r.length===0?"{}":h?"{\n"+h+r.join(",\n"+h)+"\n"+p+"}":"{"+r.join(",")+"}";h=p;return l}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h,e,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;return window.JSON&&typeof JSON.stringify==="function"?JSON.stringify:function(j,m,k){var o;e=h="";if(typeof k==="number")for(o=0;o<k;o+=1)e+=" ";else if(typeof k==="string")e=k;if((i=m)&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number"))throw Error("JSON.stringify");return c("",{"":j})}}()};(function(b){var a={CACHE:"cache",SESSION:"session",PERSISTENT:"persistent",UNIMPORTANT_DATA:0,IMPORTANT_DATA:1,USER_CONTEXT_DATA:2,SERVER_DATA:4,_GARBAGE_COLLECTION_MAX_TTL:"1m",_GARBAGE_LPD_HOLDER:"###LPD",_GARBAGE_LPD_PERIOD:"7d",_SUP_STR_VALUE:1,_SUP_GARBAGE_COL:2,_SUP_GGARBAGE_COL:6,_SUP_SIZE_LIMIT:8,_STRG_STATUS_CREATED:1,_STRG_STATUS_INITIATED:2,_STRG_STATUS_READY:3,_STORAGE_SIZE_KEY:"###STS"},c=function(e,g,i,j,m){var k={LastAccess:e||(new Date).getTime(),LastUpdate:g||(new Date).getTime(),
ExpireType:i||0,TimeToLive:j||0,Flags:m||0,vSize:0,update:function(o,l,q,p,r){if(o)this.LastAccess=o;if(l)this.LastUpdate=l;if(q)this.ExpireType=q;if(p)this.TimeToLive=p;if(r)this.Flags=r},toString:function(){var o=["01",Math.floor((this.LastAccess-129384E7)/1E3).toString(16),Math.floor((this.LastUpdate-129384E7)/1E3).toString(16),this.ExpireType.toString(16),this.Flags.toString(16),this.vSize.toString(16)];switch(isFinite(this.TimeToLive)){case true:o.push("0"+Math.floor(Number(this.TimeToLive)/
1E3).toString(16));break;case false:var l=odesk.date.inc(new Date(0),this.TimeToLive).getTime();o.push("1"+(this.TimeToLive?l:0).toString(16));break}return o.join("x")},fromString:function(o){if(!o)return this;switch(o.substr(0,2)){case "01":var l=["LastAccess","LastUpdate","ExpireType","Flags","vSize","TimeToLive"],q=0,p=null;o=o.split("x");for(o.shift();;){p=o.shift();if(!p)break;switch(l[q]){case "TimeToLive":var r=p.substr(1);switch(p.substr(0,1)){case "0":r=Number("0x"+r)*1E3;break;case "1":r=
Number("0x"+r);break}break;case "LastAccess":case "LastUpdate":r=Number("0x"+p)*1E3+129384E7;break;default:r=Number("0x"+p);break}this[l[q++]]=r}break}return this}};arguments.length==1&&typeof e=="string"&&k.fromString(e);return k},f=function(){return{limit:null,support:0,db:null,storageName:null,status:a._STRG_STATUS_CREATED,_keySizes:{},init:function(){},initStorage:function(){var e=this.db.getItem(a._STORAGE_SIZE_KEY);e&&this.handleSizes&&this.handleSizes(Number(e));odesk.logger.say("odesk.storageManager: storage "+
this.storageName+" initiated, the storage used for "+Number(e))},storeSize:function(e){try{this.db.setItem(a._STORAGE_SIZE_KEY,e)}catch(g){}},makeKeyName:function(e,g){return g+":"+e},setKey:function(e,g){g.LastAccess=(new Date).getTime();var i=g.toString();this.db.setItem("#"+e,i);if(this.support&a._SUP_SIZE_LIMIT&&this._keySizes[e]!=i.length){this.handleSizes(this._keySizes[e]?this._keySizes[e]-i.length:i.length);this._keySizes[e]=i.length}},removeKey:function(e){this.db.removeItem("#"+e);if(this.support&
a._SUP_SIZE_LIMIT){this.handleSizes(-this._keySizes[e]);delete this._keySizes[e]}},key:function(e,g){e=e&&g?this.makeKeyName(e,g):e;var i=this.db.getItem("#"+e);if(this.support&a._SUP_SIZE_LIMIT&&i)this._keySizes[e]=i.length;return i&&(this.support&a._SUP_STR_VALUE)==a._SUP_STR_VALUE?new c(i):i},getItem:function(e,g){var i=this.makeKeyName(e,g),j=this.key(i),m=true;if(j==null)return null;m=h.isValid(j);if(typeof j=="object"&&j.ExpireType&&m||!j.ExpireType){m=this.db.getItem(i);this.setKey(i,j);if(m)try{return(this.support&
a._SUP_STR_VALUE)==a._SUP_STR_VALUE?odesk.json.parse(m):m}catch(k){}}else m||this.removeItem(e,g);return null},setItem:function(e,g,i,j,m,k){e=this.makeKeyName(e,g);g=this.key(e);if(g==null)g=new c(null,null,k,m,j)||g.update(null,null,k,m,j);i=(this.support&a._SUP_STR_VALUE)==a._SUP_STR_VALUE?odesk.json.stringify(i):i;if(this.support&(a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE)){this.handleSizes(i.length-g.vSize);g.vSize=i.length}try{this.db.setItem(e,i);g.LastUpdate=(new Date).getTime();this.setKey(e,g)}catch(o){}return true},
removeItem:function(e,g){var i=this.makeKeyName(e,g);if(this.support&(a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE)){var j=this.key(i);j&&this.handleSizes(-j.vSize)}this.db.removeItem(i);this.removeKey(i)},iterate:function(e,g){for(var i=RegExp("^#"+e+":(.*)$"),j,m,k=0;k<this.db.length;k++){j=this.db.key(k);m=j.match(i);if(j&&m){j=this.db.getItem(j);g(m[1],(this.support&a._SUP_STR_VALUE)==a._SUP_STR_VALUE?new c(j):j)}}},flush:function(e){e=RegExp("^#?"+(e||".+")+":(.*)$");for(var g=[],i,j,m=0;m<this.db.length;m++){i=
this.db.key(m);j=i.match(e);i&&j&&g.push(i)}for(;;){e=g.shift();if(!e)break;this.db.removeItem(e)}},globalGarbageCollector:function(e,g){var i=(new Date).getTime(),j=0,m=this.db.getItem(a._GARBAGE_LPD_HOLDER),k=[],o=odesk.date.sparse(Number("0x"+m)+129384E7);if(!(m&&odesk.date.inc(o,a._GARBAGE_LPD_PERIOD).getTime()>i||g)){for(var l,q=this.db.length;--q>=0;){o=this.db.key(q);if(!o.match(/^#{3}/)){m=this.db.getItem(o);j+=m.length;if(o.match(/^#/)&&(l=new c(m))&&(!h.isValid(l)||i-l.LastAccess>a._GARBAGE_COLLECTION_MAX_AGE||
e&&(l.Flags&a.IMPORTANT_DATA)!=a.IMPORTANT_DATA))k.push(o)}}try{this.db.setItem(a._GARBAGE_LPD_HOLDER,i.toString(16))}catch(p){}for(this.storeSize(j);;){o=k.shift();if(!o)break;l=o.match(/^#(\w+):(.*)$/);this.removeItem(l[2],l[1])}}},garbageCollector:function(e,g){for(var i=(new Date).getTime(),j=[],m,k,o=this.db.length;--o>=0;){k=this.db.key(o);if(!k.match(/^#{3}/)){m=this.db.getItem(k);m=new c(m);if(k.match(/^#/)&&m&&(!h.isValid(m)||i-m.LastAccess>a._GARBAGE_COLLECTION_MAX_AGE||g&&(m.Flags&a.IMPORTANT_DATA)!=
a.IMPORTANT_DATA))j.push(k)}}for(;;){k=j.shift();if(!k)break;m=k.match(/^#(\w*):(.*)$/);this.removeItem(m[2],m[1])}}}},h=function(){var e=[],g=[];return{isValid:function(i){return e[i.ExpireType]?e[i.ExpireType](i):true},update:function(i,j,m){g[i.ExpireType]&&g[i.ExpireType](i,j,m)},register:function(i,j,m){var k=e.length,o=function(l,q,p){l.LastUpdate=(new Date).getTime();l.TimeToLive=q||l.TimeToLive||null;l.ExpireType=p||l.ExpireType||null;return l};a[i]=k;g[k]=j instanceof Function?j:j=="std"?
o:null;e[k]=m||null;if(!a.ET_CHECK)a.ET_CHECK={};a.ET_CHECK["check::"+k]=true},supported:function(i){return a.ET_CHECK?a.ET_CHECK["check::"+i]:false}}}();odesk.storageManager=function(){function e(o,l){if(!i[o]){var q=j[o];q=q.length?q.sort():null;if(!q)throw"odesk.storageManager your browser doesn't support "+o+" storage...";q=q[0].split(":")[1];i[o]=new b.extend({},f(),m[q].obj);i[o].TTL=m[q].TTL;i[o].ET=m[q].ET;i[o].storageName=q;i[o].init&&i[o].init();if((i[o].support&a._SUP_SIZE_LIMIT)==a._SUP_SIZE_LIMIT){k[o]=
0;i[o].handleSizes=function(p){if(k[o]+p>i[o].limit)throw"odesk.storageManager."+o+" exceed size limit";k[o]+=p;i[o].storeSize(k[o]);return true}}i[o].initStorage(l)}(i[o].support&a._SUP_GGARBAGE_COL)==a._SUP_GGARBAGE_COL&&i[o].globalGarbageCollector();i[o].status=a._STRG_STATUS_READY;return true}function g(o,l,q,p,r,s){if(!j[l])throw"odesk.storageManager: storage type "+l+" is not supported";m[o]={obj:s,TTL:p,ET:r};j[l].push(q+":"+o)}var i={},j={persistent:[],session:[],cache:[],qcache:[],sessionCache:[]},
m={},k={};return{cnst:function(){return a},init:function(){var o=odesk.pageConfig;g(a.CACHE,a.CACHE,5,null,null,{init:function(){this.support=a._SUP_GARBAGE_COL},initStorage:function(){if(!this.db)this.db={}},key:function(p,r){return this.db[r]&&this.db[r][p]?this.db[r][p].key:null},setItem:function(p,r,s,n,w,z){this.db[r]||(this.db[r]={});n=this.db[r][p]?this.db[r][p].key:new c(null,null,z,w,n);n.LastUpdate=(new Date).getTime();this.db[r][p]={key:n,value:s}},getItem:function(p,r){var s=this.key(p,
r),n=true;if(s==null)return null;n=h.isValid(s);if(s.ExpireType&&n||!s.ExpireType){this.db[r][p].key.LastUpdate=(new Date).getTime();return this.db[r][p].value}else n||this.removeItem(p,r);return null},removeItem:function(p,r){delete this.db[r][p]},iterate:function(p,r){for(var s in this.db[p])r(s,this.db[p][s].key)}});if(window.sessionStorage)try{odesk.logger.say("odesk.storageManager: sessionStorage supported");g(a.SESSION,a.SESSION,5,null,null,{init:function(){this.support=a._SUP_GGARBAGE_COL|
a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE;this.limit=5242880},initStorage:function(){this.db=window.sessionStorage;f().initStorage.call(this)}})}catch(l){odesk.logger.say("odesk.storageManager: sessionStorage initializing error")}if(window.localStorage)try{odesk.logger.say("odesk.storageManager: localStorage supported");g(a.PERSISTENT,a.PERSISTENT,5,null,null,{init:function(){this.support=a._SUP_GGARBAGE_COL|a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE;this.limit=5242880},initStorage:function(){this.db=window.localStorage;
f().initStorage.call(this)}})}catch(q){odesk.logger.say("odesk.storageManager: localStorage initializing error")}g("cookies-sess",a.SESSION,9,null,null,{init:function(){this.limit=4096;this.support=a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE},initStorage:function(){},setItem:function(p,r,s){b.cookie(o.COOKIE_PREFIX+p+"-"+r,odesk.json.stringify(s),{domain:o.COOKIE_DOMAIN,path:"/"})},getItem:function(p,r){var s=b.cookie(o.COOKIE_PREFIX+p+"-"+r);if(s!=null)try{s=odesk.json.parse(s)}catch(n){}return s},removeItem:function(p,
r){b.cookie(o.COOKIE_PREFIX+p+"-"+r,null,{domain:o.COOKIE_DOMAIN,path:"/"})}});g("cookies-pers",a.PERSISTENT,9,90,null,{init:function(){this.limit=4096;this.support=a._SUP_SIZE_LIMIT|a._SUP_STR_VALUE},initStorage:function(){},setItem:function(p,r,s,n,w){b.cookie(o.COOKIE_PREFIX+p+"-"+r,odesk.json.stringify(s),{domain:o.COOKIE_DOMAIN,path:"/",expires:w})},getItem:function(p,r){var s=b.cookie(o.COOKIE_PREFIX+p+"-"+r);if(s!==null)try{s=odesk.json.parse(s)}catch(n){}return s},removeItem:function(p,r){b.cookie(o.COOKIE_PREFIX+
p+"-"+r,null,{domain:o.COOKIE_DOMAIN,path:"/"})}})},expireTypes:h,proxy:function(o,l,q){var p=odesk.pageConfig;return this.isSupported(o)&&e(o,l)?new (function(){return{get:function(r,s){return(s&a.SERVER_DATA)==a.SERVER_DATA?b.cookie(p.COOKIE_PREFIX+r):i[o].getItem(r,l)},set:function(r,s,n,w,z){if(s==undefined)return this;if((n&a.SERVER_DATA)==a.SERVER_DATA){n={domain:p.COOKIE_DOMAIN,path:"/"};if(o==a.PERSISTENT)n.expires=w||q||3600;b.cookie(p.COOKIE_PREFIX+r,s,n)}else i[o].setItem(r,l,s,n,w,z);
return this},kill:function(r,s){(s&a.SERVER_DATA)==a.SERVER_DATA?b.cookie(p.COOKIE_PREFIX+r,"",{domain:p.COOKIE_DOMAIN,path:"/",expires:-1}):i[o].removeItem(r,l);return this},iterate:function(r){i[o].iterate(l,r);return this},flush:function(){i[o].flush(l)},logout:function(){var r=[];i[o].iterate(l,function(n,w){(w.Flags&a.USER_CONTEXT_DATA)==a.USER_CONTEXT_DATA&&r.push(n)});for(var s=r.length;--s>=0;)i[o].removeItem(r[s],l)},driverName:function(){return i[o].storageName},isLimitedStorage:function(){return!!i[o].storageName.match(/cookie/)},
garbageCollector:function(r){i[o].garbageCollector(l,r)},length:function(){return i[o].db.length}}}):null},isSupported:function(o){return!!j[o]},registerExpireType:function(o,l,q){h.register(o,l,q)},clearUserContext:function(){for(var o in i)_storage[o].logout()}}}();odesk.storageManager.init();odesk.storageManager.registerExpireType("NO_EXPIRE",null,null);odesk.storageManager.registerExpireType("DEADLINE_EXPIRE","std",function(e){return odesk.date.sparse(e.TimeToLive).getTime()>(new Date).getTime()});
odesk.storageManager.registerExpireType("TTL_EXPIRE","std",function(e){return odesk.date.inc(new Date(e.LastUpdate),e.TimeToLive).getTime()>(new Date).getTime()});odesk.persistentStorage=odesk.storageManager.proxy(odesk.storageManager.cnst().PERSISTENT,"");odesk.sessionStorage=odesk.storageManager.proxy(odesk.storageManager.cnst().SESSION,"")})(jQuery);odesk.gaManager=function(){var b=[];b.push(["_setAccount",odesk.env.URCHIN_ID]);b.push(["_setDomainName",".odesk.com"]);b.push(["_trackPageview",odesk.url.parse().relative]);b.push(["_trackPageLoadTime"]);$LAB.script(("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js").wait(function(){if(!(odesk.env.DISABLE_GAET_TRACKING||!odesk.pageConfig.GA)){var a=odesk.pageConfig.GA,c=_gat._getTracker(odesk.env.URCHIN_ID);c._setDomainName(".odesk.com");a.showSiteSpeedCode&&
c._trackPageLoadTime();$.cookie(odesk.env.COOKIE_PREFIX+"recognized")==1&&c._setCustomVar(1,"visitor-type","recognized",2);a.inTeam&&c._setVar("o_ga_ignore");var f=window.location.pathname,h=window.location.search,e=escape(window.location.hash);if(a.showActivationParams&&a.showSignupConversionCode)h+=(h.length?"&":"?")+("o_action=activated&o_utype="+(a.showSignupConversionCode=="BS"?"e":"c"));if(a.urchinReqUri)c._trackPageview(a.urchinReqUri);else{a=odesk.storageManager.proxy(odesk.storageManager.cnst().PERSISTENT,
"");if(f=="/teamroom/"){h="";e="%23"+(a.get("teamroom-view_mode")?a.get("teamroom-view_mode"):"grid")}if(f=="/workdiary/"){h="";e="%23"+(a.get("wd-view")=="list"?"list":"thumbnail")}c._trackPageview(f+h+e)}}});jQuery(".gaet-tracking").live("click",function(){var a,c=["_trackEvent"],f=jQuery(this);(a=f.attr("gaet-category"))&&c.push(a)&&(f.attr("gaet-action")||(a="click"))&&c.push(a)&&(a=f.attr("gaet-label"))&&c.push(a)&&(a=f.attr("gaet-value"))&&c.push(a);odesk.logger.say("trackEvent:async",c);c.length>
1&&b.push(c);return true});return{}}();(function(b){new odesk.Class("odesk.DataSource",{init:function(a){if(this.data=a)this.records=this.read(a);this.rows=[];this.columnTotals={};this.groupTotals={}},getField:function(a,c){return new (c=="number"?odesk.DataSource.NumberField:c=="date"?odesk.DataSource.DateField:odesk.DataSource.Field)(a)},read:function(a){var c=[];if(!a.table||!a.table.cols||!a.table.cols.length||!a.table.rows||!a.table.rows.length)return c;var f=this.readFields(a);a=a.table.rows;for(var h=0,e=a.length;h<e;h++){for(var g=
a[h],i={},j=0,m=g.c.length;j<m;j++){var k=g.c[j],o=f[j].clone();i[o.name]=o;o.set(k.v)}if(i.team_name&&i.team_id&&!i.team_name.value)i.team_name.value=i.team_id.value;c.push(i)}return c},readFields:function(a){var c=[];if(!a.table||!a.table.cols||!a.table.cols.length)return c;a=a.table.cols;for(var f=0,h=a.length;f<h;f++){var e=a[f];c.push(this.getField(e.label,e.type))}return c},getColumnValue:function(a,c){return b.isFunction(c)?c(a):a[c]?a[c].value:[]},getUniqueRecordValues:function(a){for(var c=
[],f=0,h=this.records.length;f<h;f++){var e=this.getColumnValue(this.records[f],a);b.inArray(e,c)==-1&&c.push(e)}c.sort();return c},getFilteredRecordset:function(a){for(var c=[],f=0,h=this.records.length;f<h;f++){var e=this.records[f];a(e)&&c.push(e)}return c},getColumnMappedRecordset:function(a){for(var c=this,f=this.getUniqueRecordValues(a),h={},e=0,g=f.length;e<g;e++){var i=f[e];h[i]=this.getFilteredRecordset(function(j){return i===c.getColumnValue(j,a)})}return h},getUniqueRowValues:function(a){for(var c=
[],f=0,h=this.rows.length;f<h;f++){var e=this.rows[f];if(b.isFunction(a))e=a(e);else{if(a>=e.length)return[];e=e[a].value}b.inArray(e,c)==-1&&c.push(e)}c.sort();return c},createRows:function(a){a=b.extend({},{columns:[],rowFilter:function(){return true}},a);this.rows=[];for(var c=0,f=this.records.length;c<f;c++){var h=this.records[c];if(a.rowFilter(h)){for(var e=[],g=0,i=a.columns.length;g<i;g++){var j=a.columns[g],m=this.getField(j.name,j.type);for(var k in j.valueFunctions)m[k]=j.valueFunctions[k](h);
e.push(m)}this.rows.push(e)}}},sortRecords:function(a){this.records.sort(function(c,f){for(var h=0,e=0,g=a.length;e<g;e++){var i=a[e];h=i.name;var j=i.isDescending||false;i=i.isNullInfinity||false;var m=c[h].value;h=f[h].value;h=m==h?0:!m?i?1:-1:!h?i?-1:1:m>h?1:-1;if(j)h*=-1;if(h)break}return h})},sortRows:function(a){this.rows.sort(function(c,f){for(var h=0,e=0,g=a.length;e<g;e++){var i=a[e];h=c[i].value.constructor===Date?c[i].value.getTime():c[i].value;i=f[i].value.constructor===Date?f[i].value.getTime():
f[i].value;if(h=h==i?0:h>i?1:-1)return h}return h})},tagWeekData:function(a){a=b.extend({},{type:"week",dateField:"worked_on",startDate:new Date,endDate:new Date},a);for(var c=odesk.date.getWeeks(a.startDate,a.endDate,true),f=0,h=this.records.length;f<h;f++){for(var e=this.records[f],g=c.startDates.length-1,i=0,j=c.startDates.length;i<j;i++)if(e[a.dateField].value<c.startDates[i]){g=i-1;break}e[a.dateField].weekNumber=g;e[a.dateField].weekStartDate=c.startDates[g];e[a.dateField].weekLabel=c.labels[g]}return c},
tagDate:function(a){a=b.extend({},{type:"week",dateField:"worked_on",startDate:new Date,endDate:new Date},a);var c=odesk.date[a.type=="week"?"getWeeks":a.type=="month"?"getMonths":"getDates"](a.startDate,a.endDate,true);if(a.hideEmpty)var f=[];for(var h=0,e=this.records.length;h<e;h++){for(var g=this.records[h],i=c.startDates.length-1,j=0,m=c.startDates.length;j<m;j++)if(g[a.dateField].value<c.startDates[j]){i=j-1;break}g[a.dateField][a.type+"Number"]=i;g[a.dateField][a.type+"StartDate"]=c.startDates[i];
g[a.dateField][a.type+"Label"]=c.labels[i];if(a.hideEmpty&&(g[a.hideEmpty].value||isNaN(g[a.hideEmpty].value))&&b.inArray(i,f)==-1)f.push(i)}if(a.hideEmpty){f.sort(function(o,l){return o>l?1:-1});g={};for(var k in c)g[k]=[];h=0;for(e=f.length;h<e;h++)for(k in c)g[k].push(c[k][f[h]]);c=g;h=0;for(e=this.records.length;h<e;h++){g=this.records[h];i=c.startDates.length-1;j=0;for(m=c.startDates.length;j<m;j++)if(g[a.dateField].value<c.startDates[j]){i=j-1;break}g[a.dateField][a.type+"Number"]=i;g[a.dateField][a.type+
"StartDate"]=c.startDates[i];g[a.dateField][a.type+"Label"]=c.labels[i]}}return c},pivot:function(a,c){var f,h,e,g;a=b.extend({},{type:c=="weeks"?"week":c=="months"?"month":c=="dates"?"date":"",labels:null,values:null,dateField:"worked_on"},a);if(a.type)var i=this.range=this.tagDate(a);var j={};this.rows=[];f=0;for(e=this.records.length;f<e;f++){var m=this.records[f],k="";h=0;for(g=a.labels.length;h<g;h++){label=a.labels[h];k+=label.labelFunction(m)}o=j[k];if(!o){var o=[];j[k]=o;o.labelCombo=k;this.rows.push(o);
h=0;for(g=a.labels.length;h<g;h++){label=a.labels[h];k=this.getField(label.name,"string");k.set(this.getColumnValue(m,label.labelFunction));o.push(k);if(label.labelValues)for(l in label.labelValues)o[h][l]=label.labelValues[l](m)}g=i?i.labels.length:7;for(h=0;h<g;h++){k=this.getField("value","number");k.set(0);for(var l in a.values)k[l]=0;o.push(k)}}h=a.type?m[a.dateField][a.type+"Number"]:m[a.dateField].dayOfWeek();k=o[h+a.labels.length];for(l in a.values){o=a.values[l](m);if(typeof o=="number")k[l]+=
o;else k[l]=o}}this.rows.sort(function(q,p){if(q.labelCombo==p.labelCombo)return 0;return q.labelCombo>p.labelCombo?1:-1});return this},pivotWeeks:function(a){return this.pivot(a,"weeks")},pivotWeekDays:function(a){return this.pivot(a,"weekDays")},addTotalColumn:function(a,c){if(!this.rows.length)return this;for(var f=0,h=this.rows.length;f<h;f++){var e=this.rows[f],g=this.getField(a,"number");g.set(0);for(var i in c){for(var j=c[i],m=0,k=0,o=e.length;k<o;k++)m+=j(e[k]);g[i]=m}e.push(g)}return this},
getColumnTotals:function(a){if(!this.rows.length)return[];columnTotals=[];for(var c=this.rows[0].length,f=0;f<c;f++){var h=this.getField("columnTotal","number");h.set(0);columnTotals.push(h);if(this.rows[0][f].dataType=="number")for(var e=0,g=this.rows.length;e<g;e++){var i=this.rows[e];if(!a||a(i,i[f]))h.value+=parseFloat((Math.round((i[f].value||0)*100)/100).toFixed(2))}}return columnTotals},calculateColumnTotals:function(){this.columnTotals=this.getColumnTotals();return this},calculateTotalsForCustomGroups:function(a){for(var c=
this.getUniqueRowValues(a),f=0,h=c.length;f<h;f++){var e=c[f];this.groupTotals[e]=this.getColumnTotals(function(g){return a(g)==e})}return this},calculateGroupTotals:function(a){return this.calculateTotalsForCustomGroups(function(c){for(var f=[],h=0;h<=a;h++)c[h].value&&f.push(""+c[h].value);return f.join(";")})}});new odesk.Class("odesk.DataSource.Field",{init:function(a,c,f){this.label=this.name=a;this.dataType=c||"string";this.set(f)},clone:function(){for(var a=new this.constructor,c=["name","dataType",
"value","label"],f=0,h=c.length;f<h;f++){var e=c[f];a[e]=this[e]}return a},set:function(a){this.value=a;return this}});new odesk.Class("odesk.DataSource.DateField","odesk.DataSource.Field",{Static:{format:"yymmdd"},init:function(a,c){this._super(a,"date",c)},set:function(a){this.value=typeof a=="string"?odesk.date.parseDate(a,this.constructor.format):a;return this},dayOfWeek:function(){return odesk.date.getDayOfWeek(this.value)}});new odesk.Class("odesk.DataSource.DateTimeField","odesk.DataSource.Field",
{Static:{format:"yymmdd"},init:function(a,c){this._super(a,"dateTime",c)},set:function(a){var c=typeof a;this.value=c=="string"?odesk.date.parseDate(a,this.constructor.format):c=="number"?new Date(a):a;return this},dayOfWeek:odesk.DataSource.DateField.prototype.dayOfWeek});new odesk.Class("odesk.DataSource.NumberField","odesk.DataSource.Field",{init:function(a,c){this._super(a,"number",c)},set:function(a){this.value=parseFloat(a);return this},toHours:function(){return odesk.string.floatToTime(this.value,
true)},toMoney:function(){return odesk.currency.format(this.value)}});new odesk.Class("odesk.DataSource.Query",{init:function(a){this.params=a;this.urlTemplate=null;this.urlFragments=[];this.selectStatement=null;this.conditions=[];this.orderStatement=null},setUrlTemplate:function(a){this.urlTemplate=a;return this},addUrlFragment:function(a){this.urlFragments.push(a);return this},addSelectStatement:function(a){if(!a||!a.length)return this;this.selectStatement="SELECT "+a.join(",");return this},addCondition:function(a,
c,f){this.conditions.push(c+" "+a+" '"+f+"'");return this},addSortStatement:function(a){this.orderStatement=" ORDER BY "+a.join(",");return this},get:function(){var a={},c,f;for(c in this.params)a[c]=escape(this.params[c]);var h=odesk.string.substitute(this.urlTemplate||"",a);c=0;for(f=this.urlFragments.length;c<f;c++){var e=odesk.string.substitute(this.urlFragments[c],a);if(e.indexOf("{")==-1)h+=e}if(this.selectStatement){e=this.selectStatement;var g=[];c=0;for(f=this.conditions.length;c<f;c++){var i=
this.conditions[c];i=odesk.string.substitute(i,a);i.indexOf("{")==-1&&g.push(i)}if(g.length)e+=" WHERE "+g.join(" AND ");if(this.orderStatement)e+=this.orderStatement;h+="?tq="+escape(e)}return h}})})(jQuery);odesk.dataTableHelper={renderField:function(b){return b.row[b.columnIndex].value?b.row[b.columnIndex].value.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},renderUrl:function(b,a,c,f,h,e){var g="";for(var i in c)g+=(g.length?"&":"?")+i+"="+(e?c[i]:escape(c[i]));if(e)g=g.replace(/^\?/,"#");return'<a class="'+(f||"")+(h?" helpNeeded":"")+'"'+(h?' title="'+h+'"':"")+' href="'+a+g+'">'+(b||"")+"</a>"},formatHoursField:function(b,a){return odesk.dataTableHelper.formatHours(b.row[b.columnIndex].value,a)},
formatChargesField:function(b){return odesk.dataTableHelper.formatCharges(b.row[b.columnIndex].value)},formatChargesAbsField:function(b){return odesk.dataTableHelper.formatChargesAbs(b.row[b.columnIndex].value)},formatChargesInvField:function(b){return odesk.dataTableHelper.formatChargesInv(b.row[b.columnIndex].value)},formatHours:function(b,a){if(b==0&&!a)return"";return odesk.string.floatToTime(b,true)},formatCharges:function(b){if(isNaN(b))return'<span class="notAvailable">N/A</span>';return odesk.currency.format(b)},
formatChargesAbs:function(b){if(isNaN(b))return'<span class="notAvailable">N/A</span>';return odesk.currency.format(Math.abs(b))},formatChargesInv:function(b){if(isNaN(b))return'<span class="notAvailable">N/A</span>';return odesk.currency.format(b,{positiveFormat:"-%s%n",negativeFormat:"%s%n"})}};(function(){var b=navigator.userAgent.toLowerCase(),a=function(h){return b.indexOf(h)!=-1},c=document.getElementsByTagName("html")[0],f=!/opera|webtv/i.test(b)&&/msie (\d)/.test(b)?"ie ie"+RegExp.$1:a("gecko/")?"gecko":a("opera/9")?"opera opera9":/opera (\d)/.test(b)?"opera opera"+RegExp.$1:a("konqueror")?"konqueror":a("applewebkit/")?"webkit safari":a("mozilla/")?"gecko":"";a=a("x11")||a("linux")?" linux":a("mac")?" mac":a("win")?" win":"";f=f+a+" js";c.className+=c.className?" "+f:f})();odesk.math=function(){return{feesFromCharge:function(b,a){if(typeof a=="undefined"||a==null)a=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT;var c=this.roundToPrecision(this.roundToPrecision(b,2)*this.roundToPrecision(1-a/100,2),2);return this.roundToPrecision(this.roundToPrecision(b,2)-c,2)},feesFromCost:function(b,a){if(typeof a=="undefined"||a==null)a=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT;return this.roundToPrecision(this.roundToPrecision(100*this.roundToPrecision(b,2)/(100-a),2)-this.roundToPrecision(b,
2),2)},costFromCharge:function(b,a){if(typeof a=="undefined"||a==null)a=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT;return this.roundToPrecision(this.roundToPrecision(b,2)*this.roundToPrecision(1-a/100,2),2)},chargeFromCost:function(b,a){if(typeof a=="undefined"||a==null)a=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT;return this.roundToPrecision(100*this.roundToPrecision(b,2)/(100-a),2)},roundToPrecision:function(b,a){var c=Math.pow(10,a||0);return Math.round(b*c)/c}}}();odesk.logging={log:function(b,a,c,f,h,e,g,i){this.logEvent(b,a,c,f,h,e,g,true,i)},logSync:function(b,a,c,f,h,e,g,i){this.logEvent(b,a,c,f,h,e,g,false,i)},logCustomData:function(b,a,c,f,h){this._logCustomDataEvent(b,a,c,f,true,h)},logCustomDataSync:function(b,a,c,f,h){this._logCustomDataEvent(b,a,c,f,false,h)},logEvent:function(b,a,c,f,h,e,g,i,j){b={event:b,location:a,sublocation:c,timestamp:(new Date).getTime(),data:[{type:f,id:h,indexed:e,position:g}]};if(typeof j!=="undefined")b.qt_allocation=j;
this._sendLoggingData(b,i)},_logCustomDataEvent:function(b,a,c,f,h,e){b={event:b,location:a,sublocation:c,timestamp:(new Date).getTime()};b.data=[];if(f!==null)b.data=f;if(typeof e!=="undefined")b.qt_allocation=e;this._sendLoggingData(b,h)},_sendLoggingData:function(b,a){var c=odesk.json.stringify(b);odesk.ajax({url:odesk.env.API_ROOT+"o2/v1/logging/"+odesk.pageConfig.AUSER.uid,type:"POST",async:a,timeout:3E3,data:{data:c}})}};var adroll_adv_id=odesk.pageConfig.ADROLL_ADV_ID,adroll_pix_id=odesk.pageConfig.ADROLL_PIX_ID,__adroll_loaded=true;odesk.remarketing=function(){if(odesk.pageConfig.GA)$LAB.script((document.location.protocol=="https:"?"https://s":"http://a")+".adroll.com/j/roundtrip.js")}();new odesk.Class("odesk.Object",{init:function(b,a,c){this.reference=c||null;this.name=a||null;this.id=b||null},toString:function(){return this.getDisplayName()},getDisplayName:function(){if(this.id==0)return this.name;return this.name+" ("+this.id+")"},setDisplayName:function(b){this.name=b.replace(" ("+this.id+")","")},makeParams:function(b){var a={};a[b+"Id"]=this.id;a[b+"Reference"]=this.reference;a[b+"Name"]=this.name;return a}});new odesk.Class("odesk.Timeline",{init:function(b,a,c){a?odesk.date.clone(a):odesk.date.now();this.timeType=b;this.setStartDate(a);if(this.timeType=="range")this.setEndDate(c?odesk.date.clone(c):odesk.date.now())},setStartDate:function(b){b=b?odesk.date.clone(b):odesk.date.now();switch(this.timeType){case "month":this.startDate=b;odesk.date.moveToFirstDayOfMonth(this.startDate);this.endDate=odesk.date.clone(this.startDate);odesk.date.moveToLastDayOfMonth(this.endDate);break;case "week":odesk.date.getDayOfWeek(b)>
0&&odesk.date.moveToDayOfWeek(b,1,-1);this.startDate=b;this.endDate=odesk.date.clone(b);odesk.date.addDays(this.endDate,6);break;case "range":this.startDate=b;if(!this.endDate||this.endDate<this.startDate)this.endDate=odesk.date.clone(this.startDate);break;default:this.startDate=b;this.endDate=odesk.date.clone(b)}return this},setEndDate:function(b){if(this.timeType=="range"){this.endDate=b?odesk.date.clone(b):odesk.date.now();if(this.startDate>this.endDate)this.startDate=this.endDate}else this.setStartDate(b);
return this},makeParams:function(b){var a={};a[b+"StartDate"]=odesk.date.formatDate(this.startDate,"yy-mm-dd");a[b+"EndDate"]=odesk.date.formatDate(this.endDate,"yy-mm-dd");return a},getDisplayName:function(b){b=b?"M":"MM";var a="";if(this.timeType=="month")a=odesk.date.formatDate(this.startDate,b+" yy");else if(this.timeType=="week"||this.timeType=="range"){a=odesk.date.formatDate(this.startDate,"dd "+b+" yy");if(this.endDate>this.startDate)a+=" - "+odesk.date.formatDate(this.endDate,"dd "+b+" yy")}else a=
odesk.date.formatDate(this.startDate,"dd "+b+" yy");return a},getDisplayNameWithAbbreviations:function(){return this.getDisplayName(true)}});new odesk.Class("odesk.Model",{makeParams:function(){var b={};for(var a in this){var c=this[a];if(c)if(typeof c.makeParams=="function"){c=c.makeParams(a);for(var f in c){var h=c[f];if(h&&h!="0"&&typeof h!="function")b[f]=h}}else if(c&&c!="0"&&typeof c!="function")b[a]=c}return b}});(function(b){new odesk.Class("odesk.AuthUser","odesk.Object",{defaultFilters:{roles:[],permissions:[],companyReference:null,engagementReference:null,appliesTo:{company:"any",team:"self"}},init:function(a,c,f,h,e){this.firstName=c||"";this.lastName=f||"";this._super(a,this.firstName+" "+this.lastName);this.timezone=h;this.timezoneOffset=e;this.companies=[];this.roles=[]},addRole:function(a){for(var c,f=-1,h=0,e=this.roles.length;h<e;h++){var g=this.roles[h];if(a.team==g.team&&a.authUser.id==g.authUser.id){c=
g;f=h;break}}c?this.roles.splice(f,1,a):this.roles.push(a);this.getCompanyByReference(a.team.company.reference)||this.companies.push(a.team.company);return this},_sortByName:function(a,c){var f=a.name.toLowerCase(),h=c.name.toLowerCase();return f<h?-1:f>h?1:a.name>c.name?1:-1},_processRule:function(a,c,f){var h=0,e=0;a.team.walk(function(g){e++;var i=f(g);i&&h++;if(a.team.id==g.id||c.team=="self"){if(g.hidden&&i)g.hidden=false}else g.hidden=a.team.hidden});if(c.company=="all"&&h==e||c.company=="any"&&
h>0)a.hidden=false;else if(c.company=="self")a.hidden=a.team.hidden},filterRoles:function(a,c){if(!c||!c.roles||!c.roles.length)return this;this._processRule(a,c.appliesTo,function(f){for(var h=0,e=c.roles.length;h<e;h++)if(b.inArray(c.roles[h],f.roles)!=-1)return true;return false});return this},filterPermissions:function(a,c){if(!c||!c.permissions.length)return this;this._processRule(a,c.appliesTo,function(f){for(var h=0,e=c.permissions.length;h<e;h++)if(b.inArray(c.permissions[h],f.permissions)!=
-1)return true;return false});return this},filterEngagement:function(a,c){if(!c||!c.engagementReference)return this;this._processRule(a,c.appliesTo,function(f){var h=false;return h=c.engagementReference=="__exists__"?!!f.engagementReference:f.engagementReference==c.engagementReference});return this},filterHasTeamRoomAccess:function(a,c){if(!c||!c.hasTeamRoomAccess)return this;this._processRule(a,c.appliesTo,function(f){return!!f.hasTeamRoomAccess});return this},companyHasFlavor:function(a,c){c.companyReference=
a;var f=this.getCompanies(c),h=false;if(f.length)h=!f[0].hidden;return h},teamHasFlavor:function(a,c){for(var f=this.getCompanies(c),h=0,e=f.length;h<e;h++){var g=f[h].team.findTeamByReference(a);if(g)return!g.hidden}return false},getFilters:function(a){a=b.extend(true,{},this.defaultFilters,a);a.defaultHidden=a.roles.length!=0||a.permissions.length!=0||!!a.engagementReference||a.hasTeamRoomAccess;return a},getCompanies:function(a){var c=[];a=this.getFilters(a);for(var f=0,h=this.companies.length;f<
h;f++){var e=this.companies[f];if(!(a.companyReference&&a.companyReference!=e.reference)){e=e.createCopy();c.push(e);e.hidden=a.defaultHidden;e.filterTeams(this,a)}}return c.sort(this._sortByName)},getVisibleTeams:function(a){for(var c=[],f=0,h=a.team.teams.length;f<h;f++){var e=a.team.teams[f];e.isHidden!=1&&!e.hidden&&c.push(e)}c.sort(this._sortByName);a.team.hidden||c.unshift(a.team);return c},getCompany:function(a){for(var c=0,f=this.companies.length;c<f;c++){var h=this.companies[c];if(h.id==
a)return h}return null},getCompanyByReference:function(a){for(var c=0,f=this.companies.length;c<f;c++){var h=this.companies[c];if(h.reference==a)return h}return null},getTeam:function(a){for(var c=0,f=this.companies.length;c<f;c++){var h=this.companies[c].team.findTeam(a);if(h)return h}return null}});odesk.AuthUser.Flavors={manager:{roles:["admin","manager"]},recruiter:{permissions:["manage_recruiting"]},affiliate:{permissions:["manage_affiliation"]},recruiterOrAffiliate:{permissions:["manage_affiliation",
"manage_employment"]},hiring:{permissions:["manage_employment"]},engaged:{engagementReference:"__exists__"},teamAdmin:{roles:["admin"]},companyAdmin:{roles:["admin"],appliesTo:{company:"self",team:"self"}},member:{}}})(jQuery);(function(b){new odesk.Class("odesk.Team","odesk.Object",{init:function(a,c,f,h,e){this._super(a,c,f);this.company=h;this.parentTeam=e||h.team?h.team:null;this.teams=[];this.roles=[];this.permissions=[];this.isHidden=this.engagementReference=null;this.parentTeam&&this.parentTeam.addTeam(this)},addTeam:function(a){if(this==a)return this;b.inArray(a,this.teams)==-1&&this.teams.push(a);return this},_walkTree:function(a){var c=this.teams.length+1,f,h;f=0;for(h=this.teams.length;f<h;f++)a.nodeFilter(this.teams[f])||
c--;if(!c)return true;a.nodeBegin(this,c);if(!a.visitNode(this))return false;f=0;for(h=this.teams.length;f<h;f++)a.nodeFilter&&this.teams[f]._walkTree(a);a.nodeComplete(this);return true},walkTree:function(a){a=b.extend({},{nodeFilter:function(){return true},treeBegin:function(){},visitNode:function(){},nodeBegin:function(){},nodeComplete:function(){},treeComplete:function(){}},a);if(a.nodeFilter(this)){a.treeBegin();if(!this._walkTree(a))return false;a.treeComplete()}},walk:function(a){a(this);for(var c=
0,f=this.teams.length;c<f;c++)this.teams[c].walk(a);return this},sortTeams:function(){this.teams.sort();for(var a=0,c=this.teams.length;a<c;a++)this.teams[a].sortTeams();return this},createCopy:function(a,c){var f=new odesk.Team(this.id,this.name,this.reference,a,c);f.roles=this.roles;f.permissions=this.permissions;f.affiliationStatus=this.affiliationStatus;f.engagementReference=this.engagementReference;f.isHidden=this.isHidden;f.hasTeamRoomAccess=this.hasTeamRoomAccess;for(var h=0,e=this.teams.length;h<
e;h++)f.addTeam(this.teams[h].createCopy(a,this));return f},findTeam:function(a){if(this.id==a)return this;for(var c=0,f=this.teams.length;c<f;c++){var h=this.teams[c].findTeam(a);if(h)return h}return null},findTeamByReference:function(a){if(this.reference==a)return this;for(var c=0,f=this.teams.length;c<f;c++){var h=this.teams[c].findTeamByReference(a);if(h)return h}return null}})})(jQuery);new odesk.Class("odesk.Company","odesk.Object",{init:function(b,a,c,f){this._super(b,a,c);this.team=new odesk.Team(b,f,c,this);this.roles=[];this.permissions=[]},sort:function(){this.team.sortTeams();return this},filterTeams:function(b,a){a=b.getFilters(a);this.team.walk(function(c){c.hidden=a.defaultHidden});b.filterRoles(this,a).filterPermissions(this,a).filterEngagement(this,a).filterHasTeamRoomAccess(this,a);return this},createCopy:function(){var b=new odesk.Company(this.id,this.name,this.reference,
this.team.name);b.roles=this.roles;b.permissions=this.permissions;b.team.roles=this.team.roles;b.team.permissions=this.team.permissions;b.team.engagementReference=this.team.engagementReference;b.team.isHidden=this.team.isHidden;b.team.hasTeamRoomAccess=this.team.hasTeamRoomAccess;for(var a=0,c=this.team.teams.length;a<c;a++)b.team.addTeam(this.team.teams[a].createCopy(b,b.team));return b}});(function(b){new odesk.Class("odesk.UserRole",{init:function(a,c,f,h,e){this.authUser=a;this.team=c;this.roleName=f;this.permissions=h||[];this.authUser.addRole(this);if(e){c.hasTeamRoomAccess=e.has_team_room_access=="1";c.engagementReference=e.engagement__reference;c.affiliationStatus=e.affiliation_status;c.isOwner=e.is_owner}b.inArray(f,c.roles)==-1&&c.roles.push(f);b.inArray(f,c.company.roles)==-1&&c.company.roles.push(f);f=0;for(h=this.permissions.length;f<h;f++){e=this.permissions[f];if(e===
"manage_affiliation")a.isAffiliateManager=true;b.inArray(e,c.permissions)==-1&&c.permissions.push(e);b.inArray(e,c.company.permissions)==-1&&c.company.permissions.push(e)}}})})(jQuery);(function(b){new odesk.Class("odesk.Bank",{findByRoutNo:function(a,c,f){var h=this;delete this.info;odesk.ajax({url:odesk.env.API_ROOT+"finance/v1/banks/"+(c?c+"/":"")+a+".json",success:function(e){h.info=e.bank;if(!h.info.bank_rout_no)for(a in h.info)h.info=h.info[a]},complete:function(){f=f||b.noop;f.call(h,a,h)}})},toHtml:function(){return!this.info?"":"<strong>"+this.info.name+"</strong>"+b.map([this.info.address,this.info.address1,this.info.address2,this.info.address3],function(a){return a||
null}).join(", ").replace(/(.+)/,"<br/>$1")+b.map([this.info.city,this.info.district!="-"?this.info.district:"",this.info.state!=this.info.city?this.info.state:"",this.info.zip!="-"?this.info.zip:"",this.info.country],function(a){return a||null}).join(", ").replace(/(.+)/,"<br/>$1")}})})(jQuery);(function(b){new odesk.Class("odesk.Currencies",{findBySwift:function(a,c,f,h){var e=this;delete this.info;odesk.ajax({url:odesk.env.API_ROOT+"finance/v1/currencies/"+a+".json",rawValues:[-1],success:function(g){e.info=b.map(g.currencies||[],function(i){if((!f||i.payment_method==f)&&(!h||i.currency_code==h))return i})},complete:function(){c=c||b.noop;c.call(e,a,e)}})},getAdditionalElements:function(a){var c=odesk.json.parse(a.additional_codes)||[];return b(c).map(function(f,h){if(h.is_formula!=1){var e=
b("<dt>",{text:h.title+":"}),g=b("<dd>").append(b("<input>",{id:a.currency_code+"_"+h.id,name:a.currency_code+"_"+h.id,value:h["default"],maxlength:h.max_length,size:35}));h.is_required&&e.addClass("required");h.description&&g.append(b("<span>",{title:h.description,style:"margin-left:.3em;"}).addClass("helpTip"));return e.add(g).attr("currency",a.currency_code).toArray()}})}})})(jQuery);(function(b){odesk.AuthServices={_createCompany:function(a){if(a.parent_team__reference==a.company__reference)var c=a.parent_team__id,f=a.parent_team__name;c=new odesk.Company(c,a.company__name,a.company__reference,f);c.team.isHidden=a.team__is_hidden;return c},_createTeam:function(a,c){if(!a.reference)a.reference=c.user__reference;var f=null,h=a.getTeam(c.parent_team__id);if(h)f=h.company;else{(f=a.getCompanyByReference(c.company__reference))||(f=this._createCompany(c));if(f.id!=c.parent_team__id){h=
new odesk.Team(c.parent_team__id,c.parent_team__name,c.parent_team__reference,f);f.team.addTeam(h)}}f=c.parent_team__id==c.team__id?f.team:new odesk.Team(c.team__id,c.team__name,c.team__reference,f,h);f.engagementReference=c.engagement__reference;f.affiliationStatus=c.affiliation_status;f.isHidden=c.team__is_hidden;if(f.user__is_provider)a.isProvider=true;if(f.affiliationStatus!=="none")a.isContractor=true;if(f.affiliationStatus==="exclusive")a.isExclusive=true;return f},_createRole:function(a,c){if(!b.trim(c.company__reference))return null;
var f=a.getTeam(c.team__id)||this._createTeam(a,c),h=c.permissions.permission?odesk.array.obj2Array(c.permissions.permission):[];return new odesk.UserRole(a,f,c.role,h,c)},updateRoles:function(a,c){var f,h;if(c.userroles){if(c.userroles.userrole.length){f=0;for(h=c.userroles.userrole.length;f<h;f++)this._createRole(a,c.userroles.userrole[f])}else this._createRole(a,c.userroles.userrole);a.companies.sort(a._sortByName);f=0;for(h=a.companies.length;f<h;f++)a.companies[f].sort()}},getAuthUserAndRoles:function(a,
c){var f=this;a=a||b.noop;c=c||b.noop;odesk.ajax({url:odesk.env.API_ROOT+"hr/v2/userroles.json",rawValues:[-1],success:function(h,e){var g=new odesk.AuthUser(h.auth_user.uid,h.auth_user.first_name,h.auth_user.last_name,h.auth_user.timezone,h.auth_user.timezone_offset);f.updateRoles(g,h);if(!g.isProvider){if(!h.user){c("User not found");return}g.isProvider=parseInt(h.user.isProvider,10)==1?true:false;g.reference=h.user.reference}a(g,e)},error:c})}}})(jQuery);(function(b){var a,c,f,h=b.document;if(typeof BOOMR==="undefined")BOOMR={};if(!BOOMR.version){BOOMR.version="0.9";a={beacon_url:"",site_domain:b.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",events:{page_ready:[],page_unload:[],before_beacon:[]},vars:{},disabled_plugins:{},fireEvent:function(g,i){var j,m,k;if(!this.events.hasOwnProperty(g))return false;k=this.events[g];for(j=0;j<k.length;j++){m=k[j];m[0].call(m[2],i,m[1])}return true},addListener:function(g,i,j,
m){if(g.addEventListener)g.addEventListener(i,j,m);else g.attachEvent&&g.attachEvent("on"+i,j)}};c={utils:{getCookie:function(g){if(!g)return null;g=" "+g+"=";var i,j;j=" "+h.cookie+";";if((i=j.indexOf(g))>=0){i+=g.length;return j.substring(i,j.indexOf(";",i))}return null},setCookie:function(g,i,j,m,k,o){var l="",q,p="";if(!g)return false;for(q in i)if(i.hasOwnProperty(q))l+="&"+encodeURIComponent(q)+"="+encodeURIComponent(i[q]);l=l.replace(/^&/,"");if(j){p=new Date;p.setTime(p.getTime()+j*1E3);p=
p.toGMTString()}i=g+"="+l;j=i+(j?"; expires="+p:"")+(m?"; path="+m:"")+(typeof k!=="undefined"?"; domain="+(k!==null?k:a.site_domain):"")+(o?"; secure":"");if(i.length<4E3){h.cookie=j;return l===this.getCookie(g)}return false},getSubCookies:function(g){var i,j,m,k={};if(!g)return null;g=g.split("&");if(g.length===0)return null;i=0;for(j=g.length;i<j;i++){m=g[i].split("=");m.push("");k[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return k},removeCookie:function(g){return this.setCookie(g,{},
0,"/",null)},pluginConfig:function(g,i,j,m){var k,o=0;if(!i||!i[j])return false;for(k=0;k<m.length;k++)if(typeof i[j][m[k]]!=="undefined"){g[m[k]]=i[j][m[k]];o++}return o>0}},init:function(g){var i,j,m=["beacon_url","site_domain","user_ip"];g||(g={});for(i=0;i<m.length;i++)if(typeof g[m[i]]!=="undefined")a[m[i]]=g[m[i]];if(typeof g.log!=="undefined")this.log=g.log;if(!this.log)this.log=function(){};for(j in this.plugins)if(g[j]&&typeof g[j].enabled!=="undefined"&&g[j].enabled===false)a.disabled_plugins[j]=
1;else{a.disabled_plugins[j]&&delete a.disabled_plugins[j];this.plugins.hasOwnProperty(j)&&typeof this.plugins[j].init==="function"&&this.plugins[j].init(g)}if(typeof g.autorun==="undefined"||g.autorun!==false)a.addListener(b,"load",function(){a.fireEvent("page_ready")});a.addListener(b,"unload",function(){b=null});return this},page_ready:function(){a.fireEvent("page_ready");return this},subscribe:function(g,i,j,m){var k,o,l;if(!a.events.hasOwnProperty(g))return this;l=a.events[g];for(k=0;k<l.length;k++){o=
l[k];if(o[0]===i&&o[1]===j&&o[2]===m)return this}l.push([i,j||{},m||null]);if(g==="page_unload"){a.addListener(b,"unload",function(){i&&i.call(m,null,j);i=m=j=null});a.addListener(b,"beforeunload",function(){i&&i.call(m,null,j);i=m=j=null})}return this},addVar:function(g,i){if(typeof g==="string")a.vars[g]=i;else if(typeof g==="object"){var j;for(j in g)if(g.hasOwnProperty(j))a.vars[j]=g[j]}return this},removeVar:function(){var g,i;if(!arguments.length)return this;i=arguments.length===1&&Object.prototype.toString.apply(arguments[0])===
"[object Array]"?arguments[0]:arguments;for(g=0;g<i.length;g++)a.vars.hasOwnProperty(i[g])&&delete a.vars[i[g]];return this},sendBeacon:function(){var g,i,j=0;for(g in this.plugins)if(this.plugins.hasOwnProperty(g))if(!a.disabled_plugins[g])if(!this.plugins[g].is_complete())return this;a.fireEvent("before_beacon",a.vars);if(!a.beacon_url)return this;i=a.beacon_url+"?v="+encodeURIComponent(BOOMR.version);for(g in a.vars)if(a.vars.hasOwnProperty(g)){j++;i+="&"+encodeURIComponent(g)+"="+encodeURIComponent(a.vars[g])}if(j){g=
new Image;g.src=i}return this}};var e=function(g){return function(i,j){this.log(i,g,"boomerang"+(j?"."+j:""));return this}};c.debug=e("debug");c.info=e("info");c.warn=e("warn");c.error=e("error");if(b.YAHOO&&b.YAHOO.widget&&b.YAHOO.widget.Logger)c.log=b.YAHOO.log;else if(typeof b.Y!=="undefined"&&typeof b.Y.log!=="undefined")c.log=b.Y.log;else if(typeof console!=="undefined"&&typeof console.log!=="undefined")c.log=function(g,i,j){console.log(j+": ["+i+"] ",g)};for(f in c)if(c.hasOwnProperty(f))BOOMR[f]=
c[f];BOOMR.plugins=BOOMR.plugins||{}}})(window);
(function(b){var a=b.document;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var c={complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,start:function(){var f,h=(new Date).getTime();if(!BOOMR.utils.setCookie(c.cookie,{s:h,r:a.URL.replace(/#.*/,"")},c.cookie_exp,"/",null)){BOOMR.error("cannot set start cookie","rt");return this}f=(new Date).getTime();if(f-h>50){BOOMR.utils.removeCookie(c.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+h+" -> "+f,"rt")}return this}};
BOOMR.plugins.RT={init:function(f){c.complete=false;c.timers={};BOOMR.utils.pluginConfig(c,f,"RT",["cookie","cookie_exp","strict_referrer"]);BOOMR.subscribe("page_ready",this.done,null,this);BOOMR.subscribe("page_unload",c.start,null,this);return this},startTimer:function(f){if(f){c.timers[f]={start:(new Date).getTime()};c.complete=false}return this},endTimer:function(f,h){if(f){c.timers[f]=c.timers[f]||{};if(typeof c.timers[f].end==="undefined")c.timers[f].end=typeof h==="number"?h:(new Date).getTime()}return this},
setTimer:function(f,h){if(f)c.timers[f]={delta:h};return this},done:function(){var f,h,e,g,i,j={t_done:1,t_resp:1,t_page:1},m=0,k,o,l=[];if(c.complete)return this;this.endTimer("t_done");h=a.URL.replace(/#.*/,"");e=g=a.referrer.replace(/#.*/,"");i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(c.cookie));BOOMR.utils.removeCookie(c.cookie);if(i!==null&&typeof i.s!=="undefined"&&typeof i.r!=="undefined"){e=i.r;if(!c.strict_referrer||e===g)f=parseInt(i.s,10)}if(!f){BOOMR.warn("start cookie not set, trying WebTiming API",
"rt");if((i=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance)&&i.timing)o=i.timing;else if(b.chrome&&b.chrome.csi)o={requestStart:b.chrome.csi().startE};if(o)f=o.requestStart||o.fetchStart||o.navigationStart||undefined;else BOOMR.warn("This browser doesn't support the WebTiming API","rt")}BOOMR.removeVar("t_done","t_page","t_resp","u","r","r2");for(k in c.timers)if(c.timers.hasOwnProperty(k)){o=c.timers[k];if(typeof o.delta!=="number"){if(typeof o.start!=="number")o.start=f;o.delta=
o.end-o.start}if(!isNaN(o.delta)){j.hasOwnProperty(k)?BOOMR.addVar(k,o.delta):l.push(k+"|"+o.delta);m++}}if(m){BOOMR.addVar({u:h,r:e});g!==e&&BOOMR.addVar("r2",g);l.length&&BOOMR.addVar("t_other",l.join(","))}c.timers={};c.complete=true;BOOMR.sendBeacon();return this},is_complete:function(){return c.complete}}})(window);(function(b){function a(t,u,v,x){x={data:x||(u?u.data:{}),_wrap:u?u._wrap:null,tmpl:null,parent:u||null,nodes:[],calls:j,nest:m,wrap:k,html:o,update:l};t&&b.extend(x,t,{nodes:[],parent:u});if(v){x.tmpl=v;x._ctnt=x._ctnt||x.tmpl(b,x);x.key=++y;(K.length?n:s)[y]=x}return x}function c(t,u,v){var x;v=v?b.map(v,function(C){return typeof C==="string"?t.key?C.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+p+'="'+t.key+'" $2'):C:c(C,t,C._ctnt)}):t;if(u)return v;v=v.join("");v.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(C,H,L,Q){x=b($("<div>").appendTo(document.body).html(L).detach().html()).get();i(x);if(H)x=f(H).concat(x);if(Q)x=x.concat(f(Q))});return x?x:f(v)}function f(t){var u=document.createElement("div");u.innerHTML=t;return b.makeArray(u.childNodes)}function h(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+b.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(u,v,x,C,H,L,Q){u=b.tmpl.tag[x];if(!u)throw"Template command not found: "+x;x=u._default||[];if(L&&!/\w$/.test(H)){H+=L;L=""}if(H){H=g(H);Q=Q?","+g(Q)+")":L?")":"";Q=L?H.indexOf(".")>-1?H+L:"("+H+").call($item"+Q:H;L=L?Q:"(typeof("+H+")==='function'?("+H+").call($item):("+H+"))"}else L=Q=x.$1||"null";C=g(C);return"');"+u[v?"close":"open"].split("$notnull_1").join(H?"typeof("+H+")!=='undefined' && ("+H+")!=null":"true").split("$1a").join(L).split("$1").join(Q).split("$2").join(C?C.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(R,J,A,D){return(D=D?","+D+")":A?")":"")?"("+J+").call($item"+D:R}):x.$2||"")+"_.push('"})+"');}return _;")}function e(t,u){t._wrap=c(t,true,b.isArray(u)?u:[r.test(u)?u:b(u).html()]).join("")}function g(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function i(t){function u(J){function A(W){W+=v;G=H[W]=H[W]||a(G,s[G.parent.key+v]||G.parent,null,true)}var D,I=J,G,T;if(T=J.getAttribute(p)){for(;I.parentNode&&(I=I.parentNode).nodeType===1&&!(D=I.getAttribute(p)););if(D!==T){I=I.parentNode?
I.nodeType===11?0:I.getAttribute(p)||0:0;if(!(G=s[T])){G=n[T];G=a(G,s[I]||n[I],null,true);G.key=++y;s[y]=G}F&&A(T)}J.removeAttribute(p)}else if(F&&(G=b.data(J,"tmplItem"))){A(G.key);s[G.key]=G;I=(I=b.data(J.parentNode,"tmplItem"))?I.key:0}if(G){for(D=G;D&&D.key!=I;){D.nodes.push(J);D=D.parent}delete G._ctnt;delete G._wrap;b.data(J,"tmplItem",G)}}var v="_"+F,x,C,H={},L,Q,R;L=0;for(Q=t.length;L<Q;L++)if((x=t[L]).nodeType===1){C=x.getElementsByTagName("*");for(R=C.length-1;R>=0;R--)u(C[R]);u(x)}}function j(t,
u,v,x){if(!t)return K.pop();K.push({_:t,tmpl:u,item:this,data:v,options:x})}function m(t,u,v){return b.tmpl(b.template(t),u,v,this)}function k(t,u){var v=t.options||{};v.wrapped=u;return b.tmpl(b.template(t.tmpl),t.data,v,t.item)}function o(t,u){var v=this._wrap;return b.map(b(b.isArray(v)?v.join(""):v).filter(t||"*"),function(x){if(u)x=x.innerText||x.textContent;else{var C;if(!(C=x.outerHTML)){C=document.createElement("div");C.appendChild(x.cloneNode(true));C=C.innerHTML}x=C}return x})}function l(){var t=
this.nodes;b.tmpl(null,null,null,this).insertBefore(t[0]);b(t).remove()}var q=b.fn.domManip,p="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,s={},n={},w,z={key:0,data:{}},y=0,F=0,K=[];b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,u){b.fn[t]=function(v){var x=[];v=b(v);var C,H,L;C=this.length===1&&this[0].parentNode;w=s||{};if(C&&C.nodeType===11&&C.childNodes.length===1&&v.length===1){v[u](this[0]);x=this}else{H=0;for(L=
v.length;H<L;H++){F=H;C=(H>0?this.clone(true):this).get();b.fn[u].apply(b(v[H]),C);x=x.concat(C)}F=0;x=this.pushStack(x,t,v.selector)}v=w;w=null;b.tmpl.complete(v);return x}});b.fn.extend({tmpl:function(t,u,v){return b.tmpl(this[0],t,u,v)},tmplItem:function(){return b.tmplItem(this[0])},template:function(t){return b.template(t,this[0])},domManip:function(t,u,v){if(t[0]&&t[0].nodeType){for(var x=b.makeArray(arguments),C=t.length,H=0,L;H<C&&!(L=b.data(t[H++],"tmplItem")););if(C>1)x[0]=[b.makeArray(t)];
if(L&&F)x[2]=function(Q){b.tmpl.afterManip(this,Q,v)};q.apply(this,x)}else q.apply(this,arguments);F=0;w||b.tmpl.complete(s);return this}});b.extend({tmpl:function(t,u,v,x){var C=!x;if(C){x=z;t=b.template[t]||b.template(null,t);n={}}else if(!t){t=x.tmpl;s[x.key]=x;x.nodes=[];x.wrapped&&e(x,x.wrapped);return b(c(x,null,x.tmpl(b,x)))}if(!t)return[];if(typeof u==="function")u=u.call(x||{});v&&v.wrapped&&e(v,v.wrapped);u=b.isArray(u)?b.map(u,function(H){return H?a(v,x,t,H):null}):[a(v,x,t,u)];return C?
b(c(x,null,u)):u},tmplItem:function(t){var u;if(t instanceof b)t=t[0];for(;t&&t.nodeType===1&&!(u=b.data(t,"tmplItem"))&&(t=t.parentNode););return u||z},template:function(t,u){if(u){if(typeof u==="string")u=h(u);else if(u instanceof b)u=u[0]||{};if(u.nodeType)u=b.data(u,"tmpl")||b.data(u,"tmpl",h(u.innerHTML));return typeof t==="string"?b.template[t]=u:u}return t?typeof t!=="string"?b.template(null,t):b.template[t]||b.template(null,r.test(t)?t:b(t)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
b.extend(b.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},
open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){s={}},afterManip:function(t,u,v){var x=u.nodeType===11?b.makeArray(u.childNodes):u.nodeType===1?[u]:[];v.call(t,u);i(x);F++}})})(jQuery);(function(b,a){function c(f){return!b(f).parents().andSelf().filter(function(){return b.curCSS(this,"visibility")==="hidden"||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};if(!b.ui.version){b.extend(b.ui,{version:"1.8.7",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});b.fn.extend({_focus:b.fn.focus,focus:function(f,h){return typeof f==="number"?this.each(function(){var e=this;setTimeout(function(){b(e).focus();h&&h.call(e)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;f=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,
"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!f.length?b(document):f},zIndex:function(f){if(f!==a)return this.css("zIndex",f);if(this.length){f=b(this[0]);for(var h;f.length&&f[0]!==document;){h=f.css("position");
if(h==="absolute"||h==="relative"||h==="fixed"){h=parseInt(f.css("zIndex"),10);if(!isNaN(h)&&h!==0)return h}f=f.parent()}}return 0},disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.each(["Width","Height"],function(f,h){function e(m,k,o,l){b.each(g,function(){k-=parseFloat(b.curCSS(m,"padding"+this,true))||0;if(o)k-=parseFloat(b.curCSS(m,
"border"+this+"Width",true))||0;if(l)k-=parseFloat(b.curCSS(m,"margin"+this,true))||0});return k}var g=h==="Width"?["Left","Right"]:["Top","Bottom"],i=h.toLowerCase(),j={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+h]=function(m){if(m===a)return j["inner"+h].call(this);return this.each(function(){b(this).css(i,e(this,m)+"px")})};b.fn["outer"+h]=function(m,k){if(typeof m!=="number")return j["outer"+h].call(this,m);return this.each(function(){b(this).css(i,
e(this,m,true,k)+"px")})}});b.extend(b.expr[":"],{data:function(f,h,e){return!!b.data(f,e[3])},focusable:function(f){var h=f.nodeName.toLowerCase(),e=b.attr(f,"tabindex");if("area"===h){h=f.parentNode;e=h.name;if(!f.href||!e||h.nodeName.toLowerCase()!=="map")return false;f=b("img[usemap=#"+e+"]")[0];return!!f&&c(f)}return(/input|select|textarea|button|object/.test(h)?!f.disabled:"a"==h?f.href||!isNaN(e):!isNaN(e))&&c(f)},tabbable:function(f){var h=b.attr(f,"tabindex");return(isNaN(h)||h>=0)&&b(f).is(":focusable")}});
b(function(){var f=document.body,h=f.appendChild(h=document.createElement("div"));b.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=h.offsetHeight===100;b.support.selectstart="onselectstart"in h;f.removeChild(h).style.display="none"});b.extend(b.ui,{plugin:{add:function(f,h,e){f=b.ui[f].prototype;for(var g in e){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([h,e[g]])}},call:function(f,h,e){if((h=f.plugins[h])&&f.element[0].parentNode)for(var g=0;g<h.length;g++)f.options[h[g][0]]&&
h[g][1].apply(f.element,e)}},contains:function(f,h){return document.compareDocumentPosition?f.compareDocumentPosition(h)&16:f!==h&&f.contains(h)},hasScroll:function(f,h){if(b(f).css("overflow")==="hidden")return false;var e=h&&h==="left"?"scrollLeft":"scrollTop",g=false;if(f[e]>0)return true;f[e]=1;g=f[e]>0;f[e]=0;return g},isOverAxis:function(f,h,e){return f>h&&f<h+e},isOver:function(f,h,e,g,i,j){return b.ui.isOverAxis(f,e,i)&&b.ui.isOverAxis(h,g,j)}})}})(jQuery);(function(b,a){if(b.cleanData){var c=b.cleanData;b.cleanData=function(h){for(var e=0,g;(g=h[e])!=null;e++)b(g).triggerHandler("remove");c(h)}}else{var f=b.fn.remove;b.fn.remove=function(h,e){return this.each(function(){if(!e)if(!h||b.filter(h,[this]).length)b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return f.call(b(this),h,e)})}}b.widget=function(h,e,g){var i=h.split(".")[0],j;h=h.split(".")[1];j=i+"-"+h;if(!g){g=e;e=b.Widget}b.expr[":"][j]=function(m){return!!b.data(m,
h)};b[i]=b[i]||{};b[i][h]=function(m,k){arguments.length&&this._createWidget(m,k)};e=new e;e.options=b.extend(true,{},e.options);b[i][h].prototype=b.extend(true,e,{namespace:i,widgetName:h,widgetEventPrefix:b[i][h].prototype.widgetEventPrefix||h,widgetBaseClass:j},g);b.widget.bridge(h,b[i][h])};b.widget.bridge=function(h,e){b.fn[h]=function(g){var i=typeof g==="string",j=Array.prototype.slice.call(arguments,1),m=this;g=!i&&j.length?b.extend.apply(null,[true,g].concat(j)):g;if(i&&g.charAt(0)==="_")return m;
i?this.each(function(){var k=b.data(this,h),o=k&&b.isFunction(k[g])?k[g].apply(k,j):k;if(o!==k&&o!==a){m=o;return false}}):this.each(function(){var k=b.data(this,h);k?k.option(g||{})._init():b.data(this,h,new e(g,this))});return m}};b.Widget=function(h,e){arguments.length&&this._createWidget(h,e)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(h,e){b.data(e,this.widgetName,this);this.element=b(e);this.options=b.extend(true,{},this.options,
this._getCreateOptions(),h);var g=this;this.element.bind("remove."+this.widgetName,function(){g.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(h,e){var g=h;if(arguments.length===0)return b.extend({},this.options);if(typeof h==="string"){if(e===a)return this.options[h];g={};g[h]=e}this._setOptions(g);return this},_setOptions:function(h){var e=this;b.each(h,function(g,i){e._setOption(g,i)});return this},_setOption:function(h,e){this.options[h]=e;if(h==="disabled")this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(h,e,g){var i=this.options[h];e=b.Event(e);e.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();g=g||{};if(e.originalEvent){h=b.event.props.length;for(var j;h;){j=b.event.props[--h];e[j]=e.originalEvent[j]}}this.element.trigger(e,g);return!(b.isFunction(i)&&i.call(this.element[0],e,g)===false||e.isDefaultPrevented())}}})(jQuery);(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===b.data(c.target,a.widgetName+".preventClickEvent")){b.removeData(c.target,a.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,f=a.which==1,h=typeof this.options.cancel=="string"?b(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!f||h||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}this._mouseMoveDelegate=function(e){return c._mouseMove(e)};this._mouseUpDelegate=function(e){return c._mouseUp(e)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(b.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);
return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",
true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(b){b.ui=b.ui||{};var a=/left|center|right/,c=/top|center|bottom/,f=b.fn.position,h=b.fn.offset;b.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=b.extend({},e);var g=b(e.of),i=g[0],j=(e.collision||"flip").split(" "),m=e.offset?e.offset.split(" "):[0,0],k,o,l;if(i.nodeType===9){k=g.width();o=g.height();l={top:0,left:0}}else if(i.setTimeout){k=g.width();o=g.height();l={top:g.scrollTop(),left:g.scrollLeft()}}else if(i.preventDefault){e.at="left top";k=o=0;l={top:e.of.pageY,
left:e.of.pageX}}else{k=g.outerWidth();o=g.outerHeight();l=g.offset()}b.each(["my","at"],function(){var q=(e[this]||"").split(" ");if(q.length===1)q=a.test(q[0])?q.concat(["center"]):c.test(q[0])?["center"].concat(q):["center","center"];q[0]=a.test(q[0])?q[0]:"center";q[1]=c.test(q[1])?q[1]:"center";e[this]=q});if(j.length===1)j[1]=j[0];m[0]=parseInt(m[0],10)||0;if(m.length===1)m[1]=m[0];m[1]=parseInt(m[1],10)||0;if(e.at[0]==="right")l.left+=k;else if(e.at[0]==="center")l.left+=k/2;if(e.at[1]==="bottom")l.top+=
o;else if(e.at[1]==="center")l.top+=o/2;l.left+=m[0];l.top+=m[1];return this.each(function(){var q=b(this),p=q.outerWidth(),r=q.outerHeight(),s=parseInt(b.curCSS(this,"marginLeft",true))||0,n=parseInt(b.curCSS(this,"marginTop",true))||0,w=p+s+parseInt(b.curCSS(this,"marginRight",true))||0,z=r+n+parseInt(b.curCSS(this,"marginBottom",true))||0,y=b.extend({},l),F;if(e.my[0]==="right")y.left-=p;else if(e.my[0]==="center")y.left-=p/2;if(e.my[1]==="bottom")y.top-=r;else if(e.my[1]==="center")y.top-=r/2;
y.left=Math.round(y.left);y.top=Math.round(y.top);F={left:y.left-s,top:y.top-n};b.each(["left","top"],function(K,t){b.ui.position[j[K]]&&b.ui.position[j[K]][t](y,{targetWidth:k,targetHeight:o,elemWidth:p,elemHeight:r,collisionPosition:F,collisionWidth:w,collisionHeight:z,offset:m,my:e.my,at:e.at})});b.fn.bgiframe&&q.bgiframe();q.offset(b.extend(y,{using:e.using}))})};b.ui.position={fit:{left:function(e,g){var i=b(window);i=g.collisionPosition.left+g.collisionWidth-i.width()-i.scrollLeft();e.left=
i>0?e.left-i:Math.max(e.left-g.collisionPosition.left,e.left)},top:function(e,g){var i=b(window);i=g.collisionPosition.top+g.collisionHeight-i.height()-i.scrollTop();e.top=i>0?e.top-i:Math.max(e.top-g.collisionPosition.top,e.top)}},flip:{left:function(e,g){if(g.at[0]!=="center"){var i=b(window);i=g.collisionPosition.left+g.collisionWidth-i.width()-i.scrollLeft();var j=g.my[0]==="left"?-g.elemWidth:g.my[0]==="right"?g.elemWidth:0,m=g.at[0]==="left"?g.targetWidth:-g.targetWidth,k=-2*g.offset[0];e.left+=
g.collisionPosition.left<0?j+m+k:i>0?j+m+k:0}},top:function(e,g){if(g.at[1]!=="center"){var i=b(window);i=g.collisionPosition.top+g.collisionHeight-i.height()-i.scrollTop();var j=g.my[1]==="top"?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,m=g.at[1]==="top"?g.targetHeight:-g.targetHeight,k=-2*g.offset[1];e.top+=g.collisionPosition.top<0?j+m+k:i>0?j+m+k:0}}}};if(!b.offset.setOffset){b.offset.setOffset=function(e,g){if(/static/.test(b.curCSS(e,"position")))e.style.position="relative";var i=b(e),
j=i.offset(),m=parseInt(b.curCSS(e,"top",true),10)||0,k=parseInt(b.curCSS(e,"left",true),10)||0;j={top:g.top-j.top+m,left:g.left-j.left+k};"using"in g?g.using.call(e,j):i.css(j)};b.fn.offset=function(e){var g=this[0];if(!g||!g.ownerDocument)return null;if(e)return this.each(function(){b.offset.setOffset(this,e)});return h.call(this)}}})(jQuery);(function(b){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var c=
this.options;if(this.helper||c.disabled||b(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var c=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();
b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,c){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!c){var f=this._uiHash();if(this._trigger("drag",a,f)===false){this._mouseUp({});return false}this.position=f.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var c=false;if(b.ui.ddmanager&&!this.options.dropBehaviour)c=b.ui.ddmanager.drop(this,a);if(this.dropped){c=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,
c)){var f=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",a)!==false&&f._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var c=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
a.target)c=true});return c},_createHelper:function(a){var c=this.options;a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],[a])):c.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(b.isArray(a))a={left:+a[0],top:+a[1]||
0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],
this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment==
"parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[(a.containment=="document"?0:b(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:b(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:b(window).scrollLeft())+b(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?
0:b(window).scrollTop())+(b(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var c=b(a.containment)[0];if(c){a=b(a.containment).offset();var f=b(c).css("overflow")!="hidden";this.containment=[a.left+(parseInt(b(c).css("borderLeftWidth"),10)||0)+(parseInt(b(c).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(b(c).css("borderTopWidth"),
10)||0)+(parseInt(b(c).css("paddingTop"),10)||0)-this.margins.top,a.left+(f?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(f?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(a.containment.constructor==
Array)this.containment=a.containment},_convertPositionTo:function(a,c){if(!c)c=this.position;var f=a=="absolute"?1:-1,h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(h[0].tagName);return{top:c.top+this.offset.relative.top*f+this.offset.parent.top*f-(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
e?0:h.scrollTop())*f),left:c.left+this.offset.relative.left*f+this.offset.parent.left*f-(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:h.scrollLeft())*f)}},_generatePosition:function(a){var c=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(f[0].tagName),e=a.pageX,g=a.pageY;
if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])e=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])e=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(c.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/
c.grid[1])*c.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g;e=this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-c.grid[0]:e+c.grid[0]:e}}return{top:g-this.offset.click.top-
this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:f.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=
this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,c,f){f=f||this._uiHash();b.ui.plugin.call(this,a,[c,f]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return b.Widget.prototype._trigger.call(this,a,c,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:"@VERSION"});
b.ui.plugin.add("draggable","connectToSortable",{start:function(a,c){var f=b(this).data("draggable"),h=f.options,e=b.extend({},c,{item:f.element});f.sortables=[];b(h.connectToSortable).each(function(){var g=b.data(this,"sortable");if(g&&!g.options.disabled){f.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",a,e)}})},stop:function(a,c){var f=b(this).data("draggable"),h=b.extend({},c,{item:f.element});b.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=
0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,h)}})},drag:function(a,c){var f=b(this).data("draggable"),h=this;b.each(f.sortables,function(){this.instance.positionAbs=
f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(h).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return c.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,
true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",a);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=
0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();f._trigger("fromSortable",a);f.dropped=false}})}});b.ui.plugin.add("draggable","cursor",{start:function(){var a=b("body"),c=b(this).data("draggable").options;if(a.css("cursor"))c._cursor=
a.css("cursor");a.css("cursor",c.cursor)},stop:function(){var a=b(this).data("draggable").options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","iframeFix",{start:function(){var a=b(this).data("draggable").options;b(a.iframeFix===true?"iframe":a.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")})},
stop:function(){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});b.ui.plugin.add("draggable","opacity",{start:function(a,c){var f=b(c.helper),h=b(this).data("draggable").options;if(f.css("opacity"))h._opacity=f.css("opacity");f.css("opacity",h.opacity)},stop:function(a,c){var f=b(this).data("draggable").options;f._opacity&&b(c.helper).css("opacity",f._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var a=b(this).data("draggable");if(a.scrollParent[0]!=
document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var c=b(this).data("draggable"),f=c.options,h=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x")if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-a.pageY<f.scrollSensitivity)c.scrollParent[0].scrollTop=h=c.scrollParent[0].scrollTop+f.scrollSpeed;else if(a.pageY-c.overflowOffset.top<f.scrollSensitivity)c.scrollParent[0].scrollTop=h=c.scrollParent[0].scrollTop-
f.scrollSpeed;if(!f.axis||f.axis!="y")if(c.overflowOffset.left+c.scrollParent[0].offsetWidth-a.pageX<f.scrollSensitivity)c.scrollParent[0].scrollLeft=h=c.scrollParent[0].scrollLeft+f.scrollSpeed;else if(a.pageX-c.overflowOffset.left<f.scrollSensitivity)c.scrollParent[0].scrollLeft=h=c.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(!f.axis||f.axis!="x")if(a.pageY-b(document).scrollTop()<f.scrollSensitivity)h=b(document).scrollTop(b(document).scrollTop()-f.scrollSpeed);else if(b(window).height()-
(a.pageY-b(document).scrollTop())<f.scrollSensitivity)h=b(document).scrollTop(b(document).scrollTop()+f.scrollSpeed);if(!f.axis||f.axis!="y")if(a.pageX-b(document).scrollLeft()<f.scrollSensitivity)h=b(document).scrollLeft(b(document).scrollLeft()-f.scrollSpeed);else if(b(window).width()-(a.pageX-b(document).scrollLeft())<f.scrollSensitivity)h=b(document).scrollLeft(b(document).scrollLeft()+f.scrollSpeed)}h!==false&&b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(c,a)}});b.ui.plugin.add("draggable",
"snap",{start:function(){var a=b(this).data("draggable"),c=a.options;a.snapElements=[];b(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var f=b(this),h=f.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:h.top,left:h.left})})},drag:function(a,c){for(var f=b(this).data("draggable"),h=f.options,e=h.snapTolerance,g=c.offset.left,i=g+f.helperProportions.width,j=c.offset.top,m=j+f.helperProportions.height,k=
f.snapElements.length-1;k>=0;k--){var o=f.snapElements[k].left,l=o+f.snapElements[k].width,q=f.snapElements[k].top,p=q+f.snapElements[k].height;if(o-e<g&&g<l+e&&q-e<j&&j<p+e||o-e<g&&g<l+e&&q-e<m&&m<p+e||o-e<i&&i<l+e&&q-e<j&&j<p+e||o-e<i&&i<l+e&&q-e<m&&m<p+e){if(h.snapMode!="inner"){var r=Math.abs(q-m)<=e,s=Math.abs(p-j)<=e,n=Math.abs(o-i)<=e,w=Math.abs(l-g)<=e;if(r)c.position.top=f._convertPositionTo("relative",{top:q-f.helperProportions.height,left:0}).top-f.margins.top;if(s)c.position.top=f._convertPositionTo("relative",
{top:p,left:0}).top-f.margins.top;if(n)c.position.left=f._convertPositionTo("relative",{top:0,left:o-f.helperProportions.width}).left-f.margins.left;if(w)c.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left}var z=r||s||n||w;if(h.snapMode!="outer"){r=Math.abs(q-j)<=e;s=Math.abs(p-m)<=e;n=Math.abs(o-g)<=e;w=Math.abs(l-i)<=e;if(r)c.position.top=f._convertPositionTo("relative",{top:q,left:0}).top-f.margins.top;if(s)c.position.top=f._convertPositionTo("relative",{top:p-f.helperProportions.height,
left:0}).top-f.margins.top;if(n)c.position.left=f._convertPositionTo("relative",{top:0,left:o}).left-f.margins.left;if(w)c.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left}if(!f.snapElements[k].snapping&&(r||s||n||w||z))f.options.snap.snap&&f.options.snap.snap.call(f.element,a,b.extend(f._uiHash(),{snapItem:f.snapElements[k].item}));f.snapElements[k].snapping=r||s||n||w||z}else{f.snapElements[k].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,
a,b.extend(f._uiHash(),{snapItem:f.snapElements[k].item}));f.snapElements[k].snapping=false}}}});b.ui.plugin.add("draggable","stack",{start:function(){var a=b(this).data("draggable").options;a=b.makeArray(b(a.stack)).sort(function(f,h){return(parseInt(b(f).css("zIndex"),10)||0)-(parseInt(b(h).css("zIndex"),10)||0)});if(a.length){var c=parseInt(a[0].style.zIndex)||0;b(a).each(function(f){this.style.zIndex=c+f});this[0].style.zIndex=c+a.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(a,
c){var f=b(c.helper),h=b(this).data("draggable").options;if(f.css("zIndex"))h._zIndex=f.css("zIndex");f.css("zIndex",h.zIndex)},stop:function(a,c){var f=b(this).data("draggable").options;f._zIndex&&b(c.helper).css("zIndex",f._zIndex)}})})(jQuery);(function(b,a){var c={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},f={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};b.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(h){var e=b(this).css(h).offset().top;e<0&&
b(this).css("top",h.top-e)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var h=this,e=h.options,g=e.title||"&#160;",i=b.ui.dialog.getTitleId(h.element),j=(h.uiDialog=b("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+e.dialogClass).css({zIndex:e.zIndex}).attr("tabIndex",
-1).css("outline",0).keydown(function(o){if(e.closeOnEscape&&o.keyCode&&o.keyCode===b.ui.keyCode.ESCAPE){h.close(o);o.preventDefault()}}).attr({role:"dialog","aria-labelledby":i}).mousedown(function(o){h.moveToTop(false,o)});h.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(j);var m=(h.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(j),k=b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function(){k.addClass("ui-state-hover")},function(){k.removeClass("ui-state-hover")}).focus(function(){k.addClass("ui-state-focus")}).blur(function(){k.removeClass("ui-state-focus")}).click(function(o){h.close(o);return false}).appendTo(m);(h.uiDialogTitlebarCloseText=b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(e.closeText).appendTo(k);b("<span></span>").addClass("ui-dialog-title").attr("id",i).html(g).prependTo(m);if(b.isFunction(e.beforeclose)&&!b.isFunction(e.beforeClose))e.beforeClose=
e.beforeclose;m.find("*").add(m).disableSelection();e.draggable&&b.fn.draggable&&h._makeDraggable();e.resizable&&b.fn.resizable&&h._makeResizable();h._createButtons(e.buttons);h._isOpen=false;b.fn.bgiframe&&j.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();
this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(h){var e=this,g,i;if(false!==e._trigger("beforeClose",h)){e.overlay&&e.overlay.destroy();e.uiDialog.unbind("keypress.ui-dialog");e._isOpen=false;if(e.options.hide)e.uiDialog.hide(e.options.hide,function(){e._trigger("close",h)});else{e.uiDialog.hide();e._trigger("close",h)}b.ui.dialog.overlay.resize();if(e.options.modal){g=0;b(".ui-dialog").each(function(){if(this!==
e.uiDialog[0]){i=b(this).css("z-index");isNaN(i)||(g=Math.max(g,i))}});b.ui.dialog.maxZ=g}return e}},isOpen:function(){return this._isOpen},moveToTop:function(h,e){var g=this.options;if(g.modal&&!h||!g.stack&&!g.modal)return this._trigger("focus",e);if(g.zIndex>b.ui.dialog.maxZ)b.ui.dialog.maxZ=g.zIndex;if(this.overlay){b.ui.dialog.maxZ+=1;this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=b.ui.dialog.maxZ)}g={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};
b.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",b.ui.dialog.maxZ);this.element.attr(g);this._trigger("focus",e);return this},open:function(){if(!this._isOpen){var h=this.options,e=this.uiDialog;this.overlay=h.modal?new b.ui.dialog.overlay(this):null;this._size();this._position(h.position);e.show(h.show);this.moveToTop(true);h.modal&&e.bind("keypress.ui-dialog",function(g){if(g.keyCode===b.ui.keyCode.TAB){var i=b(":tabbable",this),j=i.filter(":first");i=i.filter(":last");if(g.target===i[0]&&!g.shiftKey){j.focus(1);
return false}else if(g.target===j[0]&&g.shiftKey){i.focus(1);return false}}});b(this.element.find(":tabbable").get().concat(e.find(".ui-dialog-buttonpane :tabbable").get().concat(e.get()))).eq(0).focus();this._isOpen=true;this._trigger("open");return this}},_createButtons:function(h){var e=this,g=false,i=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),j=b("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);e.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof h==="object"&&h!==null&&b.each(h,function(){return!(g=true)});if(g){b.each(h,function(m,k){k=b.isFunction(k)?{click:k,text:m}:k;var o=b('<button type="button"></button>').attr(k,true).unbind("click").click(function(){k.click.apply(e.element[0],arguments)}).appendTo(j);b.fn.button&&o.button()});i.appendTo(e.uiDialog)}},_makeDraggable:function(){function h(m){return{position:m.position,offset:m.offset}}var e=this,g=e.options,i=b(document),j;e.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(m,k){j=g.height==="auto"?"auto":b(this).height();b(this).height(b(this).height()).addClass("ui-dialog-dragging");e._trigger("dragStart",m,h(k))},drag:function(m,k){e._trigger("drag",m,h(k))},stop:function(m,k){g.position=[k.position.left-i.scrollLeft(),k.position.top-i.scrollTop()];b(this).removeClass("ui-dialog-dragging").height(j);e._trigger("dragStop",m,h(k));b.ui.dialog.overlay.resize()}})},_makeResizable:function(h){function e(m){return{originalPosition:m.originalPosition,
originalSize:m.originalSize,position:m.position,size:m.size}}h=h===a?this.options.resizable:h;var g=this,i=g.options,j=g.uiDialog.css("position");h=typeof h==="string"?h:"n,e,s,w,se,sw,ne,nw";g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:g._minHeight(),handles:h,start:function(m,k){b(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",m,e(k))},resize:function(m,k){g._trigger("resize",
m,e(k))},stop:function(m,k){b(this).removeClass("ui-dialog-resizing");i.height=b(this).height();i.width=b(this).width();g._trigger("resizeStop",m,e(k));b.ui.dialog.overlay.resize()}}).css("position",j).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var h=this.options;return h.height==="auto"?h.minHeight:Math.min(h.minHeight,h.height)},_position:function(h){var e=[],g=[0,0],i;if(h){if(typeof h==="string"||typeof h==="object"&&"0"in h){e=h.split?h.split(" "):
[h[0],h[1]];if(e.length===1)e[1]=e[0];b.each(["left","top"],function(j,m){if(+e[j]===e[j]){g[j]=e[j];e[j]=m}});h={my:e.join(" "),at:e.join(" "),offset:g.join(" ")}}h=b.extend({},b.ui.dialog.prototype.options.position,h)}else h=b.ui.dialog.prototype.options.position;(i=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(b.extend({of:window},h));i||this.uiDialog.hide()},_setOptions:function(h){var e=this,g={},i=false;b.each(h,function(j,m){e._setOption(j,m);
if(j in c)i=true;if(j in f)g[j]=m});i&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(h,e){var g=this.uiDialog;switch(h){case "beforeclose":h="beforeClose";break;case "buttons":this._createButtons(e);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+e);break;case "dialogClass":g.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+e);break;case "disabled":e?g.addClass("ui-dialog-disabled"):
g.removeClass("ui-dialog-disabled");break;case "draggable":var i=g.is(":data(draggable)");i&&!e&&g.draggable("destroy");!i&&e&&this._makeDraggable();break;case "position":this._position(e);break;case "resizable":(i=g.is(":data(resizable)"))&&!e&&g.resizable("destroy");i&&typeof e==="string"&&g.resizable("option","handles",e);!i&&e!==false&&this._makeResizable(e);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(""+(e||"&#160;"));break}b.Widget.prototype._setOption.apply(this,arguments)},
_size:function(){var h=this.options,e,g,i=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(h.minWidth>h.width)h.width=h.minWidth;e=this.uiDialog.css({height:"auto",width:h.width}).height();g=Math.max(0,h.minHeight-e);if(h.height==="auto")if(b.support.minHeight)this.element.css({minHeight:g,height:"auto"});else{this.uiDialog.show();h=this.element.css("height","auto").height();i||this.uiDialog.hide();this.element.height(Math.max(h,g))}else this.element.height(Math.max(h.height-
e,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});b.extend(b.ui.dialog,{version:"@VERSION",uuid:0,maxZ:0,getTitleId:function(h){h=h.attr("id");if(!h){this.uuid+=1;h=this.uuid}return"ui-dialog-title-"+h},overlay:function(h){this.$el=b.ui.dialog.overlay.create(h)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(h){return h+".dialog-overlay"}).join(" "),
create:function(h){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(g){if(b(g.target).zIndex()<b.ui.dialog.overlay.maxZ)return false})},1);b(document).bind("keydown.dialog-overlay",function(g){if(h.options.closeOnEscape&&g.keyCode&&g.keyCode===b.ui.keyCode.ESCAPE){h.close(g);g.preventDefault()}});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var e=(this.oldInstances.pop()||b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});b.fn.bgiframe&&e.bgiframe();this.instances.push(e);return e},destroy:function(h){var e=b.inArray(h,this.instances);e!=-1&&this.oldInstances.push(this.instances.splice(e,1)[0]);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");h.remove();var g=0;b.each(this.instances,function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){var h,e;if(b.browser.msie&&b.browser.version<7){h=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);
e=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return h<e?b(window).height()+"px":h+"px"}else return b(document).height()+"px"},width:function(){var h,e;if(b.browser.msie&&b.browser.version<7){h=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);e=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return h<e?b(window).width()+"px":h+"px"}else return b(document).width()+"px"},resize:function(){var h=b([]);b.each(b.ui.dialog.overlay.instances,
function(){h=h.add(this)});h.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(b){b.ui.dialog.overlay.events="s";b.ui.dialog.prototype.open=function(){if(!this._isOpen){var a=this.options,c=this.uiDialog;this.overlay=a.modal?new b.ui.dialog.overlay(this):null;this._size();this._position(a.position);c.show(a.show);this.moveToTop(true);a.modal&&c.bind("keypress.ui-dialog",function(f){if(f.keyCode===b.ui.keyCode.TAB){var h=b(":tabbable",this),e=h.filter(":first");h=h.filter(":last");if(f.target===h[0]&&!f.shiftKey){e.focus(1);return false}else if(f.target===e[0]&&f.shiftKey){h.focus(1);
return false}}});this._isOpen=true;this._trigger("open");return this}}})(jQuery);(function(b,a){function c(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su",
"Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};b.extend(this._defaults,this.regional[""]);this.dpDiv=b('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function f(e,g){b.extend(e,g);for(var i in g)if(g[i]==
null||g[i]==a)e[i]=g[i];return e}b.extend(b.ui,{datepicker:{version:"1.8.7"}});var h=(new Date).getTime();b.extend(c.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){f(this._defaults,e||{});return this},_attachDatepicker:function(e,g){var i=null;for(var j in this._defaults){var m=e.getAttribute("date:"+j);if(m){i=i||{};try{i[j]=eval(m)}catch(k){i[j]=m}}}j=e.nodeName.toLowerCase();
m=j=="div"||j=="span";if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}var o=this._newInst(b(e),m);o.settings=b.extend({},g||{},i||{});if(j=="input")this._connectDatepicker(e,o);else m&&this._inlineDatepicker(e,o)},_newInst:function(e,g){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:g,dpDiv:!g?this.dpDiv:b('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},
_connectDatepicker:function(e,g){var i=b(e);g.append=b([]);g.trigger=b([]);if(!i.hasClass(this.markerClassName)){this._attachments(i,g);i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(j,m,k){g.settings[m]=k}).bind("getData.datepicker",function(j,m){return this._get(g,m)});this._autoSize(g);b.data(e,"datepicker",g)}},_attachments:function(e,g){var i=this._get(g,"appendText"),j=this._get(g,"isRTL");g.append&&
g.append.remove();if(i){g.append=b('<span class="'+this._appendClass+'">'+i+"</span>");e[j?"before":"after"](g.append)}e.unbind("focus",this._showDatepicker);g.trigger&&g.trigger.remove();i=this._get(g,"showOn");if(i=="focus"||i=="both")e.focus(this._showDatepicker);if(i=="button"||i=="both"){i=this._get(g,"buttonText");var m=this._get(g,"buttonImage");g.trigger=b(this._get(g,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:m,alt:i,title:i}):b('<button type="button"></button>').addClass(this._triggerClass).html(m==
""?i:b("<img/>").attr({src:m,alt:i,title:i})));e[j?"before":"after"](g.trigger);g.trigger.click(function(){b.datepicker._datepickerShowing&&b.datepicker._lastInput==e[0]?b.datepicker._hideDatepicker():b.datepicker._showDatepicker(e[0]);return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var g=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var j=function(m){for(var k=0,o=0,l=0;l<m.length;l++)if(m[l].length>k){k=m[l].length;o=l}return o};g.setMonth(j(this._get(e,
i.match(/MM/)?"monthNames":"monthNamesShort")));g.setDate(j(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay())}e.input.attr("size",this._formatDate(e,g).length)}},_inlineDatepicker:function(e,g){var i=b(e);if(!i.hasClass(this.markerClassName)){i.addClass(this.markerClassName).append(g.dpDiv).bind("setData.datepicker",function(j,m,k){g.settings[m]=k}).bind("getData.datepicker",function(j,m){return this._get(g,m)});b.data(e,"datepicker",g);this._setDate(g,this._getDefaultDate(g),
true);this._updateDatepicker(g);this._updateAlternate(g);g.dpDiv.show()}},_dialogDatepicker:function(e,g,i,j,m){e=this._dialogInst;if(!e){this.uuid+=1;this._dialogInput=b('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);b("body").append(this._dialogInput);e=this._dialogInst=this._newInst(this._dialogInput,false);e.settings={};b.data(this._dialogInput[0],"datepicker",e)}f(e.settings,j||{});
g=g&&g.constructor==Date?this._formatDate(e,g):g;this._dialogInput.val(g);this._pos=m?m.length?m:[m.pageX,m.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");e.settings.onSelect=i;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);b.blockUI&&b.blockUI(this.dpDiv);b.data(this._dialogInput[0],"datepicker",e);return this},_destroyDatepicker:function(e){var g=b(e),i=b.data(e,"datepicker");if(g.hasClass(this.markerClassName)){var j=e.nodeName.toLowerCase();b.removeData(e,"datepicker");if(j=="input"){i.append.remove();i.trigger.remove();g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)}else if(j=="div"||j=="span")g.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var g=b(e),i=b.data(e,"datepicker");if(g.hasClass(this.markerClassName)){var j=e.nodeName.toLowerCase();if(j=="input"){e.disabled=false;i.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(j=="div"||j=="span")g.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=b.map(this._disabledInputs,
function(m){return m==e?null:m})}},_disableDatepicker:function(e){var g=b(e),i=b.data(e,"datepicker");if(g.hasClass(this.markerClassName)){var j=e.nodeName.toLowerCase();if(j=="input"){e.disabled=true;i.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(j=="div"||j=="span")g.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=b.map(this._disabledInputs,function(m){return m==e?null:
m});this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return false;for(var g=0;g<this._disabledInputs.length;g++)if(this._disabledInputs[g]==e)return true;return false},_getInst:function(e){try{return b.data(e,"datepicker")}catch(g){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(e,g,i){var j=this._getInst(e);if(arguments.length==2&&typeof g=="string")return g=="defaults"?b.extend({},b.datepicker._defaults):j?g=="all"?b.extend({},
j.settings):this._get(j,g):null;var m=g||{};if(typeof g=="string"){m={};m[g]=i}if(j){this._curInst==j&&this._hideDatepicker();var k=this._getDateDatepicker(e,true);f(j.settings,m);this._attachments(b(e),j);this._autoSize(j);this._setDateDatepicker(e,k);this._updateDatepicker(j)}},_changeDatepicker:function(e,g,i){this._optionDatepicker(e,g,i)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,g){var i=this._getInst(e);if(i){this._setDate(i,
g);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(e,g){var i=this._getInst(e);i&&!i.inline&&this._setDateFromField(i,g);return i?this._getDate(i):null},_doKeyDown:function(e){var g=b.datepicker._getInst(e.target),i=true,j=g.dpDiv.is(".ui-datepicker-rtl");g._keyEvent=true;if(b.datepicker._datepickerShowing)switch(e.keyCode){case 9:b.datepicker._hideDatepicker();i=false;break;case 13:i=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",g.dpDiv);
i[0]?b.datepicker._selectDay(e.target,g.selectedMonth,g.selectedYear,i[0]):b.datepicker._hideDatepicker();return false;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(e.target,e.ctrlKey?-b.datepicker._get(g,"stepBigMonths"):-b.datepicker._get(g,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(e.target,e.ctrlKey?+b.datepicker._get(g,"stepBigMonths"):+b.datepicker._get(g,"stepMonths"),"M");break;case 35:if(e.ctrlKey||e.metaKey)b.datepicker._clearDate(e.target);
i=e.ctrlKey||e.metaKey;break;case 36:if(e.ctrlKey||e.metaKey)b.datepicker._gotoToday(e.target);i=e.ctrlKey||e.metaKey;break;case 37:if(e.ctrlKey||e.metaKey)b.datepicker._adjustDate(e.target,j?+1:-1,"D");i=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey)b.datepicker._adjustDate(e.target,e.ctrlKey?-b.datepicker._get(g,"stepBigMonths"):-b.datepicker._get(g,"stepMonths"),"M");break;case 38:if(e.ctrlKey||e.metaKey)b.datepicker._adjustDate(e.target,-7,"D");i=e.ctrlKey||e.metaKey;break;case 39:if(e.ctrlKey||
e.metaKey)b.datepicker._adjustDate(e.target,j?-1:+1,"D");i=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey)b.datepicker._adjustDate(e.target,e.ctrlKey?+b.datepicker._get(g,"stepBigMonths"):+b.datepicker._get(g,"stepMonths"),"M");break;case 40:if(e.ctrlKey||e.metaKey)b.datepicker._adjustDate(e.target,+7,"D");i=e.ctrlKey||e.metaKey;break;default:i=false}else if(e.keyCode==36&&e.ctrlKey)b.datepicker._showDatepicker(this);else i=false;if(i){e.preventDefault();e.stopPropagation()}},_doKeyPress:function(e){var g=
b.datepicker._getInst(e.target);if(b.datepicker._get(g,"constrainInput")){g=b.datepicker._possibleChars(b.datepicker._get(g,"dateFormat"));var i=String.fromCharCode(e.charCode==a?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||i<" "||!g||g.indexOf(i)>-1}},_doKeyUp:function(e){e=b.datepicker._getInst(e.target);if(e.input.val()!=e.lastVal)try{if(b.datepicker.parseDate(b.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,b.datepicker._getFormatConfig(e))){b.datepicker._setDateFromField(e);
b.datepicker._updateAlternate(e);b.datepicker._updateDatepicker(e)}}catch(g){b.datepicker.log(g)}return true},_showDatepicker:function(e){e=e.target||e;if(e.nodeName.toLowerCase()!="input")e=b("input",e.parentNode)[0];if(!(b.datepicker._isDisabledDatepicker(e)||b.datepicker._lastInput==e)){var g=b.datepicker._getInst(e);b.datepicker._curInst&&b.datepicker._curInst!=g&&b.datepicker._curInst.dpDiv.stop(true,true);var i=b.datepicker._get(g,"beforeShow");f(g.settings,i?i.apply(e,[e,g]):{});g.lastVal=
null;b.datepicker._lastInput=e;b.datepicker._setDateFromField(g);if(b.datepicker._inDialog)e.value="";if(!b.datepicker._pos){b.datepicker._pos=b.datepicker._findPos(e);b.datepicker._pos[1]+=e.offsetHeight}var j=false;b(e).parents().each(function(){j|=b(this).css("position")=="fixed";return!j});if(j&&b.browser.opera){b.datepicker._pos[0]-=document.documentElement.scrollLeft;b.datepicker._pos[1]-=document.documentElement.scrollTop}i={left:b.datepicker._pos[0],top:b.datepicker._pos[1]};b.datepicker._pos=
null;g.dpDiv.empty();g.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});b.datepicker._updateDatepicker(g);i=b.datepicker._checkOffset(g,i,j);g.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":j?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"});if(!g.inline){i=b.datepicker._get(g,"showAnim");var m=b.datepicker._get(g,"duration"),k=function(){b.datepicker._datepickerShowing=true;var o=g.dpDiv.find("iframe.ui-datepicker-cover");if(o.length){var l=b.datepicker._getBorders(g.dpDiv);
o.css({left:-l[0],top:-l[1],width:g.dpDiv.outerWidth(),height:g.dpDiv.outerHeight()})}};g.dpDiv.zIndex(b(e).zIndex()+1);b.effects&&b.effects[i]?g.dpDiv.show(i,b.datepicker._get(g,"showOptions"),m,k):g.dpDiv[i||"show"](i?m:null,k);if(!i||!m)k();g.input.is(":visible")&&!g.input.is(":disabled")&&g.input.focus();b.datepicker._curInst=g}}},_updateDatepicker:function(e){var g=this,i=b.datepicker._getBorders(e.dpDiv);e.dpDiv.empty().append(this._generateHTML(e));var j=e.dpDiv.find("iframe.ui-datepicker-cover");
j.length&&j.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()});e.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){b(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&b(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&b(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!g._isDisabledDatepicker(e.inline?
e.dpDiv.parent()[0]:e.input[0])){b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");b(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&b(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&b(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();i=this._getNumberOfMonths(e);j=i[1];j>1?e.dpDiv.addClass("ui-datepicker-multi-"+j).css("width",
17*j+"em"):e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");e.dpDiv[(i[0]!=1||i[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");e==b.datepicker._curInst&&b.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus();if(e.yearshtml){var m=e.yearshtml;setTimeout(function(){m===e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml);
m=e.yearshtml=null},0)}},_getBorders:function(e){var g=function(i){return{thin:1,medium:2,thick:3}[i]||i};return[parseFloat(g(e.css("border-left-width"))),parseFloat(g(e.css("border-top-width")))]},_checkOffset:function(e,g,i){var j=e.dpDiv.outerWidth(),m=e.dpDiv.outerHeight(),k=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+b(document).scrollLeft(),q=document.documentElement.clientHeight+b(document).scrollTop();g.left-=this._get(e,"isRTL")?
j-k:0;g.left-=i&&g.left==e.input.offset().left?b(document).scrollLeft():0;g.top-=i&&g.top==e.input.offset().top+o?b(document).scrollTop():0;g.left-=Math.min(g.left,g.left+j>l&&l>j?Math.abs(g.left+j-l):0);g.top-=Math.min(g.top,g.top+m>q&&q>m?Math.abs(m+o):0);return g},_findPos:function(e){for(var g=this._get(this._getInst(e),"isRTL");e&&(e.type=="hidden"||e.nodeType!=1);)e=e[g?"previousSibling":"nextSibling"];e=b(e).offset();return[e.left,e.top]},_hideDatepicker:function(e){var g=this._curInst;if(!(!g||
e&&g!=b.data(e,"datepicker")))if(this._datepickerShowing){e=this._get(g,"showAnim");var i=this._get(g,"duration"),j=function(){b.datepicker._tidyDialog(g);this._curInst=null};b.effects&&b.effects[e]?g.dpDiv.hide(e,b.datepicker._get(g,"showOptions"),i,j):g.dpDiv[e=="slideDown"?"slideUp":e=="fadeIn"?"fadeOut":"hide"](e?i:null,j);e||j();if(e=this._get(g,"onClose"))e.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",
left:"0",top:"-100px"});if(b.blockUI){b.unblockUI();b("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(b.datepicker._curInst){e=b(e.target);e[0].id!=b.datepicker._mainDivId&&e.parents("#"+b.datepicker._mainDivId).length==0&&!e.hasClass(b.datepicker.markerClassName)&&!e.hasClass(b.datepicker._triggerClass)&&b.datepicker._datepickerShowing&&!(b.datepicker._inDialog&&
b.blockUI)&&b.datepicker._hideDatepicker()}},_adjustDate:function(e,g,i){e=b(e);var j=this._getInst(e[0]);if(!this._isDisabledDatepicker(e[0])){this._adjustInstDate(j,g+(i=="M"?this._get(j,"showCurrentAtPos"):0),i);this._updateDatepicker(j)}},_gotoToday:function(e){e=b(e);var g=this._getInst(e[0]);if(this._get(g,"gotoCurrent")&&g.currentDay){g.selectedDay=g.currentDay;g.drawMonth=g.selectedMonth=g.currentMonth;g.drawYear=g.selectedYear=g.currentYear}else{var i=new Date;g.selectedDay=i.getDate();g.drawMonth=
g.selectedMonth=i.getMonth();g.drawYear=g.selectedYear=i.getFullYear()}this._notifyChange(g);this._adjustDate(e)},_selectMonthYear:function(e,g,i){e=b(e);var j=this._getInst(e[0]);j._selectingMonthYear=false;j["selected"+(i=="M"?"Month":"Year")]=j["draw"+(i=="M"?"Month":"Year")]=parseInt(g.options[g.selectedIndex].value,10);this._notifyChange(j);this._adjustDate(e)},_clickMonthYear:function(e){var g=this._getInst(b(e)[0]);g.input&&g._selectingMonthYear&&setTimeout(function(){g.input.focus()},0);g._selectingMonthYear=
!g._selectingMonthYear},_selectDay:function(e,g,i,j){var m=b(e);if(!(b(j).hasClass(this._unselectableClass)||this._isDisabledDatepicker(m[0]))){m=this._getInst(m[0]);m.selectedDay=m.currentDay=b("a",j).html();m.selectedMonth=m.currentMonth=g;m.selectedYear=m.currentYear=i;this._selectDate(e,this._formatDate(m,m.currentDay,m.currentMonth,m.currentYear))}},_clearDate:function(e){e=b(e);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(e,g){var i=this._getInst(b(e)[0]);g=g!=null?g:this._formatDate(i);
i.input&&i.input.val(g);this._updateAlternate(i);var j=this._get(i,"onSelect");if(j)j.apply(i.input?i.input[0]:null,[g,i]);else i.input&&i.input.trigger("change");if(i.inline)this._updateDatepicker(i);else{this._hideDatepicker();this._lastInput=i.input[0];typeof i.input[0]!="object"&&i.input.focus();this._lastInput=null}},_updateAlternate:function(e){var g=this._get(e,"altField");if(g){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),j=this._getDate(e),m=this.formatDate(i,j,this._getFormatConfig(e));
b(g).each(function(){b(this).val(m)})}},noWeekends:function(e){e=e.getDay();return[e>0&&e<6,""]},iso8601Week:function(e){e=new Date(e.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var g=e.getTime();e.setMonth(0);e.setDate(1);return Math.floor(Math.round((g-e)/864E5)/7)+1},parseDate:function(e,g,i){if(e==null||g==null)throw"Invalid arguments";g=typeof g=="object"?g.toString():g+"";if(g=="")return null;for(var j=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,m=(i?i.dayNamesShort:null)||
this._defaults.dayNamesShort,k=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,l=(i?i.monthNames:null)||this._defaults.monthNames,q=i=-1,p=-1,r=-1,s=false,n=function(u){(u=K+1<e.length&&e.charAt(K+1)==u)&&K++;return u},w=function(u){var v=n(u);u=RegExp("^\\d{1,"+(u=="@"?14:u=="!"?20:u=="y"&&v?4:u=="o"?3:2)+"}");u=g.substring(F).match(u);if(!u)throw"Missing number at position "+F;F+=u[0].length;return parseInt(u[0],10)},z=function(u,v,x){u=
n(u)?x:v;for(v=0;v<u.length;v++)if(g.substr(F,u[v].length).toLowerCase()==u[v].toLowerCase()){F+=u[v].length;return v+1}throw"Unknown name at position "+F;},y=function(){if(g.charAt(F)!=e.charAt(K))throw"Unexpected literal at position "+F;F++},F=0,K=0;K<e.length;K++)if(s)if(e.charAt(K)=="'"&&!n("'"))s=false;else y();else switch(e.charAt(K)){case "d":p=w("d");break;case "D":z("D",m,k);break;case "o":r=w("o");break;case "m":q=w("m");break;case "M":q=z("M",o,l);break;case "y":i=w("y");break;case "@":var t=
new Date(w("@"));i=t.getFullYear();q=t.getMonth()+1;p=t.getDate();break;case "!":t=new Date((w("!")-this._ticksTo1970)/1E4);i=t.getFullYear();q=t.getMonth()+1;p=t.getDate();break;case "'":if(n("'"))y();else s=true;break;default:y()}if(i==-1)i=(new Date).getFullYear();else if(i<100)i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=j?0:-100);if(r>-1){q=1;p=r;do{j=this._getDaysInMonth(i,q-1);if(p<=j)break;q++;p-=j}while(1)}t=this._daylightSavingAdjust(new Date(i,q-1,p));if(t.getFullYear()!=
i||t.getMonth()+1!=q||t.getDate()!=p)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(e,g,i){if(!g)return"";var j=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,m=(i?i.dayNames:null)||this._defaults.dayNames,
k=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var o=function(n){(n=s+1<e.length&&e.charAt(s+1)==n)&&s++;return n},l=function(n,w,z){w=""+w;if(o(n))for(;w.length<z;)w="0"+w;return w},q=function(n,w,z,y){return o(n)?y[w]:z[w]},p="",r=false;if(g)for(var s=0;s<e.length;s++)if(r)if(e.charAt(s)=="'"&&!o("'"))r=false;else p+=e.charAt(s);else switch(e.charAt(s)){case "d":p+=l("d",g.getDate(),2);break;case "D":p+=q("D",g.getDay(),j,m);break;
case "o":p+=l("o",(g.getTime()-(new Date(g.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":p+=l("m",g.getMonth()+1,2);break;case "M":p+=q("M",g.getMonth(),k,i);break;case "y":p+=o("y")?g.getFullYear():(g.getYear()%100<10?"0":"")+g.getYear()%100;break;case "@":p+=g.getTime();break;case "!":p+=g.getTime()*1E4+this._ticksTo1970;break;case "'":if(o("'"))p+="'";else r=true;break;default:p+=e.charAt(s)}return p},_possibleChars:function(e){for(var g="",i=false,j=function(k){(k=m+1<e.length&&e.charAt(m+
1)==k)&&m++;return k},m=0;m<e.length;m++)if(i)if(e.charAt(m)=="'"&&!j("'"))i=false;else g+=e.charAt(m);else switch(e.charAt(m)){case "d":case "m":case "y":case "@":g+="0123456789";break;case "D":case "M":return null;case "'":if(j("'"))g+="'";else i=true;break;default:g+=e.charAt(m)}return g},_get:function(e,g){return e.settings[g]!==a?e.settings[g]:this._defaults[g]},_setDateFromField:function(e,g){if(e.input.val()!=e.lastVal){var i=this._get(e,"dateFormat"),j=e.lastVal=e.input?e.input.val():null,
m,k;m=k=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{m=this.parseDate(i,j,o)||k}catch(l){this.log(l);j=g?"":j}e.selectedDay=m.getDate();e.drawMonth=e.selectedMonth=m.getMonth();e.drawYear=e.selectedYear=m.getFullYear();e.currentDay=j?m.getDate():0;e.currentMonth=j?m.getMonth():0;e.currentYear=j?m.getFullYear():0;this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,g,
i){var j=function(k){var o=new Date;o.setDate(o.getDate()+k);return o},m=function(k){try{return b.datepicker.parseDate(b.datepicker._get(e,"dateFormat"),k,b.datepicker._getFormatConfig(e))}catch(o){}var l=(k.toLowerCase().match(/^c/)?b.datepicker._getDate(e):null)||new Date,q=l.getFullYear(),p=l.getMonth();l=l.getDate();for(var r=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=r.exec(k);s;){switch(s[2]||"d"){case "d":case "D":l+=parseInt(s[1],10);break;case "w":case "W":l+=parseInt(s[1],10)*7;break;case "m":case "M":p+=
parseInt(s[1],10);l=Math.min(l,b.datepicker._getDaysInMonth(q,p));break;case "y":case "Y":q+=parseInt(s[1],10);l=Math.min(l,b.datepicker._getDaysInMonth(q,p));break}s=r.exec(k)}return new Date(q,p,l)};if(g=(g=g==null||g===""?i:typeof g=="string"?m(g):typeof g=="number"?isNaN(g)?i:j(g):new Date(g.getTime()))&&g.toString()=="Invalid Date"?i:g){g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0)}return this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(e){if(!e)return null;
e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,g,i){var j=!g,m=e.selectedMonth,k=e.selectedYear;g=this._restrictMinMax(e,this._determineDate(e,g,new Date));e.selectedDay=e.currentDay=g.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=g.getMonth();e.drawYear=e.selectedYear=e.currentYear=g.getFullYear();if((m!=e.selectedMonth||k!=e.selectedYear)&&!i)this._notifyChange(e);this._adjustInstDate(e);if(e.input)e.input.val(j?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||
e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var g=new Date;g=this._daylightSavingAdjust(new Date(g.getFullYear(),g.getMonth(),g.getDate()));var i=this._get(e,"isRTL"),j=this._get(e,"showButtonPanel"),m=this._get(e,"hideIfNoPrevNext"),k=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),l=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),p=o[0]!=1||o[1]!=1,r=this._daylightSavingAdjust(!e.currentDay?
new Date(9999,9,9):new Date(e.currentYear,e.currentMonth,e.currentDay)),s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");l=e.drawMonth-l;var w=e.drawYear;if(l<0){l+=12;w--}if(n){var z=this._daylightSavingAdjust(new Date(n.getFullYear(),n.getMonth()-o[0]*o[1]+1,n.getDate()));for(z=s&&z<s?s:z;this._daylightSavingAdjust(new Date(w,l,1))>z;){l--;if(l<0){l=11;w--}}}e.drawMonth=l;e.drawYear=w;z=this._get(e,"prevText");z=!k?z:this.formatDate(z,this._daylightSavingAdjust(new Date(w,l-q,1)),this._getFormatConfig(e));
z=this._canAdjustMonth(e,-1,w,l)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+h+".datepicker._adjustDate('#"+e.id+"', -"+q+", 'M');\" title=\""+z+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+z+"</span></a>":m?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+z+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+z+"</span></a>";var y=this._get(e,"nextText");y=!k?y:this.formatDate(y,this._daylightSavingAdjust(new Date(w,
l+q,1)),this._getFormatConfig(e));m=this._canAdjustMonth(e,+1,w,l)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+h+".datepicker._adjustDate('#"+e.id+"', +"+q+", 'M');\" title=\""+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":m?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>";q=this._get(e,"currentText");y=this._get(e,"gotoCurrent")&&
e.currentDay?r:g;q=!k?q:this.formatDate(q,y,this._getFormatConfig(e));k=!e.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+h+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>":"";j=j?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?k:"")+(this._isInRange(e,y)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+
h+".datepicker._gotoToday('#"+e.id+"');\">"+q+"</button>":"")+(i?"":k)+"</div>":"";k=parseInt(this._get(e,"firstDay"),10);k=isNaN(k)?0:k;q=this._get(e,"showWeek");y=this._get(e,"dayNames");this._get(e,"dayNamesShort");var F=this._get(e,"dayNamesMin"),K=this._get(e,"monthNames"),t=this._get(e,"monthNamesShort"),u=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),x=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek");for(var C=this._getDefaultDate(e),H="",L=0;L<o[0];L++){for(var Q=
"",R=0;R<o[1];R++){var J=this._daylightSavingAdjust(new Date(w,l,e.selectedDay)),A=" ui-corner-all",D="";if(p){D+='<div class="ui-datepicker-group';if(o[1]>1)switch(R){case 0:D+=" ui-datepicker-group-first";A=" ui-corner-"+(i?"right":"left");break;case o[1]-1:D+=" ui-datepicker-group-last";A=" ui-corner-"+(i?"left":"right");break;default:D+=" ui-datepicker-group-middle";A="";break}D+='">'}D+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+A+'">'+(/all|left/.test(A)&&L==0?i?
m:z:"")+(/all|right/.test(A)&&L==0?i?z:m:"")+this._generateMonthYearHeader(e,l,w,s,n,L>0||R>0,K,t)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var I=q?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(A=0;A<7;A++){var G=(A+k)%7;I+="<th"+((A+k+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+y[G]+'">'+F[G]+"</span></th>"}D+=I+"</tr></thead><tbody>";I=this._getDaysInMonth(w,l);if(w==e.selectedYear&&l==e.selectedMonth)e.selectedDay=Math.min(e.selectedDay,
I);A=(this._getFirstDayOfMonth(w,l)-k+7)%7;I=p?6:Math.ceil((A+I)/7);G=this._daylightSavingAdjust(new Date(w,l,1-A));for(var T=0;T<I;T++){D+="<tr>";var W=!q?"":'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>";for(A=0;A<7;A++){var U=u?u.apply(e.input?e.input[0]:null,[G]):[true,""],X=G.getMonth()!=l,aa=X&&!x||!U[0]||s&&G<s||n&&G>n;W+='<td class="'+((A+k+6)%7>=5?" ui-datepicker-week-end":"")+(X?" ui-datepicker-other-month":"")+(G.getTime()==J.getTime()&&l==e.selectedMonth&&
e._keyEvent||C.getTime()==G.getTime()&&C.getTime()==J.getTime()?" "+this._dayOverClass:"")+(aa?" "+this._unselectableClass+" ui-state-disabled":"")+(X&&!v?"":" "+U[1]+(G.getTime()==r.getTime()?" "+this._currentClass:"")+(G.getTime()==g.getTime()?" ui-datepicker-today":""))+'"'+((!X||v)&&U[2]?' title="'+U[2]+'"':"")+(aa?"":' onclick="DP_jQuery_'+h+".datepicker._selectDay('#"+e.id+"',"+G.getMonth()+","+G.getFullYear()+', this);return false;"')+">"+(X&&!v?"&#xa0;":aa?'<span class="ui-state-default">'+
G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==g.getTime()?" ui-state-highlight":"")+(G.getTime()==r.getTime()?" ui-state-active":"")+(X?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>";G.setDate(G.getDate()+1);G=this._daylightSavingAdjust(G)}D+=W+"</tr>"}l++;if(l>11){l=0;w++}D+="</tbody></table>"+(p?"</div>"+(o[0]>0&&R==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");Q+=D}H+=Q}H+=j+(b.browser.msie&&parseInt(b.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':
"");e._keyEvent=false;return H},_generateMonthYearHeader:function(e,g,i,j,m,k,o,l){var q=this._get(e,"changeMonth"),p=this._get(e,"changeYear"),r=this._get(e,"showMonthAfterYear"),s='<div class="ui-datepicker-title">',n="";if(k||!q)n+='<span class="ui-datepicker-month">'+o[g]+"</span>";else{o=j&&j.getFullYear()==i;var w=m&&m.getFullYear()==i;n+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+h+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" onclick=\"DP_jQuery_"+h+".datepicker._clickMonthYear('#"+
e.id+"');\">";for(var z=0;z<12;z++)if((!o||z>=j.getMonth())&&(!w||z<=m.getMonth()))n+='<option value="'+z+'"'+(z==g?' selected="selected"':"")+">"+l[z]+"</option>";n+="</select>"}r||(s+=n+(k||!(q&&p)?"&#xa0;":""));e.yearshtml="";if(k||!p)s+='<span class="ui-datepicker-year">'+i+"</span>";else{l=this._get(e,"yearRange").split(":");var y=(new Date).getFullYear();o=function(F){F=F.match(/c[+-].*/)?i+parseInt(F.substring(1),10):F.match(/[+-].*/)?y+parseInt(F,10):parseInt(F,10);return isNaN(F)?y:F};g=
o(l[0]);l=Math.max(g,o(l[1]||""));g=j?Math.max(g,j.getFullYear()):g;l=m?Math.min(l,m.getFullYear()):l;for(e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+h+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+h+".datepicker._clickMonthYear('#"+e.id+"');\">";g<=l;g++)e.yearshtml+='<option value="'+g+'"'+(g==i?' selected="selected"':"")+">"+g+"</option>";e.yearshtml+="</select>";if(b.browser.mozilla)s+='<select class="ui-datepicker-year"><option value="'+
i+'" selected="selected">'+i+"</option></select>";else{s+=e.yearshtml;e.yearshtml=null}}s+=this._get(e,"yearSuffix");if(r)s+=(k||!(q&&p)?"&#xa0;":"")+n;s+="</div>";return s},_adjustInstDate:function(e,g,i){var j=e.drawYear+(i=="Y"?g:0),m=e.drawMonth+(i=="M"?g:0);g=Math.min(e.selectedDay,this._getDaysInMonth(j,m))+(i=="D"?g:0);j=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(j,m,g)));e.selectedDay=j.getDate();e.drawMonth=e.selectedMonth=j.getMonth();e.drawYear=e.selectedYear=j.getFullYear();
if(i=="M"||i=="Y")this._notifyChange(e)},_restrictMinMax:function(e,g){var i=this._getMinMaxDate(e,"min"),j=this._getMinMaxDate(e,"max");i=i&&g<i?i:g;return i=j&&i>j?j:i},_notifyChange:function(e){var g=this._get(e,"onChangeMonthYear");if(g)g.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){e=this._get(e,"numberOfMonths");return e==null?[1,1]:typeof e=="number"?[1,e]:e},_getMinMaxDate:function(e,g){return this._determineDate(e,this._get(e,g+"Date"),
null)},_getDaysInMonth:function(e,g){return 32-(new Date(e,g,32)).getDate()},_getFirstDayOfMonth:function(e,g){return(new Date(e,g,1)).getDay()},_canAdjustMonth:function(e,g,i,j){var m=this._getNumberOfMonths(e);i=this._daylightSavingAdjust(new Date(i,j+(g<0?g:m[0]*m[1]),1));g<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth()));return this._isInRange(e,i)},_isInRange:function(e,g){var i=this._getMinMaxDate(e,"min"),j=this._getMinMaxDate(e,"max");return(!i||g.getTime()>=i.getTime())&&
(!j||g.getTime()<=j.getTime())},_getFormatConfig:function(e){var g=this._get(e,"shortYearCutoff");g=typeof g!="string"?g:(new Date).getFullYear()%100+parseInt(g,10);return{shortYearCutoff:g,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,g,i,j){if(!g){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}g=g?typeof g=="object"?g:
this._daylightSavingAdjust(new Date(j,i,g)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),g,this._getFormatConfig(e))}});b.fn.datepicker=function(e){if(!b.datepicker.initialized){b(document).mousedown(b.datepicker._checkExternalClick).find("body").append(b.datepicker.dpDiv);b.datepicker.initialized=true}var g=Array.prototype.slice.call(arguments,1);if(typeof e=="string"&&(e=="isDisabled"||e=="getDate"||e=="widget"))return b.datepicker["_"+
e+"Datepicker"].apply(b.datepicker,[this[0]].concat(g));if(e=="option"&&arguments.length==2&&typeof arguments[1]=="string")return b.datepicker["_"+e+"Datepicker"].apply(b.datepicker,[this[0]].concat(g));return this.each(function(){typeof e=="string"?b.datepicker["_"+e+"Datepicker"].apply(b.datepicker,[this].concat(g)):b.datepicker._attachDatepicker(this,e)})};b.datepicker=new c;b.datepicker.initialized=false;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.8.7";window["DP_jQuery_"+h]=
b})(jQuery);(function(b){b.datepicker._parse=function(c){if(!c)return null;var f,h;if(RegExp("("+b.datepicker.regional[""].monthNamesShort.join("|")+")","i").exec(c)){f=RegExp.$1;f=f.substring(0,1).toUpperCase()+f.substring(1).toLowerCase();f=b.inArray(f,b.datepicker.regional[""].monthNamesShort);h=/(\d{1,2})[^\d]*(\d{4}|\d{1,2})?/.exec(c);if(!h)return null;c=h[1];(h=h[2])||(h=(new Date).getFullYear());if(h.length==2)h="20"+h;if(h.length==1)h="200"+h}else if(/^[^\d]*(\d{1,2})[^\d]*(\d{1,2})?[^\d]*(\d{1,2}|\d{4})?[^\d]*$/.exec(c)){f=
RegExp.$1;c=RegExp.$2;(h=RegExp.$3)||(h=(new Date).getFullYear());if(h.length==2)h="20"+h;if(h.length==1)h="200"+h;if(c){if(f>12&&c<=12){f=c;c=RegExp.$1}}else{c=f;f=(new Date).getMonth()+1}f-=1}else return null;return new Date(h,f,c)};b.datepicker._doKeyUp=function(c){c=b.datepicker._getInst(c.target);if(c.input.val()!=c.lastVal)try{if(b.datepicker._parse(c.input?c.input.val():null)){b.datepicker._setDateFromField(c);b.datepicker._updateAlternate(c);b.datepicker._updateDatepicker(c);var f=b.datepicker._get(c,
"onSelect");if(f)f.apply(c.input?c.input[0]:null,[b.datepicker._formatDate(c),c])}}catch(h){b.datepicker.log(h)}return true};b.datepicker._doBlur=function(c){var f=c.target;c=b.datepicker._getInst(f);var h=b.datepicker._getDate(c);if(h){f.value=b.datepicker.formatDate(b.datepicker._get(c,"dateFormat"),h);if(f=b.datepicker._get(c,"onSelect"))f.apply(c.input?c.input[0]:null,[b.datepicker._formatDate(c,c.currentDay,c.currentMonth,c.currentYear),c])}};b.datepicker._connectDatepicker=function(c,f){var h=
b(c);f.append=b([]);f.trigger=b([]);if(!h.hasClass(this.markerClassName)){this._attachments(h,f);h.addClass(this.markerClassName).keydown(this._doKeyDown).blur(this._doBlur).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,g,i){f.settings[g]=i}).bind("getData.datepicker",function(e,g){return this._get(f,g)});this._autoSize(f);b.data(c,"datepicker",f)}};b.datepicker._setDateFromField=function(c,f){if(c.input.val()!=c.lastVal){this._get(c,"dateFormat");var h=c.lastVal=
c.input?c.input.val():null,e,g;e=g=this._getDefaultDate(c);this._getFormatConfig(c);try{e=b.datepicker._parse(h)||g}catch(i){this.log(i);h=f?"":h}c.selectedDay=e.getDate();c.drawMonth=c.selectedMonth=e.getMonth();c.drawYear=c.selectedYear=e.getFullYear();c.currentDay=h?e.getDate():0;c.currentMonth=h?e.getMonth():0;c.currentYear=h?e.getFullYear():0;this._adjustInstDate(c)}};var a=b.datepicker._updateDatepicker;b.datepicker._updateDatepicker=function(c){a.apply(this,arguments);var f=b.datepicker._get(c,
"onUpdate");f&&f.apply(this,[])};b.datepicker._selectDay=function(c,f,h,e){var g=b(c);if(!(b(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0]))){g=this._getInst(g[0]);g.selectedDay=g.currentDay=b("a",e).text();g.selectedMonth=g.currentMonth=f;g.selectedYear=g.currentYear=h;this._selectDate(c,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear))}}})(jQuery);(function(b){b.fn.hoverIntent=function(a,c){var f={sensitivity:7,interval:100,timeout:0};f=b.extend(f,c?{over:a,out:c}:a);var h,e,g,i,j=function(o){h=o.pageX;e=o.pageY},m=function(o,l){l.hoverIntent_t=clearTimeout(l.hoverIntent_t);if(Math.abs(g-h)+Math.abs(i-e)<f.sensitivity){b(l).unbind("mousemove",j);l.hoverIntent_s=1;return f.over.apply(l,[o])}else{g=h;i=e;l.hoverIntent_t=setTimeout(function(){m(o,l)},f.interval)}},k=function(o){for(var l=(o.type=="mouseover"?o.fromElement:o.toElement)||o.relatedTarget;l&&
l!=this;)try{l=l.parentNode}catch(q){l=this}if(l==this)return false;var p=jQuery.extend({},o),r=this;if(r.hoverIntent_t)r.hoverIntent_t=clearTimeout(r.hoverIntent_t);if(o.type=="mouseover"){g=p.pageX;i=p.pageY;b(r).bind("mousemove",j);if(r.hoverIntent_s!=1)r.hoverIntent_t=setTimeout(function(){m(p,r)},f.interval)}else{b(r).unbind("mousemove",j);if(r.hoverIntent_s==1)r.hoverIntent_t=setTimeout(function(){r.hoverIntent_t=clearTimeout(r.hoverIntent_t);r.hoverIntent_s=0;f.out.apply(r,[p])},f.timeout)}};
return this.mouseover(k).mouseout(k)}})(jQuery);(function(b){function a(l){if(this.tSettings.delay)m=setTimeout(f,this.tSettings.delay);else f();o=!!this.tSettings.track;b("body").bind("mousemove",h);h(l)}function c(){if(!(b.Tooltip.blocked||this==i||!this.tooltipText)){i=this;j=this.tooltipText;if(this.tSettings.bodyHandler){g.title.hide();g.body.html(this.tSettings.bodyHandler.call(this)).show()}else if(this.tSettings.showBody){var l=j.split(this.tSettings.showBody);g.title.html(l.shift()).show();g.body.empty();for(var q=0,p;p=l[q];q++){q>0&&
g.body.append("<br/>");g.body.append(p)}g.body.hideWhenEmpty()}else{g.title.html(j).show();g.body.hide()}this.tSettings.showURL&&b(this).url()?g.url.html(b(this).url().replace("http://","")).show():g.url.hide();g.parent.addClass(this.tSettings.extraClass);this.tSettings.fixPNG&&g.parent.fixPNG();a.apply(this,arguments)}}function f(){m=null;g.parent.show();h()}function h(l){if(!b.Tooltip.blocked){!o&&g.parent.is(":visible")&&b("body").unbind("mousemove",h);if(i==null)b("body").unbind("mousemove",h);
else{var q=g.parent[0].offsetLeft,p=g.parent[0].offsetTop;if(l){q=l.pageX+i.tSettings.left;p=l.pageY+i.tSettings.top;g.parent.css({left:q+"px",top:p+"px"})}l={x:b(window).scrollLeft(),y:b(window).scrollTop(),cx:b(window).width(),cy:b(window).height()};var r=g.parent[0];if(l.x+l.cx<r.offsetLeft+r.offsetWidth){q-=r.offsetWidth+20+i.tSettings.left;g.parent.css({left:q+"px"})}if(l.y+l.cy<r.offsetTop+r.offsetHeight){p-=r.offsetHeight+20+i.tSettings.top;g.parent.css({top:p+"px"})}}}}function e(){if(!b.Tooltip.blocked){m&&
clearTimeout(m);i=null;g.parent.hide().removeClass(this.tSettings.extraClass);this.tSettings.fixPNG&&g.parent.unfixPNG()}}var g={},i,j,m,k=b.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),o=false;b.Tooltip={blocked:false,defaults:{delay:200,showURL:true,extraClass:"",top:15,left:15},block:function(){b.Tooltip.blocked=!b.Tooltip.blocked}};b.fn.extend({Tooltip:function(l){l=b.extend({},b.Tooltip.defaults,l);if(!g.parent){g.parent=b('<div id="tooltip" style="display:none;"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo("body");
b.fn.bgiframe&&g.parent.bgiframe();g.title=b("h3",g.parent);g.body=b("div.body",g.parent);g.url=b("div.url",g.parent)}return this.each(function(){this.tSettings=l;this.tooltipText=this.title;b(this).removeAttr("title");this.alt=""}).hover(c,e).click(e)},fixPNG:k?function(){return this.each(function(){var l=b(this).css("backgroundImage");if(l.match(/^url\(["']?(.*\.png)["']?\)$/i)){l=RegExp.$1;b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+
l+"')"}).each(function(){var q=b(this).css("position");q!="absolute"&&q!="relative"&&b(this).css("position","relative")})}})}:function(){return this},unfixPNG:k?function(){return this.each(function(){b(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){b(this)[b(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);(function(b){function a(g){function i(j){var m=RegExp(b.map(j,encodeURIComponent).join("|"),"ig");return function(k){return k.replace(m,decodeURIComponent)}}g=b.extend({unescape:false},g||{});c.encoder=function(j){if(j===false)return function(m){return m};if(typeof j=="string"&&(j=i(j.split("")))||typeof j=="function")return function(m){return j(encodeURIComponent(m))};return encodeURIComponent}(g.unescape);c.decoder=function(j){if(j===false||b.browser.mozilla)return function(m){return b.browser.mozilla?
m.replace(/%20/g," "):m};return decodeURIComponent}(g.unescape)}var c={put:function(g,i){(i||window).location.hash=this.encoder(g)},get:function(g){g=odesk.url.parse((g||window).location.href).anchor;try{return this.decoder(g)}catch(i){return g}},encoder:function(g){return g},decoder:function(g){return g}},f={id:"__jQuery_history",init:function(){var g='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';b("body").prepend(g);return this},_document:function(){return b("#"+this.id)[0].contentWindow.document},
put:function(g){var i=this._document();i.open();i.close();c.put(g,i)},get:function(){return c.get(this._document())}},h={};h.base={callback:undefined,type:undefined,check:function(){},load:function(){},init:function(g,i){a(i);e.callback=g;e._options=i;e._init()},_init:function(){},_options:{}};h.timer={_appState:undefined,_init:function(){var g=c.get();e._appState=g;e.callback(g);setInterval(e.check,100)},check:function(){var g=c.get();if(g!=e._appState){e._appState=g;e.callback(g)}},load:function(g){if(g!=
e._appState){c.put(g);e._appState=g;e.callback(g)}}};h.iframeTimer={_appState:undefined,_init:function(){var g=c.get();e._appState=g;f.init().put(g);e.callback(g);setInterval(e.check,100)},check:function(){var g=f.get(),i=c.get();if(i!=g)if(i==e._appState){e._appState=g;c.put(g);e.callback(g)}else{e._appState=i;f.put(i);e.callback(i)}},load:function(g){if(g!=e._appState){c.put(g);f.put(g);e._appState=g;e.callback(g)}}};h.hashchangeEvent={_init:function(){e.callback(c.get());b(window).bind("hashchange",
e.check)},check:function(){e.callback(c.get())},load:function(g){c.put(g)}};var e=b.extend({},h.base);e.type=b.browser.msie&&(b.browser.version<8||document.documentMode<8)?"iframeTimer":"onhashchange"in window?"hashchangeEvent":"timer";b.extend(e,h[e.type]);b.history=e})(jQuery);(function(b){var a=function(p,r){this.moveTo(p[0].x,p[0].y);for(var s=1;s<p.length;s++)if(p[s-1].type=="arcStart"){this.quadraticCurveTo(c(p[s].x,r),c(p[s].y,r),c(p[(s+1)%p.length].x,r),c(p[(s+1)%p.length].y,r));s++}else this.lineTo(c(p[s].x,r),c(p[s].y,r))},c=function(p,r){r=f(r);return r%2?p:Math.round(p-0.5)+0.5},f=function(p){return parseInt(p,10)||0},h=function(p,r){var s,n=[];for(s in p)p[s]!=r&&n.push(p[s]);return n},e=function(){if(/webkit/.test(navigator.userAgent.toLowerCase()))return true;
else if(b.browser.mozilla&&parseFloat(b.browser.version)>=3.1)return true;if(b.browser.opera)return true;return false},g=function(p,r,s){if(p.x==r.x){r=p.y<r.y?p.y+s:p.y-s;return{x:p.x,y:r}}else if(p.y==r.y){r=p.x<r.x?p.x+s:p.x-s;return{x:r,y:p.y}}},i=function(p,r,s,n,w){if(r==n)return{x:w,y:r};s=(r-n)/(p-s);return{x:w,y:s*w+(r-s*p)}},j=function(p,r,s,n,w){if(p==s)return{x:p,y:w};s=(r-n)/(p-s);return{x:(w-(r-s*p))/s,y:w}};b.obt={version:"0.9.5-rc1"};b.fn.obt=function(p,r){var s;if(typeof p=="string"||
p instanceof b)s=false;else{s=true;r=p;p=false}if(b.fn.hoverIntent&&b.obt.defaults.trigger=="hover")b.obt.defaults.trigger="hoverIntent";b(this).data("obt",true);return this.each(function(){var n=b.extend(false,b.obt.defaults,b.obt.options,r);n.spikeLength=f(n.spikeLength);n.spikeGirth=f(n.spikeGirth);n.overlap=f(n.overlap);n.top_indent=f(n.top_indent);var w=false;n.killTitle&&b(this).find("[title]").andSelf().each(function(){if(!b(this).attr("bt-xtitle")){var A=b(this);A.attr("bt-xtitle",A.attr("title"));
A.attr("title","")}});if(typeof n.trigger=="string")n.trigger=[n.trigger];if(n.trigger[0]=="hoverIntent"){var z=b.extend(n.hoverIntentOpts,{over:function(){this.obtOn()},out:function(){this.obtOff()}});b(this).hoverIntent(z)}else if(n.trigger[0]=="hover")b(this).hover(function(){this.obtOn()},function(){this.obtOff()});else if(n.trigger[0]=="now")b(this).hasClass("bt-active")?this.obtOff():this.obtOn();else n.trigger.length>1&&n.trigger[0]!=n.trigger[1]?b(this).bind(n.trigger[0],function(){this.obtOn()}).bind(n.trigger[1],
function(){this.obtOff()}):b(this).bind(n.trigger[0],function(){b(this).hasClass("bt-active")?this.obtOff():this.obtOn()});b(window).bind("resize",function(){b(J).hasClass("bt-active")&&J.obtOn(null,true)});var y,F,K,t,u,v,x,C,H,L,Q,R,J=this;this.obtSetContent=function(A){if(A&&typeof A=="string")p=A};this.obtOn=function(A,D){b(this).data("bt-box")||(D=false);if(!D){if(n.ajaxPrefetchOffset!=null&&!y&&!F)y=setTimeout(function(){F=true;y=false;J.obtOn(A)},n.ajaxPrefetchOffset);if(n.ajaxPrefetchOffset!=
null&&y&&!F)return;typeof b(this).data("bt-box")=="object"&&this.obtOff();q=this;n.preBuild.apply(this);b(b.obt.vars.closeWhenOpenStack).obtOff();b(this).addClass("bt-active "+n.activeClass);if(s&&n.ajaxPath==null)p=n.contentSelector=="$(this).attr('title')"?b(this).attr("bt-xtitle"):b.isFunction(n.contentSelector)?n.contentSelector.apply(this):null;if(n.ajaxPath!=null&&!p){var I=n.ajaxPath,G=I.indexOf(" "),T;if(G>=0){T=I.slice(G,I.length);I=I.slice(0,G)}G=n.ajaxCache?b(document.body).data("btCache-"+
I.replace(/\./g,"")):null;if(typeof G=="string")p=T?b("<div/>").append(G.replace(/<script(.|\s)*?\/script>/g,"")).find(T):G;else{var W=this;G=b.extend(false,{type:n.ajaxType,data:n.ajaxData,cache:n.ajaxCache,url:I,complete:function(ba,ia){if(ia=="success"||ia=="notmodified"){n.ajaxCache&&b(document.body).data("btCache-"+I.replace(/\./g,""),ba.responseText);w=false;p=T?b("<div/>").append(ba.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(T):ba.responseText}else{if(ia=="timeout")w=true;p=
n.ajaxError.replace(/%error/g,ba.statusText)}b(W).hasClass("bt-active")&&W.obtOn()},error:function(){w=true;W.obtOff()}},n.ajaxOpts);b.ajax(G);p=n.ajaxLoading}}}var U=0,X=0,aa=G=0;if(n.shadow&&!e()){n.shadow=false;b.extend(n,n.noShadowOpts)}if(n.shadow){U=n.shadowBlur>Math.abs(n.shadowOffsetX)?n.shadowBlur*2:n.shadowBlur+Math.abs(n.shadowOffsetX);G=n.shadowBlur-n.shadowOffsetX>0?n.shadowBlur-n.shadowOffsetX:0;X=n.shadowBlur>Math.abs(n.shadowOffsetY)?n.shadowBlur*2:n.shadowBlur+Math.abs(n.shadowOffsetY);
aa=n.shadowBlur-n.shadowOffsetY>0?n.shadowBlur-n.shadowOffsetY:0}var ca=b(this).offset();if(ca.top||ca.left){D||(K=setInterval(function(){J.offsetWidth||b(J).obtOff();if(u){var ba=u[0].offsetHeight;if(ba)if(R==null)R=ba;else if(R!=ba){R=ba;b(J).obtOff().obtOn()}}},100));var fa=f(ca.top)+f(b(this).css("margin-top"))-aa;ca=f(ca.left)+f(b(this).css("margin-left"))-G;var ea=b(this).btOuterWidth(),ga=b(this).btOuterHeight();if(typeof p=="object"&&n.clone){var N=p,P=b(N).clone(true).show(),S=b(N).data("bt-clones")||
[];S.push(P);b(N).data("bt-clones",S);b(P).data("bt-orig",N);b(this).data("bt-content-orig",{original:N,clone:P});p=P}if(p){if(!D){u=b('<div class="bt-content"></div>').append(p).css({padding:n.padding,position:"absolute",width:n.shrinkToFit?"auto":n.width,zIndex:n.textzIndex,left:G,top:aa}).css(n.cssStyles);t=b('<div class="bt-wrapper"></div>').append(u).addClass(n.cssClass).css({position:"absolute",width:n.width,zIndex:n.wrapperzIndex,visibility:"hidden"}).appendTo(document.body).data("element",
b(this));b(this).data("bt-box",t)}N=f(b(document).scrollTop());P=f(b(document).scrollLeft());var Y=f(b(window).width()),da=f(b(window).height());S=P+Y;var V=N+da,M={},ha=b(this).offset();if(A){M.top=A.y-N;M.bottom=da+N-A.y;M.left=A.x-P;M.right=Y+P-A.x}else{M.top=ha.top-N;M.bottom=da-(ha.top+ga-N);M.left=ha.left-P;M.right=Y-(ha.left+ea-P)}Y=f(u.btOuterHeight());da=f(u.btOuterWidth());if(n.positions.constructor==String)n.positions=n.positions.replace(/ /,"").split(",");var Z;if(n.positions[0]=="most"){Z=
"top";for(var B in M)Z=M[B]>M[Z]?B:Z}else for(var O in n.positions){Z=n.positions[O];if((Z=="left"||Z=="right")&&M[Z]>da+n.spikeLength-n.overlap)break;else if((Z=="top"||Z=="bottom")&&M[Z]>Y+n.spikeLength-n.overlap)break}L=D?L:ca+(ea-da)*0.5;if(n.align==="left")L=D?L:ca;Q=D?Q:fa+(ga-Y)*0.5;if(n.vertical!="auto")Q=fa+n.vertical;B=[];var E;switch(Z){case "top":u.css("margin-bottom",n.spikeLength+"px");t.css({top:fa-u.btOuterHeight(true)+n.overlap,left:L});if(A){A.x&&t.css("left",A.x-da/2);A.y&&t.css("top",
A.y-Y+n.overlap)}H=D?H:S-n.windowMargin-(u.offset().left+u.btOuterWidth(true));M=G;if(H<0){t.css("left",f(t.css("left"))+H+"px");M-=H}C=D?C:u.offset().left+f(u.css("margin-left"))-(P+n.windowMargin);if(C<0){t.css("left",f(t.css("left"))-C+"px");M+=C}O=u[0].offsetTop;N=u[0].offsetLeft;P=N+u.btOuterWidth();S=O+u.btOuterHeight();V={x:N+u.btOuterWidth()*n.centerPointX,y:O+u.btOuterHeight()*n.centerPointY};Y=(P-N)*0.5+M;if(n.align==="left")Y=N+ea/2+M;B[B.length]=M={y:S+n.spikeLength,x:Y,type:"spike"};
if(n.vertical!="auto"||A)V.x=M.x;switch(n.align){case "left":E=j(M.x,M.y,N+ea/2,V.y,S);break;case "center":E=j(M.x,M.y,V.x,V.y,S);break}E.x=E.x<N+n.spikeGirth/2+n.cornerRadius?N+n.spikeGirth/2+n.cornerRadius:E.x;E.x=E.x>P-n.spikeGirth/2-n.cornerRadius?P-n.spikeGirth/2-n.CornerRadius:E.x;B[B.length]={x:E.x-n.spikeGirth/2,y:S,type:"join"};B[B.length]={x:N,y:S,type:"corner"};B[B.length]={x:N,y:O,type:"corner"};B[B.length]={x:P,y:O,type:"corner"};B[B.length]={x:P,y:S,type:"corner"};B[B.length]={x:E.x+
n.spikeGirth/2,y:S,type:"join"};B[B.length]=M;break;case "left":u.css("margin-right",n.spikeLength+"px");t.css({top:Q+n.top_indent+"px",left:ca-u.btOuterWidth(true)+n.overlap+"px"});n.atMouse&&t.css({left:b.mousePosition.x-f(u.btOuterWidth(true))-5,top:b.mousePosition.y-n.vertical});if(A){A.x&&t.css("left",A.x-da+n.overlap);A.y&&t.css("top",A.y-Y/2)}n.vertical!="auto"&&t.css("top",fa+this.offsetHeight/2-n.vertical);x=D?x:V-n.windowMargin-(u.offset().top+u.btOuterHeight(true));E=aa-n.top_indent;if(n.vertical!=
"auto")E=-u.btOuterHeight()/2+n.vertical;if(A)E=0;if(x<0){t.css("top",f(t.css("top"))+x+"px");E-=x}v=D?v:u.offset().top+f(u.css("margin-top"))-(N+n.windowMargin);if(v<0){t.css("top",f(t.css("top"))-v+"px");E+=v}O=u[0].offsetTop;N=u[0].offsetLeft;P=N+u.btOuterWidth();S=O+u.btOuterHeight();V={x:N+u.btOuterWidth()*n.centerPointX,y:O+u.btOuterHeight()*n.centerPointY};B[B.length]=M={x:P+n.spikeLength,y:(S-O)*0.5+E,type:"spike"};if(n.vertical!="auto"||A)V.y=M.y;E=i(M.x,M.y,V.x,V.y,P);E.y=E.y<O+n.spikeGirth/
2+n.cornerRadius?O+n.spikeGirth/2+n.cornerRadius:E.y;E.y=E.y>S-n.spikeGirth/2-n.cornerRadius?S-n.spikeGirth/2-n.cornerRadius:E.y;B[B.length]={x:P,y:E.y+n.spikeGirth/2,type:"join"};B[B.length]={x:P,y:S,type:"corner"};B[B.length]={x:N,y:S,type:"corner"};B[B.length]={x:N,y:O,type:"corner"};B[B.length]={x:P,y:O,type:"corner"};B[B.length]={x:P,y:E.y-n.spikeGirth/2,type:"join"};B[B.length]=M;break;case "bottom":u.css("margin-top",n.spikeLength+"px");t.css({top:fa+ga-n.overlap,left:L});if(A){A.x&&t.css("left",
A.x-da/2);A.y&&t.css("top",A.y-n.overlap)}H=D?H:S-n.windowMargin-(u.offset().left+u.btOuterWidth(true));M=G;if(H<0){t.css("left",f(t.css("left"))+H+"px");M-=H}C=D?C:u.offset().left+f(u.css("margin-left"))-(P+n.windowMargin);if(C<0){t.css("left",f(t.css("left"))-C+"px");M+=C}O=u[0].offsetTop;N=u[0].offsetLeft;P=N+u.btOuterWidth();S=O+u.btOuterHeight();V={x:N+u.btOuterWidth()*n.centerPointX,y:O+u.btOuterHeight()*n.centerPointY};Y=(P-N)*0.5+M;if(n.align==="left")Y=N+ea/2+M;B[B.length]=M={x:Y,y:aa,type:"spike"};
if(n.vertical!="auto"||A)V.x=M.x;switch(n.align){case "left":E=j(M.x,M.y,N+ea/2,O,O);break;case "center":E=j(M.x,M.y,V.x,V.y,O);break}E.x=E.x<N+n.spikeGirth/2+n.cornerRadius?N+n.spikeGirth/2+n.cornerRadius:E.x;E.x=E.x>P-n.spikeGirth/2-n.cornerRadius?P-n.spikeGirth/2-n.cornerRadius:E.x;B[B.length]={x:E.x+n.spikeGirth/2,y:O,type:"join"};B[B.length]={x:P,y:O,type:"corner"};B[B.length]={x:P,y:S,type:"corner"};B[B.length]={x:N,y:S,type:"corner"};B[B.length]={x:N,y:O,type:"corner"};B[B.length]={x:E.x-n.spikeGirth/
2,y:O,type:"join"};B[B.length]=M;break;case "right":u.css("margin-left",n.spikeLength+"px");t.css({top:Q+n.top_indent+"px",left:ca+ea-n.overlap+"px"});n.atMouse&&t.css({left:b.mousePosition.x+5,top:b.mousePosition.y-n.vertical});if(A){A.x&&t.css("left",A.x-n.overlap);A.y&&t.css("top",A.y-Y/2)}n.vertical!="auto"&&t.css("top",fa+this.offsetHeight/2-n.vertical);x=D?x:V-n.windowMargin-(u.offset().top+u.btOuterHeight(true));E=aa-n.top_indent;if(n.vertical!="auto"&&!A)E=-u.btOuterHeight()/2+n.vertical;
if(A)E=0;if(x<0){t.css("top",f(t.css("top"))+x+"px");E-=x}v=D?v:u.offset().top+f(u.css("margin-top"))-(N+n.windowMargin);if(v<0){t.css("top",f(t.css("top"))-v+"px");E+=v}O=u[0].offsetTop;N=u[0].offsetLeft;P=N+u.btOuterWidth();S=O+u.btOuterHeight();V={x:N+u.btOuterWidth()*n.centerPointX,y:O+u.btOuterHeight()*n.centerPointY};B[B.length]=M={x:G,y:(S-O)*0.5+E,type:"spike"};if(n.vertical!="auto"||A)V.y=M.y;E=i(M.x,M.y,V.x,V.y,N);E.y=E.y<O+n.spikeGirth/2+n.cornerRadius?O+n.spikeGirth/2+n.cornerRadius:E.y;
E.y=E.y>S-n.spikeGirth/2-n.cornerRadius?S-n.spikeGirth/2-n.cornerRadius:E.y;B[B.length]={x:N,y:E.y-n.spikeGirth/2,type:"join"};B[B.length]={x:N,y:O,type:"corner"};B[B.length]={x:P,y:O,type:"corner"};B[B.length]={x:P,y:S,type:"corner"};B[B.length]={x:N,y:S,type:"corner"};B[B.length]={x:N,y:E.y+n.spikeGirth/2,type:"join"};B[B.length]=M;break}t.find("canvas").remove();E=document.createElement("canvas");b(E).prop("width",f(u.btOuterWidth(true))+n.strokeWidth*2+U).prop("height",f(u.btOuterHeight(true))+
n.strokeWidth*2+X).appendTo(t).css({position:"absolute",zIndex:n.boxzIndex});if(typeof G_vmlCanvasManager!="undefined")E=G_vmlCanvasManager.initElement(E);if(n.cornerRadius>0){U=[];for(O=0;O<B.length;O++)if(B[O].type=="corner"){X=g(B[O],B[(O-1)%B.length],n.cornerRadius);X.type="arcStart";U[U.length]=X;U[U.length]=B[O];X=g(B[O],B[(O+1)%B.length],n.cornerRadius);X.type="arcEnd";U[U.length]=X}else U[U.length]=B[O];B=U}E=E.getContext("2d");if(n.shadow&&n.shadowOverlap!==true){U=f(n.shadowOverlap);switch(Z){case "top":n.shadowOffsetX+
n.shadowBlur-U>0&&t.css("top",f(t.css("top"))-(n.shadowOffsetX+n.shadowBlur-U));break;case "right":G-U>0&&t.css("left",f(t.css("left"))+G-U);break;case "bottom":aa-U>0&&t.css("top",f(t.css("top"))+aa-U);break;case "left":n.shadowOffsetY+n.shadowBlur-U>0&&t.css("left",f(t.css("left"))-(n.shadowOffsetY+n.shadowBlur-U));break}}a.apply(E,[B],n.strokeWidth);E.fillStyle=n.fill;if(n.shadow){E.shadowOffsetX=n.shadowOffsetX;E.shadowOffsetY=n.shadowOffsetY;E.shadowBlur=n.shadowBlur;E.shadowColor=n.shadowColor}E.closePath();
E.fill();if(n.strokeWidth>0){E.shadowColor="rgba(0, 0, 0, 0)";E.lineWidth=n.strokeWidth;E.strokeStyle=n.strokeStyle;E.beginPath();a.apply(E,[B],n.strokeWidth);E.closePath();E.stroke()}if(!D)if(n.preShow.apply(this,[t[0]])!==false){n.keepAlive&&t.mouseenter(function(){b.data(this,"hover",true)}).mouseleave(function(){b.data(this,"hover",false);J.obtOff()}).data("hover",false);t.css({display:"none",visibility:"visible"});n.showTip.apply(this,[t[0]]);if(n.overlay){Z=b('<div class="bt-overlay"></div>').css({position:"absolute",
backgroundColor:"blue",top:fa,left:ca,width:ea,height:ga,opacity:".2"}).appendTo(document.body);b(this).data("overlay",Z)}if(n.ajaxPath!=null&&n.ajaxCache===false||w)p=false;if(n.clickAnywhereToClose){b.obt.vars.clickAnywhereStack.push(this);b(document).click(b.obt.docClick)}n.closeWhenOthersOpen&&b.obt.vars.closeWhenOpenStack.push(this);n.postShow.apply(this,[t[0]]);if(n.closeOnEscape){b(this).data("keydown",function(ba){ba.which==27&&J.obtOff()});b(document).bind("keydown",b(this).data("keydown"))}}}}};
this.obtOff=function(){clearInterval(K);var A=b(this).data("bt-box")||(t?t[0]:null);if(!b(A).data("hover")){clearTimeout(y);F=y=false;n.preHide.apply(this,[A]);var D=this;D.btCleanup=function(){var I=b(D).data("bt-box"),G=b(D).data("bt-content-orig"),T=b(D).data("bt-overlay");typeof p=="object"&&p.detach();if(typeof I=="object"){try{b(I).remove()}catch(W){}b(D).removeData("bt-box")}if(typeof G=="object"){I=b(G.original).data("bt-clones");b(G).data("bt-clones",h(I,G.clone))}if(typeof T=="object"){b(T).remove();
b(D).removeData("bt-overlay")}b.obt.vars.clickAnywhereStack=h(b.obt.vars.clickAnywhereStack,D);b.obt.vars.closeWhenOpenStack=h(b.obt.vars.closeWhenOpenStack,D);b(D).removeClass("bt-active "+n.activeClass);n.postHide.apply(D);n.closeOnEscape&&b(D).data("keydown")&&b(document).unbind("keydown",b(D).data("keydown"))};n.hideTip.apply(this,[A,D.btCleanup]);q=null}};this.obtRefresh=function(){this.obtOff();this.obtOn()}})};var m=function(p,r){return p[0]&&parseInt(b.curCSS(p[0],r,true),10)||0};b.fn.btOuterWidth=
function(p){return this.innerWidth()+m(this,"borderLeftWidth")+m(this,"borderRightWidth")+(p?m(this,"marginLeft")+m(this,"marginRight"):0)};b.fn.btOuterHeight=function(p){return this.innerHeight()+m(this,"borderTopWidth")+m(this,"borderBottomWidth")+(p?m(this,"marginTop")+m(this,"marginBottom"):0)};b.fn.obtOn=function(p){return this.each(function(){b.isFunction(this.obtOn)&&this.obtOn(p)})};b.fn.obtSetContent=function(p){return this.each(function(){b.isFunction(this.obtSetContent)&&this.obtSetContent(p)})};
b.fn.obtOff=function(){return this.each(function(){b.isFunction(this.obtOff)&&this.obtOff()})};b.obt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]};b.obt.docClick=function(p){if(!p)p=window.event;if(!b(p.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&b.obt.vars.clickAnywhereStack.length){b(b.obt.vars.clickAnywhereStack).obtOff();b(document).unbind("click",b.obt.docClick)}};b.obt.defaults={trigger:"hover",clickAnywhereToClose:true,closeWhenOthersOpen:false,shrinkToFit:true,
width:"300px",padding:"16px",spikeGirth:20,spikeLength:15,overlap:0,overlay:false,killTitle:true,textzIndex:5000002,boxzIndex:5000001,wrapperzIndex:5E6,positions:["right","left"],fill:"#E5F6FD",windowMargin:10,strokeWidth:1,strokeStyle:"#7FD7F7",cornerRadius:6,centerPointX:0.5,centerPointY:0.5,top_indent:0,shadow:false,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:false,noShadowOpts:{strokeStyle:"#999"},align:"center",cssClass:"",cssStyles:{},activeClass:"bt-active",
contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:true,ajaxOpts:{},preBuild:function(){},preShow:function(){},showTip:function(p){b(p).show()},postShow:function(){},preHide:function(){},hideTip:function(p,r){typeof p!="undefined"&&b(p).hide();r()},postHide:function(){},hoverIntentOpts:{interval:400,timeout:400},animate:true,vertical:"auto",ajaxPrefetchOffset:null,atMouse:false,
closeOnEscape:true,clone:false};b.obt.options={};var k=0,o=0;b(document).ready(function(){b(document).bind("mousemove",function(p){b.mousePosition={x:p.pageX,y:p.pageY};o=b(document).scrollLeft();k=b(document).scrollTop()}).bind("scroll",function(){if(b.mousePosition){b.mousePosition.x+=b(document).scrollLeft()-o;b.mousePosition.y+=b(document).scrollTop()-k;o=b(document).scrollLeft();k=b(document).scrollTop()}})});if(b.browser.msie&&!b.support.changeBubbles){var l=b.event.special.change.filters.click;
b.event.special.change.filters.click=function(p){var r=p.target.nodeName.toLowerCase();if(r=="input"||r=="select")l.apply(this,[p])}}if(b.browser.msie){var q;b(window).bind("load",function(){q&&q.obtRefresh()})}b.support.boxModel=true})(jQuery);(function(b){var a=function(){this.init.apply(this,arguments)},c=window.odesk&&odesk.pageConfig&&odesk.pageConfig.isHtml5&&!!("placeholder"in b("<input>")[0]);if(!c){var f=b.fn.val;b.fn.val=function(e){if(e===undefined&&this.hasClass("placeholder"))return"";return f.apply(this,arguments)};var h=b.fn.attr;b.fn.attr=function(e,g){e=="placeholder"&&g!==undefined&&this.hasClass("placeholder")&&this.val(g);return h.apply(this,arguments)}}a.prototype={init:function(e){var g=this.$element=b(e);if(!(odesk.pageConfig.isHtml5&&
c))if(this.$element.attr("placeholder")){if(g.val()){g.removeClass("placeholder");document.activeElement==e&&g.addClass("focused")}!g.val()&&document.activeElement!=e&&this.blur();this.events();g[0].form&&b(g[0].form).submit(b.proxy(this.submit,this))}},events:function(){this.$element.bind("focus",b.proxy(this.focus,this)).bind("blur",b.proxy(this.blur,this))},focus:function(){this.$element.hasClass("placeholder")&&this.$element.val("").removeClass("placeholder").addClass("focused")},blur:function(){this.$element.val()||
this.$element.val(this.$element.attr("placeholder")).addClass("placeholder").removeClass("focused")},submit:function(){this.$element.hasClass("placeholder")&&this.$element.val("")}};b.fn.oPlaceholder=function(){for(var e=0,g=this.length;e<g;e++)new a(this[e]);return this}})(jQuery);(function(b){new odesk.Class("odesk.Menu","odesk.AbstractWidget",{options:{bufferTimeout:1E3,search:true,ignoreKeys:[],currentClass:odesk.pageConfig.isHtml5?"isCurrent":"current",selectedClass:odesk.pageConfig.isHtml5?"isSelected":"selected",show:function(a){a.show()},hide:function(a){a.hide()}},init:function(a,c,f){this.name=a;this.$element=b(c);b.extend(true,this.options,f);this.keyEvent=b.browser.opera?"keypress":"keydown";b.extend(this.events,odesk.events.makeMap(this.name,["change","show","hide"]));
this.bound=this.bound||{};this.bound._onKeyDown=b.proxy(this._onKeyDown,this);this.bound._onOuterMousedown=b.proxy(this._onOuterMousedown,this);this.bound._onMouseup=b.proxy(this._onMouseup,this);this._addEvents();this.buffer="";this.position={}},goNext:function(){if(this.$current){var a=this.$current.nextAll(":not(.unselectable):eq(0)");if(!a.length)return this;this.setCurrent(a)}else this.goFirst();return this},goPrev:function(){if(this.$current){var a=this.$current.prevAll(":not(.unselectable):eq(0)");
if(!a.length)return this;this.setCurrent(a)}else this.goLast();return this},goFirst:function(){return this.setCurrent(this.$element.children(":not(.unselectable):first"))},goLast:function(){return this.setCurrent(this.$element.children(":not(.unselectable):last"))},show:function(){if(this.visible)return this;this.visible=true;this.options.show(this.$element);this.removeCurrent();this.$selected&&this.setCurrent(this.$selected);b.browser.msie&&b.browser.version==7&&!this.$element.css("width")&&this.$element.css("width",
this.$element[0].scrollWidth);var a=this;setTimeout(function(){a.visible&&a._addDocEvents()},1);this.ctx.mediator.publish(this.events.show);return this},hide:function(){if(!this.visible)return this;this.visible=false;this.options.hide(this.$element);this.removeCurrent();this._removeDocEvents();this.ctx.mediator.publish(this.events.hide);return this},getCurrent:function(){return this.$current},setCurrent:function(a){this.removeCurrent();this.$current=a.addClass(this.options.currentClass);this.scrollTo(a);
return this},removeCurrent:function(){this.$current&&this.$current.removeClass(this.options.currentClass);this.$current=null;return this},scrollTo:function(a){var c=this.$element[0],f=a[0];if(c.scrollHeight-c.offsetHeight<0)return this;a=f.offsetTop;f=a+f.offsetHeight;if(a<c.scrollTop)c.scrollTop=a;else if(f>c.scrollTop+c.offsetHeight)c.scrollTop=f-c.offsetHeight;return this},_addEvents:function(){this.$element.bind("click",b.proxy(this._onClick,this));this.$element.bind("mousemove",b.proxy(this._onMousemove,
this));this.$element.bind("mouseleave",b.proxy(this._onMouseleave,this))},_onClick:function(a){a=b(a.target).closest("li");!a.length||a.hasClass("unselectable")||this.select().hide()},_onMousemove:function(a){if(!(this.position.x==a.pageX&&this.position.y==a.pageY)){this.position={x:a.pageX,y:a.pageY};a=b(a.target).closest("li").not(".unselectable");this._resetBuffer();a.length?this.setCurrent(a):this.removeCurrent()}},_onMouseleave:function(){this.removeCurrent()},_addDocEvents:function(){b(document).bind(this.keyEvent,
this.bound._onKeyDown).bind("mousedown",this.bound._onOuterMousedown).bind("mouseup",this.bound._onMouseup)},_removeDocEvents:function(){b(document).unbind(this.keyEvent,this.bound._onKeyDown).unbind("mousedown",this.bound._onOuterMousedown).unbind("mouseup",this.bound._onMouseup)},_onOuterMousedown:function(a){if(b.contains(this.$element[0],a.target)||this.$element[0]==a.target)this.mousedown=true;else this.hide()},_onMouseup:function(){this.mousedown=false},_onKeyDown:function(a){if(b.inArray(a.keyCode,
this.options.ignoreKeys)==-1)switch(a.keyCode){case 40:a.preventDefault();this.goNext();break;case 38:a.preventDefault();this.goPrev();break;case 33:a.preventDefault();this.goFirst();break;case 34:a.preventDefault();this.goLast();break;case 13:a.preventDefault();this.select();break;case 32:a.preventDefault();this.buffer?this._search(" "):this.select();break;case 8:case 27:a.preventDefault();this.hide();break;default:this._search(String.fromCharCode(a.keyCode).toLowerCase())}},select:function(a){a=
a||this.$current;if(!a)return this;this.$selected&&this.$selected.removeClass(this.options.selectedClass);this.$selected=a.addClass(this.options.selectedClass);this.ctx.mediator.publish(this.events.change,this.$selected);this.hide();return this},clearSelection:function(){if(this.$selected){this.$selected.removeClass(this.options.selectedClass);this.$selected=null}return this},_resetBuffer:function(){this.bufferTimer&&clearTimeout(this.bufferTimer);this.bufferTimer=null;this.buffer=""},_search:function(a){if(this.options.search){this.bufferTimer&&
clearTimeout(this.bufferTimer);this.bufferTimer=setTimeout(b.proxy(this._resetBuffer,this),this.options.bufferTimeout);var c=this.buffer+a,f=this,h=false,e=false;this.$element.children().each(function(){var g=b(this).text().toLowerCase();if(g.substr(0,c.length)==c){f.setCurrent(b(this));h=this;return false}try{if(RegExp(c).test(g))e=this}catch(i){}});e&&!h&&this.setCurrent(b(e));if(e||h||this.buffer)this.buffer=c}}})})(jQuery);(function(b){new odesk.Class("odesk.Dropdown","odesk.AbstractWidget",{init:function(a){this.$element=b(a);b.extend(this.events,odesk.events.makeMap(this.name,["select","show","hide"]));this.$value=this.$element.children(".oDropdownValue");this.$list=this.$element.children(".oDropdownList");this.$list.children(".oDropdownHeader, .oDropdownFooter").addClass("unselectable");this.registerWidget("menu",new odesk.Menu("menu",this.$list,{show:function(c){c.animate({opacity:"show"},350)},hide:function(c){c.animate({opacity:"hide"},
200)}}));this._addEvents()},_addEvents:function(){this.$value.bind("mousedown",b.proxy(this.show,this));for(var a in{hide:1,show:1,change:1})this.subscribe(this.widgets.menu.events[a],this["_on"+odesk.string.capitalize(a)])},show:function(){this.widgets.menu.show();return this},hide:function(){this.widgets.menu.hide();return this},_onShow:function(){this.$value.addClass("isActive");this.ctx.mediator.publish(this.events.show)},_onHide:function(){this.$value.removeClass("isActive");this.ctx.mediator.publish(this.events.hide)},
_onChange:function(a,c){this.ctx.mediator.publish(this.events.select,c)}});b.extend(true,odesk.Dropdown.prototype,odesk.mediator)})(jQuery);(function(b){if(!window.odesk)window.odesk={};if(!odesk.pageConfig)odesk.pageConfig={};odesk.SimpleCompanySelector=function(){this.init.apply(this,arguments)};odesk.SimpleCompanySelector.prototype={options:{cookie:{name:"company_last_accessed"},preOnChange:function(){},onChange:function(){document.location=this.changeHref(this.selected.ref)}},init:function(a,c){this.$element=b(a);this.options=b.extend(true,{},this.options,c);if(odesk.pageConfig.isHtml5){this.registerWidget("dropdown",new odesk.Dropdown(this.$element));
this.subscribe(this.widgets.dropdown.events.select,b.proxy(function(f,h){this.select(h)},this));this.$value=this.widgets.dropdown.$value}else{this.$items=this.$element.find(".items");this.$value=this.$element.find(".display");this.addEvents()}},onChange:function(){this.options.preOnChange.apply(this);b.cookie(this.options.cookie.prefix+this.options.cookie.name,this.selected.ref,{expires:3600,path:"/",domain:this.options.cookie.domain});this.options.onChange.apply(this)},changeHref:function(a){return"/home/index/"+
a},select:function(a){this.selected={ref:a.attr("data-reference"),name:a.text()};this.$value.attr("data-reference",this.selected.ref).find("span").html(this.selected.name);this.onChange()},addEvents:function(){this.bound={};var a=this,c=function(h){a.bound[h]=function(){a[h].apply(a,arguments)}};for(var f in{onOpen:1,onSelect:1,onOuterMousedown:1,onClick:1})c(f);this.$items.length&&this.$element.find(".display").bind("mousedown",this.bound.onOpen).bind("click",this.bound.onClick);this.$element.find(".item").bind("click",
this.bound.onSelect)},onOpen:function(a){this.mousedown=false;if(!(this.opened||a.which!=1)){this.mousedown=true;this.open()}},onClick:function(){this.mousedown||this.close()},onOuterMousedown:function(a){b(a.target).closest(".simple-company-selector").length||this.close()},onSelect:function(a){this.select(b(a.target));this.close()},open:function(){this.opened=true;b(document).bind("mousedown",this.bound.onOuterMousedown);this.$value.addClass("open");this.$items.hide();b.browser.msie?this.$items.show():
this.$items.animate({opacity:"show"},350)},close:function(){this.opened=false;this.$value.removeClass("open");b(document).unbind("mousedown",this.bound.onOuterMousedown);b.browser.msie?this.$items.hide():this.$items.animate({opacity:"hide"},200)}};odesk.mediator&&b.extend(true,odesk.SimpleCompanySelector.prototype,odesk.mediator)})(jQuery);(function(b){odesk.Launchbar=function(){this.init.apply(this,arguments);return this};odesk.Launchbar.prototype={options:{initialDelay:9E5,maxAttempts:11,cookie:{options:{expires:null,path:"/"}},statsUrl:"/api/mc/v2/trays/{uid}/{trays}/stats.json",contentsUrl:"/api/mc/v2/trays/{uid}/{trays}/contents.json",maxNotifications:20,onRemove:function(){},hiddenClass:odesk.pageConfig.isHtml5?"isHidden":"hidden",unreadClass:odesk.pageConfig.isHtml5?"isUnread":"unread"},init:function(a,c){this.$element=b(a);
this.options=b.extend(true,{},this.options,c);if(odesk.pageConfig.isHtml5){this.$element.find("nav .oDropdown").each(b.proxy(function(e,g){var i=b(g),j=i.children(".oNavIconNotifications").length,m=i.children(".oNavIconInbox").length;if(j||m)i.find("li").addClass("unselectable");i=new odesk.Dropdown(i);if(j)this.registerWidget("notifications",i);else m&&this.registerWidget("inbox",i)},this));var f=function(e){var g=this.widgets[e];this.subscribe(g.events.show,function(){g.$list.children(".isLoading").length&&
this.loadTray(e)})};for(var h in{notifications:1,inbox:1})f.call(this,h);this.$inbox=this.widgets.inbox.$value;this.$notifications=this.widgets.notifications.$value;this.$inboxMessages=this.widgets.inbox.$list;this.$notificationsMessages=this.widgets.notifications.$list}else{if(!b(".navigation.v2").length)return;b(".nonSupportedBrowser").length||b(".navigation.v2").prependTo(document.body);this.$inbox=this.$element.find("span.inbox");this.$notifications=this.$element.find("span.notifications");this.$inboxMessages=
this.$inbox.find("div.messages");this.$notificationsMessages=this.$notifications.find("div.messages")}if(!this.options.cookie.options.expires)this.options.cookie.options.expires=this.options.initialDelay/864E5;(f=b.cookie(this.options.cookie.name))?this.update(this.encodeCookie(f)):this.loadTraysCount();this.refineTimer(this.options.initialDelay);this.curAttemptCount=0;this.trayLoading={};odesk.pageConfig.isHtml5||this.initMenus();this.initInboxMessageClick();this.initRemoveNotifications();this.initInputPlaceholder();
this.initSearch()},refineTimer:function(a){this.timer&&clearTimeout(this.timer);if(a){var c=this;this.timer=setTimeout(function(){c.loadTraysCount()},this.currentDelay=a)}else{this.currentDelay=false;this.timer=null}},loadTraysCount:function(){var a=b.cookie(this.options.cookie.name);if(a){this.update(this.encodeCookie(a));this.refineTimer(this.currentDelay)}else{this.saveCookie();var c=this;b.ajax({dataType:"json",url:this.options.statsUrl.replace("{uid}",this.options.uid).replace("{trays}","notifications;inbox;tickets"),
success:function(f){f=c._getTraysData(f.trays);c.update(f).saveCookie();if(c.currentDelay!=c.options.initialDelay)c.curAttemptCount=0;c.refineTimer(c.options.initialDelay)},error:function(f){switch(f.status){case 503:c.options.maxAttempts>c.curAttemptCount&&++c.curAttemptCount;f=500*Math.pow(2,c.curAttemptCount-1);var h=Math.round(Math.random()*f);break}c.refineTimer(h||c.currentDelay)}})}},_getTraysData:function(a){for(var c={},f=0,h=a.length;f<h;f++)c[a[f].type]=parseInt(a[f].unread,10);return c},
encodeCookie:function(a){a=a.split(",");for(var c={},f=0,h=a.length;f<h;f++){var e=a[f];if(e)c[e.split("=")[0]]=parseInt(e.split("=")[1],10)}return c},decodeCookie:function(a){var c="";for(var f in a)c+=f+"="+a[f]+",";return c},saveCookie:function(){b.cookie(this.options.cookie.name,this.decodeCookie(this.data),this.options.cookie.options);return this},clearCookie:function(){b.cookie(this.options.cookie.name,"",this.options.cookie.options);return this},update:function(a){this.data=a;a.notifications=
a.notifications||0;a.inbox=a.inbox||0;a.tickets=a.tickets||0;this.$element.find(odesk.pageConfig.isHtml5?"span.oIconUnreadCount":"span.inbox-count, span.notifications-count").remove();var c={inbox:a.inbox+a.tickets,notifications:a.notifications>this.options.maxNotifications?this.options.maxNotifications+"+":a.notifications};for(var f in c)if(c[f])odesk.pageConfig.isHtml5?b('<span class="'+f+'Count oIconUnreadCount">'+c[f]+"</span>").appendTo(this["$"+f]):b('<span class="'+f+'-count">'+c[f]+"</span>").insertAfter(this["$"+
f]);for(f in{inbox:1,notifications:1,tickets:1})if(odesk.pageConfig.isHtml5){c=this.$element.find("div."+f+"Unread");c.find(".countUnread").html(a[f]);c.find(".plural").toggle(a[f]>1);c.toggleClass(this.options.hiddenClass,!a[f])}else{c=this.$element.find("span."+(f=="tickets"?"inbox":f)+" .menu");c.find(".unread-"+f+" .count-unread").html(a[f]);c.find(".unread-"+f).toggle(!!a[f]);c.find(".many").toggle(a[f]>1)}return this},showMenu:function(a){a.prev().addClass("open");b.browser.msie?a.show().css("visibility",
"visible"):a.animate({opacity:"show"},350)},hideMenu:function(a){a.prev().removeClass("open");b.browser.msie?a.hide().css("visibility","hidden"):a.animate({opacity:"hide"},200)},initMenus:function(){for(var a=this,c=["username","inbox","notifications","help","settings","more"],f=function(g){a.$element.find("a."+g).bind("click dragstart",function(i){i.preventDefault()});a.$element.find("a."+g).bind("click",function(){function i(m){if(!(b(m.target).closest(".menu")[0]==j[0]||b(m.target).closest("span."+
g).find("> .menu")[0]==j[0])){a.hideMenu(j);b(document).unbind("mousedown",i)}}var j=b(this).parent().find(".menu");if(j.prev().hasClass("open"))a.hideMenu(j);else{a.showMenu(j);j.find(".loader").length&&a.loadTray(g);b(document).bind("mousedown",i)}})},h=0,e=c.length;h<e;h++)f(c[h]);this.$element.bind("click",function(g){var i=b(g.target);g=i.hasClass("inbox-count");i=i.hasClass("notifications-count");if(g||i)a.$element.find("a."+(g?"inbox":"notifications")).click()})},initInboxMessageClick:function(){odesk.pageConfig.isHtml5?
this.subscribe(this.widgets.inbox.events.select,function(a,c){c.children().hasClass(this.options.unreadClass)&&this.clearCookie()}):this.$inboxMessages.bind("click",b.proxy(function(a){a=b(a.target).closest("a.message");if(a.length&&a.hasClass(this.options.unreadClass)){this.clearCookie();this.hideMenu(a.closest(".menu"))}},this))},initRemoveNotifications:function(){var a=this;a.removed={};this.$element.bind("click",function(c){c=b(c.target);if(c.hasClass(odesk.pageConfig.isHtml5?"oBtnCloseMessage":
"remove")){c=c.closest("[data-id]").attr("data-id");a.remove(c);return false}})},remove:function(a,c){if(!this.removed[a]){this.removed[a]=true;var f=this.$element.find('[data-id="'+a+'"]'),h=this.options.hiddenClass;f.hasClass(h)||this.$notificationsMessages.find("."+h+":eq(0)").removeClass(h).hide().slideDown(400);f.slideUp(400,function(){f.remove()});if(!c){b.ajax({dataType:"json",url:"/api/mc/v1/threads/"+this.options.uid+"/"+a+".json",data:{deleted:true,http_method:"put"},type:"post"});this.options.onRemove.call(this,
a)}}},loadTray:function(a){if(!this.trayLoading[a]){this.trayLoading[a]=true;var c=this;b.ajax({dataType:"json",url:this.options.contentsUrl.replace("{uid}",this.options.uid).replace("{trays}",a)+"?page=0%3B"+(a=="inbox"?5:20),success:function(f){c.trayLoading[a]=false;c.renderTray(a,f);if(a=="notifications"){c.data.notifications=0;c.saveCookie()}},error:function(f){c.trayLoading[a]=false;switch(f.status){case 504:c.renderEmptyTray(a,"Connection timeout. Please try again later.");break;default:c.renderEmptyTray(a,
"An error has occured. Please try again later.");break}}})}},renderTray:function(a,c){var f=[],h=this["$"+a+"Messages"],e=c.trays[0].threads;e||(e=[]);b.isArray(e)||(e=[e]);if(e.length)for(var g=0,i=e.length;g<i;g++){var j=e[g],m=a=="inbox"?j.last_post_preview:j.subject,k=parseInt(j.last_post_ts,10)*1E3,o=parseInt(c.auth_user.timezone_offset,10)*1E3,l;if(odesk.date){l=odesk.date.format(new Date(k),"%u",o);k=odesk.date.format(new Date(k),"%L",o)}else{window.server_time=c.server_time*1E3;k=(new Date(k)).format("%L",
o)}o=null;var q,p;if(a=="inbox"){o=(q=(p=j.context)&&p.match(/^Interviews:(\d+):(\d+)$/))?"/applications/"+q[2]:"/mc/#inbox/thread/"+j.thread_id;p=[];j.participants=j.participant||[];q=0;for(var r=j.participants.length;q<r;q++){var s=j.participants[q];!s.last_post_id||s.username.toLowerCase()==this.options.uid.toLowerCase()||p[j.sender==s.username?"unshift":"push"](s.last_name?s.first_name+" "+s.last_name:s.first_name)}}else{if(!m)continue;q=m.match(/\[\[(.*?)\|(.*?)\]\]/);if((r=m.match(/\[\[(.*?)\|(.*?)\]\]/g))&&
r.length>0){o=q[1];m=m.replace(/\[\[(.*?)\|(.*?)\]\]/g,"$2")}}if(odesk.pageConfig.isHtml5)a=="notifications"?f.push('<li class="unselectable '+(g>=5?"isHidden":"")+'"><'+(o?'a href="'+o+'"':"div")+' class="oDropdownItem'+(o?" oNavDarkLink":"")+(j.read!="t"?" "+this.options.unreadClass:"")+'" data-id="'+j.thread_id+'"><div class="oMed"><div class="oImgExt"><div class="oBtnCloseMessage"></div></div><div class="oBd"><div class="oNotification">'+m+"</div></div></div></"+(o?"a":"div")+"></li>"):f.push('<li><a class="oDropdownItemNoHover oMessageLink'+
(j.read!="t"?" "+this.options.unreadClass:"")+'" data-id="'+j.thread_id+'" href="'+o+'"><span class="oLink">'+p.join(", ")+"</span><div>"+m+'</div><time class="oTime" datetime="'+l+'">'+k+"</time></a></li>");else f.push("<"+(o?'a href="'+o+'"':"span")+' data-id="'+j.thread_id+'" class="message '+(j.read!="t"?this.options.unreadClass:"")+(g>=5?" hidden":"")+'">'+(a=="inbox"?'<span class="sender">'+p.join(", ")+"</span>":'<span class="remove"></span>')+'<span class="subject">'+m+"</span>"+(a=="inbox"?
'<span class="time">'+k+"</span>":"")+"</"+(o?"a":"span")+">")}if(odesk.pageConfig.isHtml5){h.find("li.isLoading").remove();b(f.join("")).insertAfter(h.find("li.oDropdownHeader"))}else h.html(f.join(""));if(a=="notifications"){odesk.pageConfig.isHtml5&&h.find("div.oNotification a").addClass("oNavDarkLink");this.$notifications.find("span.oIconUnreadCount").remove();h.find(odesk.pageConfig.isHtml5?"a.oDropdownItem, div.oDropdownItem a":".message a").addClass("gaet-tracking").attr("gaet-category","db_notification").attr("gaet-action",
"click")}},renderEmptyTray:function(a,c){this["$"+a+"Messages"].html('<div class="txtCenter">'+c+"</div>")},initInputPlaceholder:function(){this.$element.find("input[placeholder]").oPlaceholder()},getSearchAction:function(){var a=this.$searchFrom.find("option:selected"),c={nbs:1,g:"",q:this.$searchInput.val()};return(a.val()=="Find Jobs"?"/jobs/?":"/users/?")+b.param(c)},initSearch:function(){var a=this,c=this.$searchFrom=this.$element.find("form").bind("submit",function(){document.location.href=
a.getSearchAction();return false}),f=this.$searchInput=c.find('input[type="text"]');c.find("select").bind("change",function(){f.attr("placeholder",b(this).val())}).change()}};odesk.mediator&&b.extend(true,odesk.Launchbar.prototype,odesk.mediator)})(jQuery);(function(b){new odesk.Class("odesk.Loading",{init:function(){if(odesk.pageConfig.isHtml5){this.$element=b('<aside class="oIndicatorMsg"></aside>');this.$modal=b('<div class="oOverlay"></div>')}else{this.$element=b('<div id="page_loading" class="modal loading"></div>');this.$modal=b('<div id="page_loading_shield"></div>')}},show:function(a,c){this.hidden=false;this.isModal=c;if(a==null)a="Loading...";this.$element.html(a);c&&this.$modal.appendTo(document.body);this.$element.appendTo(document.body).css({marginLeft:-this.$element.outerWidth()/
2}).fadeIn(500);return this},hide:function(){var a=this;this.hidden=true;this.$element.fadeOut(500,function(){if(a.hidden){a.$element.detach();a.$modal.detach()}else this.isModal||a.$modal.detach()});return this}});odesk.loading=new odesk.Loading;b("#page_loading").length&&setTimeout(function(){b("#page_loading").fadeOut("fast",function(){b(this).remove()})},5E3)})(jQuery);(function(b){new odesk.Class("odesk.Showbox",{options:{type:"friendly"},init:function(a){this.options=b.extend(this.options,a);this.$element=b(this._createBox()).appendTo(document.body);this.$element.css("margin-left",-this.$element.width()/2);this.$element.detach();this._addEvents()},_createBox:function(){return'        <div class="showbox">            <div class="shield"></div>            <div class="alert box-float '+this.options.type+'">                <h2><span class="icon '+this.options.type+
'"></span>'+this.options.title+'<span class="close">close</span></h2>                <div class="content">'+this.options.message+"</div>            </div>        </div>"},show:function(){var a=this;this.$element.appendTo(document.body).fadeIn("slow",function(){a.options.timeout!=null&&a._startTimer()});return this},hide:function(a){a=a||"slow";clearTimeout(this.timer);this.$element.fadeOut(a,function(){b(this).remove()});return this},_startTimer:function(){var a=this;this.timer=setTimeout(function(){a.hide(1E3)},
this.options.timeout)},_addEvents:function(){var a=this;this.$element.find(".close").bind("click",function(){a.hide()})}})})(jQuery);(function(b){b.extend(b.fn,{validate:function(a){if(this.length){var c=b.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate");c=new b.validator(a,this[0]);b.data(this[0],"validator",c);if(c.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){c.cancelSubmit=true});c.settings.submitHandler&&a.filter(":submit").click(function(){c.submitButton=this});this.submit(function(f){function h(){if(c.settings.submitHandler){if(c.submitButton)var e=b("<input type='hidden'/>").attr("name",
c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&e.remove();return false}return true}c.settings.debug&&f.preventDefault();if(c.cancelSubmit){c.cancelSubmit=false;return h()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return h()}else{c.focusInvalid();return false}})}return c}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();
else{var a=true,c=b(this[0].form).validate();this.each(function(){a&=c.element(this)});return a}},removeAttrs:function(a){var c={},f=this;b.each(a.split(/\s/),function(h,e){c[e]=f.attr(e);f.removeAttr(e)});return c},rules:function(a,c){var f=this[0];if(a){var h=b.data(f.form,"validator").settings,e=h.rules,g=b.validator.staticRules(f);switch(a){case "add":b.extend(g,b.validator.normalizeRule(c));e[f.name]=g;if(c.messages)h.messages[f.name]=b.extend(h.messages[f.name],c.messages);break;case "remove":if(!c){delete e[f.name];
return g}var i={};b.each(c.split(/\s/),function(j,m){i[m]=g[m];delete g[m]});return i}}f=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(f),b.validator.classRules(f),b.validator.attributeRules(f),b.validator.staticRules(f)),f);if(f.required){h=f.required;delete f.required;f=b.extend({required:h},f)}return f}});b.extend(b.expr[":"],{blank:function(a){return!b.trim(""+a.value)},filled:function(a){return!!b.trim(""+a.value)},unchecked:function(a){return!a.checked}});b.validator=function(a,
c){this.settings=b.extend(true,{},b.validator.defaults,a);this.currentForm=c;this.init()};b.validator.format=function(a,c){if(arguments.length==1)return function(){var f=b.makeArray(arguments);f.unshift(a);return b.validator.format.apply(this,f)};if(arguments.length>2&&c.constructor!=Array)c=b.makeArray(arguments).slice(1);if(c.constructor!=Array)c=[c];b.each(c,function(f,h){a=a.replace(RegExp("\\{"+f+"\\}","g"),h)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,f){a.type==="radio"?this.findByName(a.name).addClass(c).removeClass(f):b(a).addClass(c).removeClass(f)},unhighlight:function(a,c,f){a.type==="radio"?this.findByName(a.name).removeClass(c).addClass(f):b(a).removeClass(c).addClass(f)}},setDefaults:function(a){b.extend(b.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),
minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(h){var e=b.data(this[0].form,"validator"),g="on"+h.type.replace(/^validate/,
"");e.settings[g]&&e.settings[g].call(e,this[0],h)}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};b.each(this.settings.groups,function(h,e){b.each(e.split(/\s/),function(g,i){c[i]=h})});var f=
this.settings.rules;b.each(f,function(h,e){f[h]=b.validator.normalizeRule(e)});b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,c=this.currentElements=this.elements();c[a];a++)this.check(c[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=b(a);var c=this.check(a);if(c)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return c},showErrors:function(a){if(a){b.extend(this.errorMap,a);this.errorList=[];for(var c in a)this.errorList.push({message:a[c],element:this.findByName(c)[0]});this.successList=b.grep(this.successList,function(f){return!(f.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var c=0;for(var f in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&b.grep(this.errorList,function(c){return c.element.name==a.name}).length==1&&a},elements:function(){var a=this,c={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in c||!a.objectLength(b(this).rules()))return false;return c[this.name]=true})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var c=b(a).rules(),f=false;for(var h in c){var e={method:h,parameters:c[h]};try{var g=b.validator.methods[h].call(this,a.value.replace(/\r/g,""),a,e.parameters);if(g=="dependency-mismatch")f=true;else{f=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,e);return false}}}catch(i){this.settings.debug&&window.console&&
console.log("exception occured when checking element "+a.id+", check the '"+e.method+"' method",i);throw i;}}if(!f){this.objectLength(c)&&this.successList.push(a);return true}},customMetaMessage:function(a,c){if(b.metadata){var f=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata();return f&&f.messages&&f.messages[c]}},customMessage:function(a,c){var f=this.settings.messages[a];return f&&(f.constructor==String?f:f[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
undefined)return arguments[a]},defaultMessage:function(a,c){return this.findDefined(this.customMessage(a.name,c),this.customMetaMessage(a,c),!this.settings.ignoreTitle&&a.title||undefined,b.validator.messages[c],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,c){var f=this.defaultMessage(a,c.method),h=/\$?\{(\d+)\}/g;if(typeof f=="function")f=f.call(this,c.parameters,a);else if(h.test(f))f=jQuery.format(f.replace(h,"{$1}"),c.parameters);this.errorList.push({message:f,
element:a});this.errorMap[a.name]=f;this.submitted[a.name]=f},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(a,
c){var f=this.errorsFor(a);if(f.length){f.removeClass(this.settings.validClass).addClass(this.settings.errorClass);f.attr("generated")&&f.html(c)}else{f=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(c||"");if(this.settings.wrapper)f=f.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(f).length||(this.settings.errorPlacement?this.settings.errorPlacement(f,b(a)):f.insertAfter(a))}if(!c&&
this.settings.success){f.text("");typeof this.settings.success=="string"?f.addClass(this.settings.success):this.settings.success(f)}this.toShow=this.toShow.add(f)},errorsFor:function(a){var c=this.idOrName(a);return this.errors().filter(function(){return b(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},
findByName:function(a){var c=this.currentForm;return b(document.getElementsByName(a)).map(function(f,h){return h.form==c&&h.name==a&&h||null})},getLength:function(a,c){switch(c.nodeName.toLowerCase()){case "select":return b("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):true},dependTypes:{"boolean":function(a){return a},string:function(a,
c){return!!b(a,c.form).length},"function":function(a,c){return a(c)}},optional:function(a){return!b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,c){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=
false}else if(!c&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},
creditcard:{creditcard:true}},addClassRules:function(a,c){a.constructor==String?this.classRuleSettings[a]=c:b.extend(this.classRuleSettings,a)},classRules:function(a){var c={};(a=b(a).attr("class"))&&b.each(a.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(c,b.validator.classRuleSettings[this])});return c},attributeRules:function(a){var c={};a=b(a);for(var f in b.validator.methods){var h;if(h=f==="required"&&typeof b.fn.prop==="function"?a.prop(f):a.attr(f))c[f]=h;else if(a[0].getAttribute("type")===
f)c[f]=true}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(a){if(!b.metadata)return{};var c=b.data(a.form,"validator").settings.meta;return c?b(a).metadata()[c]:b(a).metadata()},staticRules:function(a){var c={},f=b.data(a.form,"validator");if(f.settings.rules)c=b.validator.normalizeRule(f.settings.rules[a.name])||{};return c},normalizeRules:function(a,c){b.each(a,function(f,h){if(h===false)delete a[f];else if(h.param||h.depends){var e=true;
switch(typeof h.depends){case "string":e=!!b(h.depends,c.form).length;break;case "function":e=h.depends.call(c,c);break}if(e)a[f]=h.param!==undefined?h.param:true;else delete a[f]}});b.each(a,function(f,h){a[f]=b.isFunction(h)?h(c):h});b.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});b.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(b.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];
delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var c={};b.each(a.split(/\s/),function(){c[this]=true});a=c}return a},addMethod:function(a,c,f){b.validator.methods[a]=c;b.validator.messages[a]=f!=undefined?f:b.validator.messages[a];c.length<3&&b.validator.addClassRules(a,b.validator.normalizeRule(a))},methods:{required:function(a,
c,f){if(!this.depend(f,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case "select":return(a=b(c).val())&&a.length>0;case "input":if(this.checkable(c))return this.getLength(a,c)>0;default:return b.trim(a).length>0}},remote:function(a,c,f){if(this.optional(c))return"dependency-mismatch";var h=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});h.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=h.message;
f=typeof f=="string"&&{url:f}||f;if(this.pending[c.name])return"pending";if(h.old===a)return h.valid;h.old=a;var e=this;this.startRequest(c);var g={};g[c.name]=a;b.ajax(b.extend(true,{url:f,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(i){e.settings.messages[c.name].remote=h.originalMessage;var j=i===true;if(j){var m=e.formSubmitted;e.prepareElement(c);e.formSubmitted=m;e.successList.push(c);e.showErrors()}else{m={};i=i||e.defaultMessage(c,"remote");m[c.name]=h.message=
b.isFunction(i)?i(a):i;e.showErrors(m)}h.valid=j;e.stopRequest(c,j)}},f));return"pending"},minlength:function(a,c,f){return this.optional(c)||this.getLength(b.trim(a),c)>=f},maxlength:function(a,c,f){return this.optional(c)||this.getLength(b.trim(a),c)<=f},rangelength:function(a,c,f){a=this.getLength(b.trim(a),c);return this.optional(c)||a>=f[0]&&a<=f[1]},min:function(a,c,f){return this.optional(c)||a>=f},max:function(a,c,f){return this.optional(c)||a<=f},range:function(a,c,f){return this.optional(c)||
a>=f[0]&&a<=f[1]},email:function(a,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,c){return this.optional(c)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,c){return this.optional(c)||/^\d+$/.test(a)},creditcard:function(a,c){if(this.optional(c))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var f=0,h=0,e=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){h=a.charAt(g);h=parseInt(h,10);if(e)if((h*=2)>9)h-=9;f+=h;e=!e}return f%10==0},accept:function(a,c,f){f=typeof f=="string"?f.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(c)||a.match(RegExp(".("+f+")$","i"))},equalTo:function(a,c,f){f=b(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(c).valid()});return a==f.val()}}});b.format=b.validator.format})(jQuery);
(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(f,h,e){h=f.port;if(f.mode=="abort"){a[h]&&a[h].abort();a[h]=e}});else{var c=b.ajax;b.ajax=function(f){var h=("port"in f?f:b.ajaxSettings).port;if(("mode"in f?f:b.ajaxSettings).mode=="abort"){a[h]&&a[h].abort();return a[h]=c.apply(this,arguments)}return c.apply(this,arguments)}}})(jQuery);
(function(b){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&b.each({focus:"focusin",blur:"focusout"},function(a,c){function f(h){h=b.event.fix(h);h.type=c;return b.event.handle.call(this,h)}b.event.special[c]={setup:function(){this.addEventListener(a,f,true)},teardown:function(){this.removeEventListener(a,f,true)},handler:function(h){arguments[0]=b.event.fix(h);arguments[0].type=c;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{validateDelegate:function(a,
c,f){return this.bind(c,function(h){var e=b(h.target);if(e.is(a))return f.apply(e,arguments)})}})})(jQuery);(function(b){b.fn.fieldhelp=function(c){for(var f=this.filter("[data-help]").add(this.find("[data-help]")),h=0,e=f.length;h<e;h++)new a(f[h],c);return this};var a=function(){this.initialize.apply(this,arguments);return this};a.prototype={options:{template:'<span class="fieldhelp">{help}</span>'},initialize:function(c,f){this.options=b.extend({},this.options);b.extend(this.options,f);this.element=b(c);this.element.data("fieldhelp",this);this.help=this.element.attr("data-help");this.createHelp()},createHelp:function(){this.helpElement=
b(this.options.template.replace("{help}",this.help));this.hidden=true},show:function(){if(this.hidden){this.hidden=false;this.helpElement.insertAfter(this.element)}},hide:function(){if(!this.hidden){this.hidden=true;this.helpElement.remove()}}}})(jQuery);(function(b){var a={ignoreIndex:true,attrName:"tabindex",bindEventType:b.browser.opera?"keypress":"keydown",ignoreElements:".ignoreTabbing, [readonly]",includeElements:null,focusFirstElement:true};b.fn.oTabIndex=function(c){this.each(function(){c=b.extend({},a,c);var f=b(this),h=function(){return f.find(":tabbable"+(c.includeElements?","+c.includeElements:"")).not(f.find(c.ignoreElements))};if(c.focusFirstElement&&!b(document.activeElement).is(":tabbable")){var e=h();e.length&&e[0].focus()}f.data("oTabindex")||
f.data("oTabindex",true).bind(c.bindEventType,function(g){if(g.keyCode==9){var i=h(),j=i.index(g.target);if(g.shiftKey){if(--j<0)j=i.length-1}else if(++j==i.length)j=0;g.stopPropagation();g.preventDefault();i[j].focus()}}).bind("keydown, keypress",function(g){if(g.keyCode==9)return false})})}})(jQuery);(function(b){var a=b.validator.prototype.showLabel;b.validator.prototype.showLabel=function(c,f){var h=this.settings;if(!h.isHtml5)return a.apply(this,arguments);var e;if(h.errorsAtTop){var g=b(h.errorContainer);g.data("modified")||g.html("").data("modified",true);e=g.find('[data-for="'+this.idOrName(c)+'"]');e.length||(e=b("<"+h.errorElement+' data-for="'+this.idOrName(c)+'" class="'+h.labelErrorClass+'">').appendTo(g));e.html(f);f||e.remove();var i;g.children().each(function(){var j=this.innerHTML;
b(this).toggleClass("isHidden",j==i);i=j});g.toggleClass("isHidden",!g.find("[data-for]").length)}else{e=b(this.currentForm).find(h.errorElement+'.oFormMsg[data-for="'+this.idOrName(c)+'"]');if(e.length)e.removeClass(h.labelValidClass).addClass(h.labelErrorClass);else{e=b("<"+h.errorElement+' data-for="'+this.idOrName(c)+'" class="oFormMsg '+h.labelErrorClass+'">');h.errorPlacement(e,b(c))}e.html(f||"");f||h.success(e);if(!f&&!e.html())e.remove();else this.toShow=this.toShow.add(e)}};b.validator.initRules=
{};b.validator.initClassRules={};b.fn.oFormValidation=function(c){function f(l){var q=b(l);l=q.data("fieldhelp");if(!(c.helpTip||!l))if(!q.hasClass(g)&&q.attr("id")!="password"){if(e){q=q.attr("name");b("#oFormMsgHolder-"+q).find('.oFormMsg[data-for="'+q+'"]').remove()}else q.siblings("."+g).remove();l.show()}else l.hide()}if(!this[0])return this;var h=this;c=c||{};var e=!!(c.isHtml5!=null?c.isHtml5:odesk.pageConfig.isHtml5);c=b.extend({disabledButtons:h.find(":submit"),errorAlert:e?"#formErrors":
"#errorAlert"},c);var g=e?"oErrorField":"errors";h.fieldhelp();c.helpTip&&h.find("[data-help]").each(function(){var l=b(this);l.parent().prev().append('<span class="helpTip" title="'+l.data("help")+'"></span>')});var i=b.validator.defaults.rules,j=b.validator.defaults.messages;delete b.validator.defaults.rules;delete b.validator.defaults.messages;b.validator.defaults.errorPlacements={};c=b.extend({isHtml5:e,noAsterisk:e,errorContainer:c.errorsAtTop?"#formErrors":undefined,errorElement:"div",focusInvalid:false,
errorClass:g,hideOk:e,labelErrorClass:c.errorsAtTop?"":"oFormError",labelValidClass:"oFormSuccess",ignored:".ignored",ignore:"",errorPlacement:function(l,q){var p=q.data("fieldhelp");p&&p.hide();l.data("element",q);if(p=this.errorPlacements[q[0].name])p.apply(this,[l,q]);else if(e){p=b("#oFormMsgHolder-"+q.attr("name"));p.length?l.appendTo(p):l.insertAfter(q)}else if(q.is(":checkbox, :radio"))l.appendTo(q.closest("dd"));else{p=q.next("span, img");p.length?l.insertAfter(p):l.insertAfter(q)}},onfocusin:function(l){var q=
b(l);if(!q.is(this.settings.ignored)){this.lastActive=l;q.addClass("focus");f(l);if(q.hasClass("errors")||e)q.data("modified",true)}},onfocusout:function(l){if(!this.settings.validateOnSubmit[l.name]){var q=b(l);if(!q.is(this.settings.ignored)){q.removeClass("focus");q.data("modified")&&this.element(l);(l=q.data("fieldhelp"))&&l.hide()}}},onkeyup:function(l){if(!e){var q=b(l);if(!q.is(this.settings.ignored)){var p=q.hasClass(g);q.data("modified")&&!q.data("notValidateOnkeyup")&&!(q.attr("id")=="zip"&&
l.value)&&!q.is("select")&&this.element(l);q.attr("id")=="passwordConfirm"&&q.siblings("."+g).remove();f(l);p||q.removeClass(g);if(!q.data("modified")){if(q.is("select"))l=(p=q.find("option").map(function(){if(b(this).prop("defaultSelected"))return this})[0])?p.value:l.options[0].value;else l=l.defaultValue;q.val()!=l&&q.data("modified",true).closest("dd").find("ul.errors").detach()}}}},onclick:function(l){if(b(l).is("option"))l=l.parentNode;var q=b(l);if(!(q.is(this.settings.ignored)||!q.is("select, :checkbox, :radio"))){l.value&&
q.data("field-changed",true);q.data("field-changed")&&this.element(l);f(l);!q.data("modified")&&l.value&&q.data("modified",true).closest("dd").find("ul.errors").detach()}},success:function(l){h.trigger("success",[l]);var q=l.data("element");if(!c.hideOk&&(!q||!q.is(".hideOk, .focus")&&q.val()))l.html("ok");e?l.removeClass(this.labelErrorClass).addClass(this.labelValidClass):l.addClass("valid")},validateOnSubmit:{}},c);c.rules=b.extend({},i,c.rules);c.messages=b.extend({},j,c.messages);h.validate(c);
b.validator.defaults.rules=i;b.validator.defaults.messages=j;for(var m in b.validator.initRules)for(var k in c.rules)c.rules[k][m]&&h[0][k]&&b.validator.initRules[m](h[0][k]);i=function(l){return function(){b.validator.initClassRules[l](b(this))}};for(var o in b.validator.initClassRules)h.find("."+o).each(i(o));h.bind("submit",function(){if(h.valid()){b(c.errorAlert).addClass("isHidden");if(c.callback)return c.callback();b(c.disabledButtons).addClass("disabled").prop("disabled",true)}else{var l=b(c.errorAlert);
if(l.length)if(e){l.removeClass("isHidden");window.location.hash=l.attr("id")}else{l.show();window.location.hash="formTop"}b(c.disabledButtons).removeClass("disabled").prop("disabled",false)}});if(e){h.find(":text").bind("focus",function(){var l=/\[.+\]/.test(b(this).attr("name"))?b(this).attr("id"):b(this).attr("name");h.find(".oFormError[for="+l+"]").length===0&&h.find("#oFormHelp-"+l).removeClass("isHidden")}).bind("blur",function(){var l=/\[.+\]/.test(b(this).attr("name"))?b(this).attr("id"):
b(this).attr("name");l=h.find("#oFormHelp-"+l);l.data("simulatedHover")?l.data("hideAfterFocusLost",true):l.addClass("isHidden")});h.find("aside.oFormHelp").bind("mouseenter",function(){b(this).data("simulatedHover",true)}).bind("mouseleave",function(){var l=b(this);l.data("hideAfterFocusLost")&&l.data("hideAfterFocusLost",false).addClass("isHidden");l.data("simulatedHover",false)})}h.oTabIndex(c.tabindex);c.noAsterisk||h.find(".required").prepend('<span class="asterisk-required">*</span> ');return this}})(jQuery);(function(b){b.validator.initRules.maxlength=function(a){if(odesk.pageConfig.isHtml5){b.isArray(a)||(a=[a]);b.each(a,function(c,f){var h=b(f);if(h.is("textarea")){var e=b('<div class="oCountdown"><span></span> characters left</div>'),g=h.closest(".oFormField");g.length?g.append(e):e.insertAfter(h);var i=h[0].offsetWidth;e.width(i);var j=e.find("span"),m=h.rules().maxlength;h.bind("change keyup",function(){if(!i){i=h[0].offsetWidth;e.width(i)}j.html(Math.max(m-h.val().length,0))}).change()}})}};b.validator.addMethod("maxlength",
function(a,c,f){a=b(c);a.is("input")&&a.attr("maxlength",f);return b(c).val().length<=f},"max length should be less than {0}")})(jQuery);(function(b){b.fn.extend({autocomplete:function(a,c){var f=typeof a=="string";c=b.extend({},b.Autocompleter.defaults,{url:f?a:null,data:f?null:a,delay:f?b.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(h){return h};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new b.Autocompleter(this,c)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")},setMakeNewRequestFlag:function(a){return this.trigger("setMakeNewRequestFlag",a)},setUrl:function(a){return this.trigger("setUrl",a)}});b.Autocompleter=function(a,c){function f(t){var u=z.selected();if(!u)return false;var v=u.result;p=v;if(c.multiple){var x=e(l.val());x=b.grep(x,function(Q){return!!Q});if(x.length>1){var C=c.multipleSeparator.length;t=t!=null?t:b(a).selection().start;
var H,L=0;b.each(x,function(Q,R){L+=R.length;if(t<=L){H=Q;return false}L+=C});x[H]=v;v=x.join(c.multipleSeparator)}if(!c.wordLimit||x.length<c.wordLimit)v+=c.multipleSeparator;K=true}else if(l.val().substr(0,1)!=v.substr(0,1))K=true;l.val(v);i();l.trigger("result",[u.data,u.value]);l.selection(v.length,v.length);return true}function h(t,u){if(n==o.DEL){z.hide();c.showNoResults&&y.hide()}else{var v=l.val();if(b.trim(c.multipleSeparator)==","&&c.stripSpacesAfterWords){v=v.split(",");for(var x=0,C=v.length;x<
C;x++)v[x]=b.trim(v[x]);v=v.join(", ");l.val()!=v&&l.val(v)}if(!(!u&&v==p)){p=v;v=g(v);if(v.length>=c.minChars){c.matchCase||(v=b.trim(v.toLowerCase()));if(v){(l.closest(".acInput").length?l.closest(".acInput"):l).addClass(c.loadingClass);K=true;m(v,j,i)}}else{K=true;k();z.hide();c.showNoResults&&y.hide()}}}}function e(t){if(!t)return[""];if(!c.multiple)return[b.trim(t)];return b.map(t.split(c.multipleSeparator),function(u){return b.trim(t).length?b.trim(u):null})}function g(t){if(!c.multiple)return t;
var u=e(t);if(u.length==1)return u[0];u=b(a).selection().start;u=u==t.length?e(t):e(t.replace(t.substring(u),""));return u[u.length-1]}function i(){z.visible();z.hide();clearTimeout(q);k();c.mustMatch&&l.search(function(t){if(!t)if(c.multiple){t=e(l.val()).slice(0,-1);l.val(t.join(c.multipleSeparator)+(t.length?c.multipleSeparator:""))}else{l.val("");l.trigger("result",null)}})}function j(t,u){if(u&&u.length&&s){k();z.display(u,t);var v=u[0].value;if(c.autoFill&&g(l.val()).toLowerCase()==t.toLowerCase()&&
n!=o.BACKSPACE){l.val(l.val()+v.substring(g(p).length));b(a).selection(p.length,p.length+v.length)}z.show()}else i()}function m(t,u,v,x){if(t){c.matchCase||(t=t.toLowerCase());if(c.substitute)for(var C in c.substitute)t=t.replace(RegExp(C,"g"),c.substitute[C]);if((C=r.load(t,x?null:false))&&C.length){c.showNoResults&&y.hide();u(t,C)}else if(K===true&&typeof c.url=="string"&&c.url.length>0&&(c.jsonPath!=null&&c.queryPlaceholderInUrl?!r.load(t.substr(0,1),x?null:false):true)){var H={timestamp:+new Date};
b.each(c.extraParams,function(J,A){H[J]=typeof A=="function"?A():A});var L=function(J){if(b.isEmptyObject(J)){z.emptyList();v(t);c.showNoResults&&y.show()}else{if(c.cacheable===true)K=false;var A,D=e(b(a).val());D=D[D.length-1];c.matchCase||(D=D.toLowerCase());if(c.dataType=="json"&&c.jsonPath!=null){if(c.parseJson)J=c.parseJson(J);else{A=[];var I=null,G=c.jsonPath;for(var T in G){var W=G[T];if(W!="")I=I==null?J[W]:I[W]}if(I==null)J=[];else{J=I;for(T=0;T<J.length;T++){I=J[T];I.name=b.trim(I.name);
if(I.name)A[A.length]={data:[I.name,I.weight],value:I.name,weight:I.weight,result:I.name}}J=A}}A=J;if(c.matchContains)r.addAfterFlush(t.substr(0,1),A);else for(J=0;J<t.length;J++)r.addAfterFlush(t.substr(0,J+1),A);if(D!=t)m(D,u,v);else{J=r.load(t,x?null:false);u(t,J)}}else{if(c.parse)D=c.parse(J);else{D=[];A=J.split("\n");for(T=0;T<A.length;T++)if(I=b.trim(A[T])){I=I.split("|");D[D.length]={data:I,value:I[0],result:c.formatResult&&c.formatResult(I,I[0])||I[0]}}D=D}A=D;c.data=J;r.add(t,A);u(t,A)}}};
C="";if(c.queryPlaceholderInUrl){var Q=encodeURIComponent(t.substr(0,1));C=c.url.replace(c.queryPlaceholderInUrl,Q)}if(c.dataType=="json"&&c.jsonPath!=null){var R=C===""?c.url:C;if(b.Autocompleter.requestDataLoading[R])b.Autocompleter.requestDataLoading[R].push(u);else if(b.Autocompleter.requestData[R])L(b.Autocompleter.requestData[R]);else{b.Autocompleter.requestDataLoading[R]=[u];u=function(){for(var J=0,A=b.Autocompleter.requestDataLoading[R].length;J<A;J++)b.Autocompleter.requestDataLoading[R][J].apply(this,
arguments);b.Autocompleter.requestDataLoading[R]=null};(odesk&&odesk.ajax||b.ajax)({dataType:"json",url:R,success:function(J){b.Autocompleter.requestData[R]=J;L(J);l.trigger("loaded",Q)},error:function(J){b.Autocompleter.requestDataLoading[R]=null;b.Autocompleter.requestData[R]={};if(J.status==404){z.emptyList();v(t);c.showNoResults&&y.show()}else i()}})}}else(odesk&&odesk.ajax||b.ajax)({mode:"abort",port:"autocomplete"+a.name,dataType:c.dataType,url:C===""?c.url:C,data:b.extend({q:g(t),limit:c.max},
H),success:function(J){L(J)}})}else{z.emptyList();v(t);c.showNoResults&&y.show()}}}function k(){(l.closest(".acInput").length?l.closest(".acInput"):l).removeClass(c.loadingClass)}var o={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},l=b(a).attr("autocomplete","off").addClass(c.inputClass);l.data("options",c);var q,p="",r=b.Autocompleter.Cache(c,l,e);l.data("cache",r);var s=0,n,w={mouseDownOnSelect:false},z=b.Autocompleter.Select(c,a,f,w);l.data("select",z);
var y=b.Autocompleter.NoResultsItem(c,a),F,K=true;b.Autocompleter.requestData=b.Autocompleter.requestData||{};b.Autocompleter.requestDataLoading=b.Autocompleter.requestDataLoading||{};b.browser.opera&&b(a.form).bind("submit.autocomplete",function(){if(F)return F=false});l.bind((b.browser.opera?"keypress":"keydown")+".autocomplete, keyup.autocomplete",function(t){s=1;n=t.keyCode;switch(t.keyCode){case o.UP:if(t.type=="keyup")return;t.preventDefault();z.visible()?z.prev():h(0,true);break;case o.DOWN:if(t.type==
"keyup")return;t.preventDefault();z.visible()?z.next():h(0,true);break;case o.PAGEUP:if(t.type=="keyup")return;t.preventDefault();z.visible()?z.pageUp():h(0,true);break;case o.PAGEDOWN:if(t.type=="keyup")return;t.preventDefault();z.visible()?z.pageDown():h(0,true);break;case c.multiple&&b.trim(c.multipleSeparator)==","&&o.COMMA:case o.TAB:case o.RETURN:if(t.keyCode==o.TAB&&t.shiftKey)return;if(t.type=="keyup")return;if(f()){t.preventDefault();F=true}else z.hide();break;case o.ESC:if(t.type=="keyup")return;
z.hide();c.showNoResults&&y.hide();break;default:h();break}}).focus(function(){s++}).blur(function(){s=0;if(!w.mouseDownOnSelect){clearTimeout(q);q=setTimeout(i,200);c.showNoResults&&y.hide()}}).click(function(){z.visible()||h(0,true)}).change(function(){h()}).bind("search",function(t,u){function v(x,C){var H;if(C&&C.length)for(var L=0;L<C.length;L++)if(C[L].result.toLowerCase()==x.toLowerCase()){H=C[L];break}typeof u=="function"?u(H):l.trigger("result",H&&[H.data,H.value])}b.each(e(l.val()),function(x,
C){m(C,v,v,true)})}).bind("flushCache",function(){r.flush()}).bind("setOptions",function(t,u){b.extend(c,u);"data"in u&&r.populate()}).bind("unautocomplete",function(){z.unbind();l.unbind();b(a.form).unbind(".autocomplete")}).bind("setMakeNewRequestFlag",function(t,u){K=u}).bind("setUrl",function(t,u){c.url=u})};b.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,
max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(a){return a[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",scroll:true,scrollHeight:180,highlight:function(a,c){return this.multipleWordSearch?a.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)(^| )("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1$2</strong>"):a.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,
"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},stripSpacesAfterWords:true,cacheable:false,multipleWordSearch:false,weighted:false,queryPlaceholderInUrl:null,appendItem:null,jsonPath:null,showNoResults:false};b.Autocompleter.Cache=function(a,c,f){function h(l,q){a.matchCase||(l=l.toLowerCase());var p=l.indexOf(q);if(a.matchContains=="word")p=l.toLowerCase().search("\\b"+q.toLowerCase());if(p==-1)return false;return p==0||a.matchContains}function e(l,q){o>a.cacheLength&&j();k[l]||o++;
k[l]=q}function g(l,q){var p=l.split(" ");if(typeof p[q]=="undefined")return null;return p[q].charAt(0).toLowerCase()}function i(){if(!a.data)return false;var l={},q=0;if(!a.url)a.cacheLength=1;l[""]=[];for(var p=0,r=a.data.length;p<r;p++){var s=a.data[p];s=typeof s=="string"?[s]:s;var n=a.formatMatch(s,p+1,r);if(n!==false){var w=n.charAt(0).toLowerCase(),z=1;do{l[w]||(l[w]=[]);var y={value:n,data:s,result:a.formatResult&&a.formatResult(s)||n};l[w].push(y);w=g(n,z++)}while(a.multipleWordSearch===
true&&w!=null);q++<a.max&&l[""].push(y)}}b.each(l,function(F,K){a.cacheLength++;e(F,K)})}function j(){k={};o=0}function m(l){l.sort(function(q,p){return p.weight-q.weight});return l}var k={},o=0;setTimeout(i,25);return{flush:j,add:e,populate:i,addAfterFlush:function(l,q){o>a.cacheLength&&j();k[l]||o++;for(var p=[],r=0,s=0;s<q.length;s++){var n=q[s].value;if(a.matchContains==true)p[r++]=q[s];else try{if(n.match(RegExp("(^| )"+l,"gi"))!==null)p[r++]=q[s]}catch(w){}}k[l]=p},load:function(l,q){if(!a.cacheLength||
!o)return null;var p,r,s;if(a.minChars<=1&&a.url&&q!=null?q:a.matchContains){var n=[];for(r in k)if(r.length>0){s=k[r];b.each(s,function(y,F){h(F.value,l)&&n.push(F)})}p=n}else if(k[l])p=a.weighted===true?m(k[l]):k[l];else if(a.matchSubset)for(r=l.length-1;r>=a.minChars;r--)if(s=k[l.substr(0,r)]){n=[];b.each(s,function(y,F){var K=h(F.value,l);if(!K&&a.multipleWordSearch)a:{K=F.value.split(" ");for(var t in K){word=K[t];if(h(word,l)){K=true;break a}}K=void 0}if(K)n[n.length]=F});p=a.weighted===true?
m(n):n}r=c.closest(".skills-widget, ul.acInput").add(c.next("ul.babelSkills"));var w={};if(c.data("values"))w=c.data("values");else if(r.length)r.find(".value").each(function(){w[this.innerHTML]=1});else{var z=f(c.val());r=0;for(s=z.length-1;r<s;r++)w[z[r]]=1}if(p&&!b.isEmptyObject(w)){p=b.extend(true,[],p);r=0;for(s=p.length;r<s;r++)if(w[p[r].value]){p.splice(r,1);r--;s--}}p&&p.sort(function(y,F){if(y.value==l)return-1;if(F.value==l)return 1;return 0});return p}}};b.Autocompleter.Select=function(a,
c,f,h){function e(){if(p){var n=document.body;if(a.appendItem!=null)n=a.appendItem;r=b("<div/>").hide().addClass(a.resultsClass).appendTo(n);if(a.initCss!=null)for(var w in a.initCss){n=a.initCss[w];r.css(n.css,n.value)}else r.css("position","absolute");var z;s=b("<ul />").appendTo(r).mouseover(function(y){if(g(y).nodeName&&g(y).nodeName.toUpperCase()=="LI"){o=b("li",s).removeClass(m.ACTIVE).index(g(y));b(g(y)).addClass(m.ACTIVE)}}).click(function(y){y=b(g(y));if(y.length){y.addClass(m.ACTIVE);c.focus();
f(z);return false}}).mousedown(function(y){y.preventDefault();z=b(c).selection().start});a.width>0&&r.css("width",a.width);p=false}}function g(n){for(n=n.target;n&&n.tagName!="LI";)n=n.parentNode;if(!n)return[];return n}function i(n){k.slice(o,o+1).removeClass(m.ACTIVE);o+=n;if(o<0)o=k.size()-1;else if(o>=k.size())o=0;n=k.slice(o,o+1).addClass(m.ACTIVE);if(a.scroll){var w=0;k.slice(0,o).each(function(){w+=this.offsetHeight});var z=s.data("jsp");if(w+n[0].offsetHeight-(z?z.getContentPositionY():s.scrollTop())>
s[0].clientHeight)z?z.scrollToY(w+n[0].offsetHeight-s.innerHeight()):s.scrollTop(w+n[0].offsetHeight-s.innerHeight());else if(w<(z?z.getContentPositionY():s.scrollTop()))z?z.scrollToY(w):s.scrollTop(w)}}function j(n){h.mouseDownOnSelect=!!b(n.target).closest("."+a.resultsClass+", ul.acInput").length}var m={ACTIVE:"ac_over"},k,o=-1,l,q="",p=true,r,s;return{display:function(n,w){e();l=n;q=w;s.empty();var z=a.max&&a.max<l.length?a.max:l.length;c.value.split(", ").pop();for(var y=0;y<z;y++)if(l[y]){var F=
a.formatItem(l[y].data,y+1,z,l[y].value,q);if(F!==false){F=b("<li/>").html(a.highlight(F,q)).addClass(y%2==0?"ac_even":"ac_odd").appendTo(s)[0];b.data(F,"ac_data",l[y])}}k=s.find("li");if(a.selectFirst){k.slice(0,1).addClass(m.ACTIVE);o=0}b.fn.bgiframe&&s.bgiframe();r.find("li").length||r.hide()},next:function(){i(1)},prev:function(){i(-1)},pageUp:function(){o!=0&&o-8<0?i(-o):i(-8)},pageDown:function(){o!=k.size()-1&&o+8>k.size()?i(k.size()-1-o):i(8)},hide:function(){r&&r.hide();k&&k.removeClass(m.ACTIVE);
o=-1;b(document).unbind("mousedown",j)},visible:function(){return r&&r.is(":visible")},current:function(){return this.visible()&&(k.filter("."+m.ACTIVE)[0]||a.selectFirst&&k[0])},show:function(){if(r.find("li").length){var n=b(c).closest("ul.acInput");n=n.length?n:b(c);var w=n.offset(),z=typeof a.width=="string"||a.width>0?a.width:n.width()+parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10);if(r.css("position")=="fixed"){var y=b(window);w.top-=y.scrollTop();w.left-=y.scrollLeft()}r.css({minWidth:z,
top:w.top+n[0].offsetHeight,left:w.left}).show();b.browser.msie&&b.browser.version==7&&r.css("width",z);if(a.scroll){s.scrollTop(0);s.css({maxHeight:a.scrollHeight,overflow:"auto"});if(b.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var F=0;k.each(function(){F+=this.offsetHeight});n=F>a.scrollHeight;s.css("height",n?a.scrollHeight:F);n||k.width(s.width()-parseInt(k.css("padding-left"),10)-parseInt(k.css("padding-right"),10))}}if(n=a.customScroll){s.data("jsp",null);s.jScrollPane(typeof n==
"object"?n:{})}b(document).bind("mousedown",j)}},selected:function(){var n=k&&k.filter("."+m.ACTIVE).removeClass(m.ACTIVE);return n&&n.length&&b.data(n[0],"ac_data")},emptyList:function(){s&&s.empty()},unbind:function(){r&&r.remove()}}};b.Autocompleter.NoResultsItem=function(a,c){var f,h,e;f=b("<div/>").hide().addClass(a.resultsClass).appendTo(document.body).css("position","absolute");h=b("<ul/>").appendTo(f);a.noResultsHtml?h.html(a.noResultsHtml):b("<li/>").addClass("ac_over").html("no results found").appendTo(h);
return{show:function(){if(!e){e=true;a.onNoResults&&a.onNoResults(b(c),a,h);a.noResultsHtml&&h.html(a.noResultsHtml);var g=b(c).closest("ul.acInput");g=g.length?g:b(c);var i=g.offset(),j=typeof a.width=="string"||a.width>0?a.width:g.width()+parseInt(g.css("padding-left"),10)+parseInt(g.css("padding-right"),10);f.css({minWidth:j,top:i.top+g[0].offsetHeight,left:i.left}).show();b.browser.msie&&b.browser.version==7&&f.css("width",j)}},hide:function(){e=false;a.onNoResultsHide&&a.onNoResultsHide(b(c),
a,h);f.hide()}}};b.fn.selection=function(a,c){if(a!==undefined)return this.each(function(){if(this.offsetWidth)if(this.createTextRange){var j=b(this).attr("maxlength");b(this).attr("maxlength",1E4);var m=this.createTextRange();if(c===undefined||a==c)m.move("character",a);else{m.collapse(true);m.moveStart("character",a);m.moveEnd("character",c)}m.select();b(this).attr("maxlength",j)}else if(this.setSelectionRange)this.setSelectionRange(a,c);else if(this.selectionStart){this.selectionStart=a;this.selectionEnd=
c}});var f=this[0];if(f.createTextRange){if(f!=document.activeElement)return{start:0,end:0};var h=this.attr("maxlength");this.attr("maxlength",1E4);var e=document.selection.createRange(),g=f.value,i=e.text.length;e.text="<->";e=f.value.indexOf("<->");f.value=g;this.selection(e,e+i);this.attr("maxlength",h);return{start:e,end:e+i}}else if(f.selectionStart!==undefined)return{start:f.selectionStart,end:f.selectionEnd}}})(jQuery);(function(b){b(document.body).delegate(".oBtn.isDisabled","click",function(a){a.preventDefault()})})(jQuery);(function(b){new odesk.Class("odesk.HelpTip","odesk.AbstractWidget",{name:null,$element:null,options:{isRebrand:false,helpTipTriggerSelector:".oHelpDot",contentSelector:function(){return b(this).html()},helpTipClass:"oHelpTip",backgroundColor:"white",borderColor:"#28b7ed",borderWidth:2,overlap:-10},init:function(a,c,f){this.name=a;this.$element=b(c);b.extend(this.options,f);a={cssClass:this.options.helpTipClass,overlap:this.options.overlap,keepAlive:true,contentSelector:this.options.contentSelector};
this.options.isRebrand&&b.extend(a,{fill:this.options.backgroundColor,strokeWidth:this.options.borderWidth,strokeStyle:this.options.borderColor});this.$element.find(this.options.helpTipTriggerSelector).obt(a)}});odesk.preLoadedWidgets.helpTip=new odesk.HelpTip("helpTip","body",{isRebrand:odesk.pageConfig.isRebrand})})(jQuery);(function(b){new odesk.Class("odesk.DateSelector","odesk.AbstractWidget",{options:{defaultDate:odesk.date.now(),beforeShowDay:function(){return[true,""]}},init:function(a,c,f){this.name=a;this.$element=b(c);b.extend(this.options,f);b.extend(this.events,odesk.events.makeMap(a,["select","show"]));var h;if(this.$element.is("input"))h=this.$element;else{this.$element.html('<span class="date-selector"><span class="icon previous">&nbsp;</span><a class="value"><input type="text" style="width:0;height:0;padding:0;border:none"></input><span class="name"></span><span class="icon calendar-icon">&nbsp;</span></a><span class="icon next">&nbsp;</span></span>');
this.$name=this.$element.find(".name");h=this.$element.find("input")}this.$input=h;var e=this;h.datepicker({showAnim:"fadeIn",firstDay:1,dateFormat:"M d, yy",defaultDate:odesk.date.utcToLocal(this.options.defaultDate),onSelect:b.proxy(this._select,this),dayNamesMin:b.datepicker.regional[""].dayNamesShort,showOtherMonths:true,selectOtherMonths:true,beforeShow:function(g,i){e.ctx.mediator&&e.ctx.mediator.publish(e.events.show,i);e.selected&&h.datepicker("setDate",odesk.date.utcToLocal(odesk.date.clone(e.selected)))},
beforeShowDay:b.proxy(this.options.beforeShowDay,this)});if(!h.val().length){this.select(this.options.defaultDate);h.datepicker("setDate",this.options.defaultDate)}odesk.pageConfig.isHtml5&&h.addClass("oField");this.$picker=h.data("datepicker").dpDiv.hide();this._addEvents()},_addEvents:function(){this.$element.find(".value").bind("click",b.proxy(this._show,this));this.$element.find(".previous").bind("click",b.proxy(this.selectPrevious,this));this.$element.find(".next").bind("click",b.proxy(this.selectNext,
this));this.$element.find(".previous, .next").bind("mousedown",function(a){a.preventDefault()})},_show:function(){this.$input.datepicker("show");return this},_select:function(a){return this.select(odesk.date.localToUtc(new Date(a)))},select:function(a){this.selected=a;this.$name&&this.$name.html(odesk.date.formatDate(a,"D, M d, yy"));this.ctx.mediator&&this.ctx.mediator.publish(this.events.select,a);return this},selectPrevious:function(a){if(a&&b(a.target).hasClass("disabled"))return this;odesk.date.inc(this.selected,
"-1d");return this.select(this.selected)},selectNext:function(a){if(a&&b(a.target).hasClass("disabled"))return this;odesk.date.inc(this.selected,"+1d");return this.select(this.selected)},disablePrevious:function(){this.$element.find(".previous").addClass("disabled")},disableNext:function(){this.$element.find(".next").addClass("disabled")},enablePrevious:function(){this.$element.find(".previous").removeClass("disabled")},enableNext:function(){this.$element.find(".next").removeClass("disabled")}})})(jQuery);odesk.templates.autoRelativeTime='<span class="autoRelativeTime" data-timestamp="${timestamp}u" data-time-format="${timeformat}"/></span>';(function(b){new odesk.Class("odesk.RelativeTime","odesk.AbstractWidget",{options:{selector:".jsAutoRelativeTime",addTitle:false},template:null,init:function(a,c,f){this.name=a;this.$element=b(c||"body");b.extend(this.options,f);this.process();this.template=b.template("widgetHtml",odesk.templates.autoRelativeTime)},process:function(){this.$element.find(this.options.selector).each(b.proxy(function(a,c){var f=b(c),h=odesk.date.sparse(f.data("timestamp")),e=odesk.date.format(h,f.data("time-format"));
f.html(e.replace(/\((.*)\)/,'<div class="oSupportInfo nowrap">$1</div>'));this.options.addTitle&&f.attr("title",odesk.date.format(h,"%W, %B %d, %Y at %h:%M%a"))},this))},getTemplate:function(){return this.template}})})(jQuery);(function(b){new odesk.Class("odesk.CancelLink","odesk.AbstractWidget",{name:null,$element:null,options:{defaultLink:""},init:function(a,c,f){this.name=a;this.$element=b(c);b.extend(true,this.options,f);this._assignHandlers()},_assignHandlers:function(){this.$element.bind("click",b.proxy(this._onCancelLinkClick,this));return this},_onCancelLinkClick:function(){var a=window.history,c=false;if(a.length>1){b(window).bind("beforeunload",function(){c=true});a.back();odesk.timers.add(1E3,b.proxy(function(){if(!c)window.location=
this.options.defaultLink},this))}else window.location=this.options.defaultLink;return false}})})(jQuery);(function(b){new odesk.Class("odesk.MultiStepSelected","odesk.AbstractWidget",{init:function(a,c,f){if(b(a).length){b(a).css("width",b(c).position().left+b(c).width()/2);b.browser.msie&&b(f).html("&bull;").css({background:"none","font-size":50,"font-family":"Arial","line-height":"14px"})}}});b("#multi-step-selected").length&&new odesk.MultiStepSelected("#multi-step-selected","#multi-step-current","#multi-step-container .circle")})(jQuery);(function(b){new odesk.Class("odesk.GlobalAlert",{init:function(a){this.$element=b(a);if(odesk.pageConfig.isHtml5)this.$element.find(".oBtnCloseLink").bind("click",b.proxy(this.close,this));else{a=b('<a href="#" id="boxlink_small" class="boxlink_small">Close</a>');this.$element.children("h2, h3").append(a);a.bind("click",b.proxy(this.close,this))}},close:function(a){a.preventDefault();odesk.pageConfig.isHtml5?b(a.target).closest("article").hide("slow"):this.$element.hide("slow")}});if(odesk.pageConfig.isHtml5)new odesk.GlobalAlert("#globalAlerts");
else b("#globalAlerts .dismissable").each(function(){new odesk.GlobalAlert(this)})})(jQuery);(function(b){new odesk.Class("odesk.MUA","odesk.AbstractWidget",{options:{dialogClass:"MUA {type}",dialog:{accept:"#MUAAccept",accepted:"#MUAAccepted",decline:"#MUADecline",declined:"#MUADeclineed",later:"#MUALater"},iframe:"#iframeContainer",warning:"#MUAWarning",review:".review",laterBtn:"#MUALaterButton",later:"#later",declineBtn:"#MUADeclineLink",acceptInput:'input[name="acceptType"]',disabled:"disabled",submitBtn:"#MUADeclineButton, #MUAAcceptButton",back:".MUABackLink",acceptTypeText:"small.acceptTypeText"},
html5Options:{dialogClass:"",iframe:".jsIframe",review:".oBtnPopup",laterBtn:".jsLater",later:".oBtn",declineBtn:".jsDecline",disabled:"isDisabled",submitBtn:".jsSubmit",back:".oBreadcrumbPrev"},init:function(a){b.extend(this.options,a);odesk.pageConfig.isHtml5&&b.extend(true,this.options,this.html5Options);a=b(this.options.warning);a.length?a.find(this.options.review).bind("click",b.proxy(this.showAcceptDialog,this)):this.showAcceptDialog()},_showDialog:function(a,c){var f=this.$dialog=b(this.options.dialog[a]);
if(f.parent().hasClass("ui-dialog"))f.dialog("open");else{f.dialog(b.extend(true,{dialogClass:odesk.string.substitute(this.options.dialogClass,{type:a}),modal:true,autoOpen:true,closeOnEscape:false,draggable:false,resizable:false,width:430,position:["center",50],close:b(this).dialog("destroy"),open:function(){a.toLowerCase()=="decline"&&b(this).prev().find(".ui-dialog-titlebar-close").remove()}},c));odesk.pageConfig.isHtml5?this._initForm(a):this._bindFormEvents(a)}return true},_sendRequest:function(a){var c=
odesk.pageConfig.MUA_VERSION,f=a=="ACCEPT";odesk.loading.show();odesk.ajax({url:odesk.env.API_ROOT+"tos/v1/terms/"+c+".json",dataType:"json",type:"post",data:{accept:f,type:"input",input:a},context:this,success:function(){odesk.loading.hide();this.$dialog.dialog("close");this.showResultDialog(a.toLowerCase()+"ed")},error:function(){odesk.loading.hide();this.showError(a,"Uh-oh. Our server is having issues. Please try again soon!")}})},_closeMUADone:function(){var a=window.location.href;a=a.replace(/(&mua=([a-z0-9])*(?=[&#\n])?)|(&mua(?=[&#\n])?)/ig,
"").replace(/(\?mua=([a-z0-9]*)?&)|(\?mua&)/i,"?").replace(/(\?mua=[a-z0-9]*(?=[\n#])?)|(\?mua(?=[\n#])?)|(#\n)/i,"");odesk.loading.show();window.location.href=a},showAcceptDialog:function(){if(!this._showDialog("accept"))return false;var a=this.$dialog;a.find(this.options.iframe).html('<iframe src="/w/legal/oDeskUserAgreementv2.html" class="oField">');a.parent().find("a.ui-dialog-titlebar-close").bind("click",b.proxy(this.showLaterDialog,this));a.find(this.options.laterBtn).bind("click",b.proxy(function(c){a.dialog("close");
this.showLaterDialog(c);return false},this));a.find(this.options.declineBtn).bind("click",b.proxy(function(c){c.preventDefault();a.dialog("close");return this.showDeclineDialog()},this))},showDeclineDialog:function(){this._showDialog("decline");this.$dialog.find(this.options.back).bind("click",b.proxy(function(a){a.preventDefault();this.$dialog.dialog("close");this._showDialog("accept");return false},this));return false},showResultDialog:function(a){this._showDialog(a,{close:this._closeMUADone});
setTimeout(this._closeMUADone,5E3);return false},showLaterDialog:function(a){a.preventDefault();this._showDialog("later",{close:this._closeMUADone});var c=this.$dialog;c.find(this.options.later).bind("click",function(f){f.preventDefault();c.dialog("close")});return false},_initForm:function(a){var c=this.$dialog.find("form");c.submit(b.proxy(function(h){h.preventDefault();c.valid()&&this._sendRequest(a);return false},this));this.$dialog.find(this.options.acceptInput).data("notValidateOnkeyup",true);
a=a.toUpperCase();var f="Please type '"+a+"'";c.oFormValidation({rules:{acceptType:{required:true,regExp:RegExp("^"+a+"$","i")}},messages:{acceptType:{required:f,regExp:f}}})},_bindFormEvents:function(a){a=a.toLowerCase();var c=this.$dialog,f=c.find("form");f.submit(b.proxy(function(g){g.preventDefault();this._checkInput(a.toUpperCase());return false},this));var h=c.find(this.options.submitBtn).bind("click",function(g){g.preventDefault();f.submit()}),e=c.find(this.options.acceptInput);e.bind("change keyup",
b.proxy(function(){if(b.trim(e.val()).toUpperCase()==a.toUpperCase()){h.removeClass(this.options.disabled);this.hideError(a.toUpperCase())}else h.addClass(this.options.disabled)},this))},_checkInput:function(a){b.trim(this.$dialog.find(this.options.acceptInput).val()).toUpperCase()==a.toUpperCase()?this._sendRequest(a):this.showError(a)},showError:function(a,c){var f=this.options.dialog[a.toLowerCase()],h=b(f).find(this.options.acceptTypeText);a=="DECLINE"&&h.html("Type the word DECLINE in the box below");
h.addClass("errorText");b(f).find(this.options.acceptInput).addClass("errorBlock");if(c){h.hide();b("#"+a+"_error").show().find("b").html(c)}else{b("#"+a+"_error").hide();h.show()}},hideError:function(a){var c=this.options.dialog[a.toLowerCase()];b(c).find(this.options.acceptTypeText).removeClass("errorText").show();b(c).find(this.options.acceptInput).removeClass("errorBlock");b("#"+a+"_error").hide()}});if(odesk.pageConfig.MUA_VERSION)odesk.mua=new odesk.MUA})(jQuery);(function(b){b.validator.addMethod("regExp",function(a,c,f){if(f instanceof RegExp){if(f.global||f.ignoreCase)f.lastIndex=0}else f=RegExp(f);return this.optional(c)||f.test(b.trim(a))},"Does not pass specified RegExp.")})(jQuery);(function(b){odesk.smf=function(){return{init:function(){var a=this;odesk.pageConfig.isHtml5?b("#smf").find(".oBtnCloseSmall").bind("click",function(c){c.preventDefault();c=b(this).closest("article");var f=c.data("id");if(f){c.fadeOut("fast");a.dismiss(f)}}):b("#smf_top").find(".dismiss").bind("click",function(){var c=b(this),f=c.data("id");if(f){c.closest("ul").fadeOut("fast");a.dismiss(f)}})},dismiss:function(a){odesk.ajax({url:odesk.env.API_ROOT+"smf/v1/dismiss/"+a+".json",type:"post",dataType:"json",
data:{http_method:"put"}});return this},exists:function(a){return odesk.pageConfig.isHtml5?!!odesk.pageConfig.smf[a]:!!b('#smf_top > div.smf_custom[data-location="'+a+'"]').length},get:function(a){var c={id:0,content:""};if(odesk.pageConfig.isHtml5)b.extend(c,odesk.pageConfig.smf[a]);else{a=b('#smf_top > div.smf_custom[data-location="'+a+'"]');if(!a.length)return c;c.id=a.children("a.dismiss").data("id");c.content=a.children("div").html()}return c}}}();odesk.smf.init()})(jQuery);if(odesk.pageConfig&&odesk.pageConfig.AUSER)odesk.launchbar=new odesk.Launchbar(odesk.pageConfig.isHtml5?'header[role="banner"]':".navigation",{uid:odesk.pageConfig.AUSER.uid,helpcms:odesk.env.HELPCMS_ROOT,cookie:{name:odesk.env.COOKIE_PREFIX+"mc_unread."+odesk.pageConfig.AUSER.uid,options:{domain:odesk.env.COOKIE_DOMAIN}}});new odesk.SimpleCompanySelector(odesk.pageConfig.isHtml5?"#simpleCompanySelector":"#simple-company-selector",{cookie:{domain:odesk.env.COOKIE_DOMAIN,prefix:odesk.env.COOKIE_PREFIX}});(function(b){new odesk.Class("odesk.Epitome",{options:{hoverIntentOpts:{interval:100,timeout:0},width:380,strokeStyle:"#406298",fill:"#fff",cornerRadius:0,spikeLength:10,shadow:true,shadowOffsetX:4,shadowOffsetY:4,shadowBlur:4,shadowColor:"rgba(0,0,0,.7)",vertical:30},init:function(a){a=this.$element=b(a);if(a.is("img"))this.options.overlap=0;else this.options.atMouse=true;var c=a.attr("user-id");if(c){b.extend(this.options,{hoverIntentOpts:{interval:750}});c=b("#contractor-epitome-content-"+c).html();
a.obt(c,this.options)}else{var f=a.data("portrait"),h=decodeURIComponent(a.data("key")).match(/(~(~|\d)\w+)/)[1];c=a.data("use-v3");f="/users/epitome/key/"+h+"/portrait/"+f;if(c)f+="/useV3/true";b.extend(this.options,{ajaxPath:f,ajaxPrefetchOffset:650,ajaxLoading:"",ajaxError:""});a.obt(this.options)}}});b(odesk.pageConfig.isHtml5?".jsEpitome":".contractor_epitome").each(function(){new odesk.Epitome(this)})})(jQuery);(function(b){new odesk.Class("odesk.Rate","odesk.AbstractWidget",{options:{widgetSelector:".rate-content",widgetTypeSelector:".contractor",yourRowSelector:".your",theirRowSelector:".their",feeRowSelector:".odesk",inputRowSelector:".rate-content > div",inputCellSelector:".rate",inputSelector:"input",rentPercentContainerSelector:"span.rentPercent",rateValueTextSelector:".value",activeRowClassName:"input"},html5Options:{widgetSelector:".oRateTable",widgetTypeSelector:".payCharge",yourRowSelector:".jsYour",
theirRowSelector:".jsTheir",feeRowSelector:".jsOdesk",inputRowSelector:".jsInputRow",inputCellSelector:".jsInputCell",inputSelector:"input.jsTextInput",rentPercentContainerSelector:".jsRentPercent",rateValueTextSelector:".value",activeRowClassName:"isActive"},init:function(a){odesk.pageConfig.isHtml5&&b.extend(true,this.options,this.html5Options);a=this.$element=b(a);this.type=a.find(this.options.widgetTypeSelector).length?"contractor":"employer";this.$contractor=a.find(this.options.widgetSelector+
" "+(this.type=="contractor"?this.options.yourRowSelector:this.options.theirRowSelector));this.$employer=a.find(this.options.widgetSelector+" "+(this.type=="contractor"?this.options.theirRowSelector:this.options.yourRowSelector));this.$contractorInput=this.$contractor.find(this.options.inputSelector);this.$employerInput=this.$employer.find(this.options.inputSelector);this.$input=null;this._update(a.find(this.options.widgetSelector+" "+this.options.yourRowSelector+" "+this.options.inputSelector));
this._addEvents()},_addEvents:function(){var a=this.$element;a.find(this.options.inputCellSelector).bind("touchstart",b.proxy(this._mousedown,this));a.find(this.options.inputRowSelector).bind("touchend",b.proxy(this._mouseup,this));a.find(this.options.inputCellSelector).bind("mousedown",b.proxy(this._mousedown,this));a.find(this.options.inputRowSelector).bind("mouseup",b.proxy(this._mouseup,this));a.find(this.options.widgetSelector+" "+this.options.inputSelector).bind("keyup",b.proxy(this._change,
this)).bind("blur",b.proxy(this._blur,this)).bind("focus",b.proxy(this._focus,this))},setContractorRate:function(a){var c=odesk.math.feesFromCost(a,this.getRentPercent()),f=a+c;this._setRate(this._format(a),this._format(f),this._format(c))},setEmployerRate:function(a){var c=odesk.math.feesFromCharge(a,this.getRentPercent());this._setRate(this._format(a-c),this._format(a),this._format(c))},getRentPercent:function(){var a=b(this.options.rentPercentContainerSelector).text();return a!==""?parseFloat(a,
10):null},_setRate:function(a,c,f){if(!this.$input||this.$input[0]!=this.$contractorInput[0])this.$contractorInput.val(a);this.$contractor.find(this.options.rateValueTextSelector).html(a);if(!this.$input||this.$input[0]!=this.$employerInput[0])this.$employerInput.val(c);this.$employer.find(this.options.rateValueTextSelector).html(c);this.$element.find(this.options.feeRowSelector+" "+this.options.rateValueTextSelector).html(f)},_mousedown:function(a){a=b(a.target).closest(this.options.inputCellSelector);
if(!(a.closest("."+this.options.activeRowClassName).length||!(a.is("input")||a.find("input").length))){this.$contractor.toggleClass(this.options.activeRowClassName);this.$employer.toggleClass(this.options.activeRowClassName);this.$input=a.find("input").select()}},_mouseup:function(a){a=b(a.target);a.is("input")?a.select():a.find("input").select()},_change:function(a){a=a.target;this.$input=b(a);this._update(a)},_blur:function(a){this.$input=null;var c=a.target,f;setTimeout(b.proxy(function(){f=b(c).is(this.$contractorInput)?
this.$employerInput:this.$contractorInput;f.data("isFocused")||b(c).trigger("focusin").trigger("focusout")},this),100);b(c).data("isFocused",false);this._update(c)},_focus:function(a){a=a.target;a.select();b(a).data("isFocused",true);b(a).trigger("focusout").trigger("focusin")},_update:function(a){a=b(a);var c=parseFloat(a.val());if(isNaN(c))c=0;a.is(this.$contractorInput)?this.setContractorRate(c):this.setEmployerRate(c);a.trigger("change.rate")},_format:function(a){return Number(a).toFixed(2)}});
b(".rate-widget").each(function(){new odesk.Rate(this)})})(jQuery);odesk.templates.hoverOver='<div class="skillBt"><p>${skillText} {{if skillUrl}}<a href="${skillUrl}" target="_blank">${skillShortUrl}</a>{{/if}}</p><hr/><table><tr><td class="first">Jobs: <a href="/jobs/skill/${skill}" target="_blank">${jobsCount}</a> &nbsp;</td><td> | Contractors: <a href="/contractors/skill/${skill}" target="_blank">${contractosCount}</a></td></tr></table></div>';odesk.templates.html5hoverOver='<div><article class="oSmall oDividerBottom">${skillText} {{if skillUrl}}<a href="${skillUrl}" target="_blank">${skillShortUrl}</a>{{/if}}</article><ul class="oDividerList"><li>Jobs: <a href="/jobs/skill/${skill}" target="_blank">${jobsCount}</a>&nbsp;</li><li>&nbsp;Contractors: <a href="/contractors/skill/${skill}" target="_blank">${contractosCount}</a></li></ul></div>';(function(b){new odesk.Class("odesk.HoverOver","odesk.AbstractWidget",{options:{fill:"white",cssStyles:{fontSize:"11px"},padding:8,strokeStyle:"#53556E",hoverIntentOpts:{interval:500,timeout:0},cssClass:odesk.pageConfig.isHtml5?"oHoverPopUp":"skillBtHover",closeWhenOthersOpen:true,activeClass:odesk.pageConfig.isHtml5?"isHovered":"skillsObt",cornerRadius:6,keepAlive:true,positions:["bottom","top"],bannedCharacters:["/"," "],skillSelector:false,align:"left",spikeLength:7,spikeGirth:10},init:function(a,
c){b.extend(this.options,c);b.template("hoverOver",odesk.templates.hoverOver);b.template("html5hoverOver",odesk.templates.html5hoverOver);b(a).live("mouseover",b.proxy(this,"_initObt"))},_initObt:function(a){var c=this,f=b(a.currentTarget).attr("title","");if(!f.data("obt")){var h=this.options.skillSelector?f.children(this.options.skillSelector).html():f.html();a=c.options.bannedCharacters.length;for(var e=0;e<a;e++)if(h.indexOf(c.options.bannedCharacters[e])!==-1)return;a=b.extend(false,{ajaxPath:odesk.env.API_ROOT+
"profiles/v1/metadata/skills/"+encodeURIComponent(h.toLowerCase())+".json",ajaxOpts:{complete:function(g,i){if(i=="success"||i=="notmodified"){var j=b.parseJSON(g.responseText);if(!j.skill||!j.skill.description&&!j.skill.external_link)f.obtOff();else{j={skill:h,skillUrl:c._isUrl(j.skill.external_link)?j.skill.external_link:false,skillShortUrl:c._isUrl(j.skill.external_link)?c._getDomainFromUrl(j.skill.external_link):false,skillText:j.skill.description,jobsCount:odesk.string.groupDigits(j.skill.num_jobs),
contractosCount:odesk.string.groupDigits(j.skill.num_contractors)};var m="";m=odesk.pageConfig.isHtml5?b.tmpl("html5hoverOver",j).html():b.tmpl("hoverOver",j).html();f.obtSetContent(m);f.hasClass("bt-active")&&f.obtOff().obtOn()}}}}},this.options);f.obt(a).mouseover()}},_isUrl:function(a){if(!a||!this._getDomainFromUrl(a))return false;return true},_getDomainFromUrl:function(a){var c=/\:\/\/([^\/]+)/i;if(!c.test(a))return false;a=a.match(c)[1].toString();var f=a.indexOf(".");if(f>0){c=a.lastIndexOf(".");
if(f<c){f=a.length-1-c;c=a.lastIndexOf(".",c-1);c=f===3?c:a.lastIndexOf(".",c-1);return a.substr(c+1)}}}});if(odesk.pageConfig.isHtml5)new odesk.HoverOver(".oTag");else new odesk.HoverOver(".obtSkill");new odesk.HoverOver(".oBabelTags li.item",{skillSelector:"span.value"})})(jQuery);(function(b){new odesk.Class("odesk.TipsBox","odesk.AbstractWidget",{options:{byot:0,tipBox:"#tips",tips:"#tips > div",tipsCount:"#tipsCount",defTip:".defaultTip",prev:"#previousTip",next:"#nextTip",close:"a.close"},html5Options:{tipBox:".oTips",tips:".oTips > div",tipsCount:".oTipsCount",prev:".oTipsPrev",next:".oTipsNext"},init:function(a,c){odesk.pageConfig.isHtml5&&b.extend(this.options,this.html5Options);this.$element=b(a);b.extend(this.options,c);this._render()._addEvents()},_render:function(){this.$tips=
b(odesk.array.shuffle(this.$element.find(this.options.tips).get()));this.$tips.filter(this.options.defTip).addClass("active").length||this.$tips.first().addClass("active");this.$element.find(this.options.tipBox).html(this.$tips).end().find(this.options.tipsCount).text(this.$tips.length+" tips");return this},_addEvents:function(){this.$element.delegate(this.options.close,"click",b.proxy(this._close,this)).delegate(this.options.next,"click",b.proxy(this._next,this)).delegate(this.options.prev,"click",
b.proxy(this._prev,this))},_prev:function(){this.$tips.filter(".active").removeClass("active").prev().addClass("active").length||this.$tips.last().addClass("active");return false},_next:function(){this.$tips.filter(".active").removeClass("active").next().addClass("active").length||this.$tips.first().addClass("active");return false},_close:function(a){a=b(a.currentTarget).attr("data-page");var c=odesk.env.COOKIE_DOMAIN,f=odesk.env.COOKIE_PREFIX;this.$element.hide("fast");this.options.byot&&b.cookie(f+
a+"-byot_HideTipsBox",true,{domain:c,path:"/",expires:365});b.cookie(f+a+"_HideTipsBox",true,{domain:c,path:"/",expires:365});return false}})})(jQuery);(function(b){new odesk.Class("odesk.ModalDialog","odesk.AbstractWidget",{options:{autoOpen:false,modal:true,resizable:false,width:500,minHeight:100,dialogClass:"modalDialog",onOpen:b.noop,onClose:b.noop},init:function(a,c){this.$element=b(a);var f=this;b.extend(this.options,c,{open:function(h,e){f.options.onOpen.call(f,f,h,e)},close:function(h,e){f.options.onClose.call(f,f,h,e)}});this._configureDialog();this._addDialogMethods();this._addEvents()},_configureDialog:function(){this.$element.dialog(this.options)},
_addDialogMethods:function(){var a=this,c=this.$element.data("dialog"),f=function(e){a[e]=function(){a.$element.dialog(e,arguments)}};for(var h in c)c[h]instanceof Function&&!/^_/.test(h)&&f(h)},_addEvents:function(){this.$element.closest("."+this.options.dialogClass).find("a.ui-dialog-titlebar-close").unbind("mouseenter mouseleave");this.$openButton=b(this.options.openDialogSelector).bind("click",b.proxy(this._openButtonClick,this))},_openButtonClick:function(){this.open();return false}})})(jQuery);(function(b){new odesk.Class("odesk.CustomSelector","odesk.AbstractWidget",{options:{className:"customSelectorWidget",allOptionText:"All",allOptionId:"All",includeAllOption:true,noItemsText:"Nothing to select",sort:false,storage:{enabled:false,name:"",serverData:false},onSelect:b.noop},init:function(a,c,f){this.name=a;b.extend(true,this.options,f);if(odesk.pageConfig.isHtml5){this.$element=b(c);this.$select=b("<select></select>").appendTo(this.$element).hide();this.$display=b('<span class="oMute"></span>').appendTo(this.$element)}else{this.$element=
b(c).append('<span class="'+this.options.className+'"><div class="display"></div><ul></ul></span>');this.$selector=this.$element.children();this.$display=this.$element.find(".display");this.$menu=this.$element.find("ul")}b.extend(this.events,odesk.events.makeMap(this.name,["change"]));if(this.options.storage.enabled)this.storage=odesk.persistentStorage;this.selected={id:this.options.id};if(odesk.pageConfig.isHtml5)this._initSelect();else{this._initMenu();this._addEvents()}},_initSelect:function(){this.$select.bind("change",
b.proxy(this._onChange,this))},_initMenu:function(){this.menu=new odesk.Menu("menu",this.$menu);this.registerWidget("menu",this.menu);var a=this;this.subscribe(this.menu.events.change,function(c,f){a._select(f)})},_addEvents:function(){this.$selector.bind("mousedown",b.proxy(this._onMousedown,this));this.$display.click(false)},_onMousedown:function(){this.$selector.hasClass("disabled")||this.$menu.children("li").length<=1||this.menu.show()},select:function(a){this.menu.clearSelection();a=this.$menu.find('[data-id="'+
unescape(a)+'"]').addClass("selected");a.length&&this.menu.select(a);return this},selectWithId:function(a){return this.select(a)},populate:function(a){this.options.sort&&this._sort(a);if(odesk.pageConfig.isHtml5){a=this._createHtml(a);this.$select.append(a);if(a=this.$select.find("option").length){this.$select.show();this.$select.prop("disabled",a==1);this.$display.text("")}else{this.$select.hide();this.$display.text(this.options.noItemsText)}}else{a=this._createHtml(a);this.$menu.html(a);a||this.$display.text(this.options.noItemsText);
this.$selector.removeClass("disabled");a=this.$menu.find("li").length;a<=1&&this.$selector.addClass("disabled");a&&this.menu.select(this._getSelected())}return this},isDisabled:function(){return this.$selector.hasClass("disabled")},enable:function(){this.items&&this.items.length>1&&this.$selector.removeClass("disabled")},disable:function(){this.$selector.addClass("disabled")},isHidden:function(){return this.$element.is(":hidden")},show:function(){this.$element.show()},hide:function(){this.$element.hide()},
_sort:function(a){a.sort(function(c,f){return c.name.toLowerCase()>f.name.toLowerCase()?1:-1})},_getSelected:function(){var a=this.$menu.find(".selected");if(!a.length&&this.items&&this.items.length)a=this.menu.goFirst().$current;return a},getSelected:function(){var a=this._getSelected();return a.length?{id:a.attr("data-id"),name:a.html()}:null},_createHtml:function(a){var c="",f=0;this.items=a;for(var h=this.options.id||this.storage&&this.storage.get(this.options.storage.name,this.options.storage.serverData?
odesk.storageManager.cnst().SERVER_DATA:null),e=0,g=a.length;e<g;e++){var i=a[e];if(!i.hidden){f++;c+=odesk.pageConfig.isHtml5?'<option value="'+i.id+'"'+(h===i.id?' selected="selected"':"")+">"+i.name+"</option>":'<li data-id="'+i.id+'" class="'+(i.className||"")+(h===i.id?" selected":"")+'">'+i.name+"</li>"}}if(f>1&&this.options.includeAllOption)c=odesk.pageConfig.isHtml5?'<option value="'+this.options.allOptionId+'"'+(h===this.options.allOptionId?'selected="selected"':"")+">"+this.options.allOptionText+
"</option>"+c:'<li data-id="'+this.options.allOptionId+'" class="'+(h===this.options.allOptionId?"selected":"")+'">'+this.options.allOptionText+"</li>"+c;return c},_setDisplay:function(a){this.$display.html(a.html())},_select:function(a){var c=this.selected.id,f=a.attr("data-id"),h=null,e=false;if(f==this.options.allOptionId){e=true;f=0}else for(var g=0,i=this.items.length;g<i;g++){var j=this.items[g];if(j.id==f){h=j;break}}this.selected={item:h,allOptionSelected:e,id:f};this._setDisplay(a);if(this.storage)this.storage.set(this.options.storage.name,
this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);this.ctx.mediator.publish(this.events.change,this.selected);c!=this.selected.id&&this.options.onSelect(this.selected.item)},_onChange:function(){var a=this.$select.val();this.selected={allOptionSelected:a==this.options.allOptionId,id:a};if(this.storage)this.storage.set(this.options.storage.name,a,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);this.ctx.mediator.publish(this.events.change,
this.selected)}});b.extend(true,odesk.CustomSelector.prototype,odesk.mediator)})(jQuery);(function(b){odesk.HeaderTeamSelector=function(){return{init:function(){var a=b("#teamSelector").html("");if(a.length){var c=b.parseJSON(b("#teamSelectorData").html());if(c){c.sort(function(f,h){if(f.parent>h.parent)return 1;if(f.parent<h.parent)return-1;if(f.id==f.parent)return-1;if(h.id==h.parent)return 1;return f.name.toLowerCase()>h.name.toLowerCase()?1:-1});(new odesk.CustomSelector("teamSelector",a,{includeAllOption:false,id:a.attr("data-id"),onSelect:function(f){odesk.loading.show("Please wait...",
true);location.href=f.href}})).populate(c)}}}}}();odesk.HeaderTeamSelector.init()})(jQuery);(function(b){odesk.MCNotify={options:{initialDelay:9E5,maxAttempts:11,url:"/api/mc/v1/trays.json"},init:function(){if(!(!odesk.pageConfig.AUSER||!odesk.pageConfig.AUSER.uid||b(".navigation.v2").length)){this.options=b.extend(this.options,{cookie:odesk.env.COOKIE_PREFIX+"mc_unread."+odesk.pageConfig.AUSER.uid});var a=b.cookie(this.options.cookie);a?this.update(this.encodeCookie(a)):this.load();this.refineTimer(this.options.initialDelay);this.curAttemptCount=0;odesk.logger.say("Oj3/MCNotify: init")}},
refineTimer:function(a){this.timer&&clearTimeout(this.timer);if(a===false){this.currentDelay=false;this.timer=null}else this.timer=setTimeout(b.proxy(this.load,this),this.currentDelay=a)},load:function(){var a=b.cookie(this.options.cookie);if(a){this.update(this.encodeCookie(a));this.refineTimer(this.currentDelay)}else{b.cookie(this.options.cookie,"",{domain:odesk.env.COOKIE_DOMAIN,path:"/",expires:this.options.initialDelay/864E5});var c=this;odesk.ajax({url:this.options.url,success:function(f){if(c.currentDelay!=
c.options.initialDelay){c.curAttemptCount=0;odesk.logger&&odesk.logger.say("Oj3/MCNotify: reset timer to default",c.options.initialDelay)}c.refineTimer(c.options.initialDelay);f=f.trays;for(var h={},e=0,g=f.length;e<g;e++)h[f[e].type]=parseInt(f[e].unread,10);c.update(h);b.cookie(c.options.cookie,c.decodeCookie(h),{domain:odesk.env.COOKIE_DOMAIN,path:"/",expires:c.options.initialDelay/864E5})},error:function(f){switch(f.status){case 503:c.options.maxAttempts>c.curAttemptCount&&c.curAttemptCount++;
f=500*Math.pow(2,c.curAttemptCount-1);var h=Math.round(Math.random()*f);c.refineTimer(h);odesk.logger.say("Oj3/MCNotify: backOff timer to ",{to:h,max:f,att:c.curAttemptCount});break}}})}},encodeCookie:function(a){a=a.split(",");for(var c={},f=0,h=a.length;f<h;f++){var e=a[f];if(e)c[e.split("=")[0]]=parseInt(e.split("=")[1],10)}return c},decodeCookie:function(a){var c="";for(var f in a)c+=f+"="+a[f]+",";return c},update:function(a){var c=0;for(var f in a){var h=a[f],e=b("#logline .tray-"+f);if(e.length){c+=
h;e.find("span").remove();if(h){e.removeClass("font_normal");e.append("<span> ("+h+")</span>")}else e.addClass("font_normal")}}a=b("#messages-badge");if(c){a.css("display","inline").html(c);a.prev().css("font-weight","bold")}else{a.css("display","none");a.prev().css("font-weight","normal")}}};odesk.MCNotify.init()})(jQuery);(function(b){b("#menu-head_profile_link").after('<span class="icon arrow_down">&nbsp;&nbsp;</span>');b(".navigation li a").Tooltip({track:true,delay:500,showURL:false,showBody:" - ",fade:250})})(jQuery);(function(b){new odesk.Class("odesk.CustomSelector","odesk.AbstractWidget",{options:{className:"customSelectorWidget",allOptionText:"All",allOptionId:"All",includeAllOption:true,noItemsText:"Nothing to select",sort:false,storage:{enabled:false,name:"",serverData:false},onSelect:b.noop},init:function(a,c,f){this.name=a;b.extend(true,this.options,f);if(odesk.pageConfig.isHtml5){this.$element=b(c);this.$select=b("<select></select>").appendTo(this.$element).hide();this.$display=b('<span class="oMute"></span>').appendTo(this.$element)}else{this.$element=
b(c).append('<span class="'+this.options.className+'"><div class="display"></div><ul></ul></span>');this.$selector=this.$element.children();this.$display=this.$element.find(".display");this.$menu=this.$element.find("ul")}b.extend(this.events,odesk.events.makeMap(this.name,["change"]));if(this.options.storage.enabled)this.storage=odesk.persistentStorage;this.selected={id:this.options.id};if(odesk.pageConfig.isHtml5)this._initSelect();else{this._initMenu();this._addEvents()}},_initSelect:function(){this.$select.bind("change",
b.proxy(this._onChange,this))},_initMenu:function(){this.menu=new odesk.Menu("menu",this.$menu);this.registerWidget("menu",this.menu);var a=this;this.subscribe(this.menu.events.change,function(c,f){a._select(f)})},_addEvents:function(){this.$selector.bind("mousedown",b.proxy(this._onMousedown,this));this.$display.click(false)},_onMousedown:function(){this.$selector.hasClass("disabled")||this.$menu.children("li").length<=1||this.menu.show()},select:function(a){this.menu.clearSelection();a=this.$menu.find('[data-id="'+
unescape(a)+'"]').addClass("selected");a.length&&this.menu.select(a);return this},selectWithId:function(a){return this.select(a)},populate:function(a){this.options.sort&&this._sort(a);if(odesk.pageConfig.isHtml5){a=this._createHtml(a);this.$select.append(a);if(a=this.$select.find("option").length){this.$select.show();this.$select.prop("disabled",a==1);this.$display.text("")}else{this.$select.hide();this.$display.text(this.options.noItemsText)}}else{a=this._createHtml(a);this.$menu.html(a);a||this.$display.text(this.options.noItemsText);
this.$selector.removeClass("disabled");a=this.$menu.find("li").length;a<=1&&this.$selector.addClass("disabled");a&&this.menu.select(this._getSelected())}return this},isDisabled:function(){return this.$selector.hasClass("disabled")},enable:function(){this.items&&this.items.length>1&&this.$selector.removeClass("disabled")},disable:function(){this.$selector.addClass("disabled")},isHidden:function(){return this.$element.is(":hidden")},show:function(){this.$element.show()},hide:function(){this.$element.hide()},
_sort:function(a){a.sort(function(c,f){return c.name.toLowerCase()>f.name.toLowerCase()?1:-1})},_getSelected:function(){var a=this.$menu.find(".selected");if(!a.length&&this.items&&this.items.length)a=this.menu.goFirst().$current;return a},getSelected:function(){var a=this._getSelected();return a.length?{id:a.attr("data-id"),name:a.html()}:null},_createHtml:function(a){var c="",f=0;this.items=a;for(var h=this.options.id||this.storage&&this.storage.get(this.options.storage.name,this.options.storage.serverData?
odesk.storageManager.cnst().SERVER_DATA:null),e=0,g=a.length;e<g;e++){var i=a[e];if(!i.hidden){f++;c+=odesk.pageConfig.isHtml5?'<option value="'+i.id+'"'+(h===i.id?' selected="selected"':"")+">"+i.name+"</option>":'<li data-id="'+i.id+'" class="'+(i.className||"")+(h===i.id?" selected":"")+'">'+i.name+"</li>"}}if(f>1&&this.options.includeAllOption)c=odesk.pageConfig.isHtml5?'<option value="'+this.options.allOptionId+'"'+(h===this.options.allOptionId?'selected="selected"':"")+">"+this.options.allOptionText+
"</option>"+c:'<li data-id="'+this.options.allOptionId+'" class="'+(h===this.options.allOptionId?"selected":"")+'">'+this.options.allOptionText+"</li>"+c;return c},_setDisplay:function(a){this.$display.html(a.html())},_select:function(a){var c=this.selected.id,f=a.attr("data-id"),h=null,e=false;if(f==this.options.allOptionId){e=true;f=0}else for(var g=0,i=this.items.length;g<i;g++){var j=this.items[g];if(j.id==f){h=j;break}}this.selected={item:h,allOptionSelected:e,id:f};this._setDisplay(a);if(this.storage)this.storage.set(this.options.storage.name,
this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);this.ctx.mediator.publish(this.events.change,this.selected);c!=this.selected.id&&this.options.onSelect(this.selected.item)},_onChange:function(){var a=this.$select.val();this.selected={allOptionSelected:a==this.options.allOptionId,id:a};if(this.storage)this.storage.set(this.options.storage.name,a,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);this.ctx.mediator.publish(this.events.change,
this.selected)}});b.extend(true,odesk.CustomSelector.prototype,odesk.mediator)})(jQuery);(function(b){new odesk.Class("odesk.CompanySelector","odesk.CustomSelector",{options:{showMe:false,storage:{name:"company_reference"}},init:function(a,c,f,h){this._super(a,c,f);b.extend(this,h);this.populate()},_getSelected:function(){var a=this.$menu.find(".selected");if(!a.length){if(this.storage){var c=this.storage.get(this.options.storage.name,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);if(c)a=this.$menu.find('[data-reference="'+c+'"]')}a.length||(a=this.$element.find("li:first"))}return a},
_createHtml:function(){var a="",c=0;if(this.options.showMe&&this.authUser){c++;a+='<li class="company me'+(this.selected.meSelected?" selected":"")+'">'+this.authUser.name+" (Me)</li>"}for(var f=0,h=this.companies.length;f<h;f++){var e=this.companies[f];if(!e.hidden&&e.name&&b.trim(e.name).length){c++;a+='<li data-reference="'+e.reference+'" data-id="'+e.id+'" class="company';if(!this.options.meSelected&&(this.options.reference==e.reference||this.options.id==e.id))a+=" selected";a+='">'+e.name+"</li>"}}return a},
_select:function(){var a=this.$element.find(".selected");this.selected={};var c=a.data("reference"),f=a.data("id"),h,e=this.options.showMe&&a.hasClass("me")&&this.authUser;if(e){h=this.authUser;c=this.authUser.reference;f=this.authUser.id}else for(var g=0,i=this.companies.length;g<i;g++){var j=this.companies[g];if(j.reference==c){h=j;break}}this.selected={item:h,meSelected:e,reference:c,id:f};this.$display.text(a.text());if(this.storage)this.storage.set(this.options.storage.name,e?null:this.selected.reference,
this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);this.ctx.mediator&&this.ctx.mediator.publish(this.events.change,this.selected)}})})(jQuery);(function(b){odesk.SignupEmail={init:function(){this._initDialog();this._addEvents();this._showNotification()},_showNotification:function(){var a=odesk.storageManager.proxy(odesk.storageManager.cnst().SESSION,"signupEmail");if(a.get("emailVerifiedNotificaiton",odesk.storageManager.cnst().SERVER_DATA)!==null){odesk.loading.show("Email Verified");setTimeout(function(){odesk.loading.hide()},3E3);a.kill("emailVerifiedNotification",odesk.storageManager.cnst().SERVER_DATA)}},_initDialog:function(){b("#verifyBox").dialog({width:450,
modal:true,autoOpen:false,resizable:false,title:'<span class="iconInfo">&nbsp;</span>Having trouble verifying your email?'})},_addEvents:function(){b("#resendEmail").bind("click",this.resendEmail);b("#howtoverify").bind("click",function(){b("#verifyBox").dialog("open");return false});b("#verifyBoxClose").bind("click",function(){b("#verifyBox").dialog("close");return false})},resendEmail:function(){b("#verifyBox").dialog("close");var a=b("#userEmail").val(),c,f;if(b("#widgetSignupEmailVerify").length>
0){c=b("#widgetSignupEmailVerify");f='<ul class="alertBox medium"><li>%s</li></ul>'}else{c=b("div.subHeader");f="%s"}c.html(f.replace("%s","Sending..."));odesk.ajax({url:odesk.env.API_ROOT+"registration/v1/users/"+odesk.pageConfig.AUSER.uid+"/verifyemail.json",success:function(){c.html(f.replace("%s","The confirmation message was re-sent to "+a))}})}};odesk.SignupEmail.init()})(jQuery);(function(b){b(".helpTip").live("mouseover",function(){var a=b(this);a.data("obt")||a.obt({cssClass:"helpBalloon",activeClass:"js_btActive",keepAlive:a.hasClass("withLink")}).mouseover()})})(jQuery);
